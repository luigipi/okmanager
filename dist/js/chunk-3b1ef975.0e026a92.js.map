{"version":3,"sources":["webpack:///./node_modules/bootstrap-vue/esm/components/spinner/spinner.js","webpack:///./node_modules/bootstrap-vue/esm/utils/css-escape.js","webpack:///./node_modules/bootstrap-vue/esm/mixins/form-selection.js","webpack:///./node_modules/bootstrap-vue/esm/icons/icon.js","webpack:///./src/views/apps/support/EditTicket.vue?bed4","webpack:///./node_modules/laravel-echo/dist/echo.js","webpack:///src/views/apps/support/EditTicket.vue","webpack:///./src/views/apps/support/EditTicket.vue?c645","webpack:///./src/views/apps/support/EditTicket.vue","webpack:///./node_modules/bootstrap-vue/esm/components/form/form.js","webpack:///./node_modules/bootstrap-vue/esm/components/layout/form-row.js","webpack:///./node_modules/bootstrap-vue/esm/mixins/form-validity.js","webpack:///./src/views/apps/support/EditTicket.vue?6479","webpack:///./node_modules/bootstrap-vue/esm/components/form/form-invalid-feedback.js","webpack:///./node_modules/bootstrap-vue/esm/mixins/form-text.js","webpack:///./node_modules/bootstrap-vue/esm/components/form/form-valid-feedback.js","webpack:///./node_modules/pusher-js/dist/web/pusher.js","webpack:///./node_modules/bootstrap-vue/esm/components/form-group/form-group.js","webpack:///./node_modules/bootstrap-vue/esm/components/form/form-text.js","webpack:///./node_modules/bootstrap-vue/esm/directives/visible/visible.js","webpack:///./node_modules/bootstrap-vue/esm/components/form-textarea/form-textarea.js","webpack:///./node_modules/bootstrap-vue/esm/components/layout/row.js","webpack:///./node_modules/core-js/modules/es.array.join.js","webpack:///./node_modules/bootstrap-vue/esm/mixins/form-size.js","webpack:///./node_modules/bootstrap-vue/esm/mixins/form-state.js","webpack:///./node_modules/bootstrap-vue/esm/mixins/form-control.js","webpack:///./node_modules/bootstrap-vue/esm/components/avatar/avatar.js"],"names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","props","label","role","small","tag","type","variant","BSpinner","extend","name","functional","render","h","_ref","_class","data","slots","scopedSlots","$slots","$scopedSlots","$label","staticClass","attrs","class","concat","escapeChar","cssEscape","length","firstCharCode","charCodeAt","split","reduce","result","char","index","charCode","toString","formSelectionMixin","computed","selectionStart","cache","get","this","$refs","input","set","val","selectionEnd","selectionDirection","methods","select","_this$$refs$input","apply","arguments","setSelectionRange","_this$$refs$input2","setRangeText","_this$$refs$input3","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","_objectSpread","target","i","source","forEach","getOwnPropertyDescriptors","defineProperties","findIconComponent","ctx","iconName","components","$options","iconComponent","$parent","icon","stacked","BIcon","parent","replace","_vm","_h","$createElement","_c","_self","_v","_s","ticket","reference","title","status","description","created_at_readable","ref","style","height","_l","message","id","customer","first_name","last_name","content","on","$event","preventDefault","sendMessage","model","details","callback","$$v","$set","expression","directives","rawName","modifiers","_e","staticRenderFns","_typeof","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","descriptor","_createClass","protoProps","staticProps","_extends","assign","hasOwnProperty","call","_inherits","subClass","superClass","create","_setPrototypeOf","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","p","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","valueOf","e","_assertThisInitialized","self","ReferenceError","_possibleConstructorReturn","_createSuper","Derived","hasNativeReflectConstruct","Super","NewTarget","Channel","event","listen","stopListening","EventFormatter","namespace","includes","charAt","substring","PusherChannel","_Channel","_super","pusher","options","_this","eventFormatter","subscribe","subscription","unsubscribe","format","_this2","bind_global","startsWith","formattedEvent","unbind","unbind_global","bind","PusherPrivateChannel","_PusherChannel","eventName","channels","trigger","PusherEncryptedPrivateChannel","PusherPresenceChannel","members","map","k","member","info","SocketIoChannel","socket","events","listeners","emit","channel","auth","unbindEvent","cb","_this3","removeListener","SocketIoPrivateChannel","_SocketIoChannel","SocketIoPresenceChannel","_SocketIoPrivateChann","m","user_info","NullChannel","NullPrivateChannel","_NullChannel","NullPresenceChannel","Connector","_defaultOptions","headers","authEndpoint","userAuthentication","endpoint","broadcaster","csrfToken","bearerToken","host","setOptions","connect","token","selector","window","document","querySelector","getAttribute","PusherConnector","_Connector","client","Pusher","signin","leaveChannel","connection","socket_id","disconnect","SocketIoConnector","io","getSocketIO","values","Error","NullConnector","Echo","withoutInterceptors","registerInterceptors","_channel","connector","cluster","presenceChannel","leave","privateChannel","encryptedPrivateChannel","socketId","Vue","http","registerVueRequestInterceptor","axios","registerAxiosRequestInterceptor","jQuery","registerjQueryAjaxSetup","Turbo","registerTurboRequestInterceptor","interceptors","request","next","use","config","ajax","ajaxPrefilter","originalOptions","xhr","setRequestHeader","_this4","addEventListener","detail","fetchOptions","component","inline","novalidate","validated","BForm","children","BFormRow","formValidityMixin","validity","validationMessage","willValidate","setCustomValidity","checkValidity","reportValidity","ariaLive","forceShow","state","tooltip","BFormInvalidFeedback","show","_makeModelMixin","defaultValue","modelMixin","mixin","modelProps","MODEL_PROP_NAME","prop","MODEL_EVENT_NAME","ariaInvalid","autocomplete","debounce","formatter","lazy","lazyFormatter","number","placeholder","plaintext","readonly","trim","formTextMixin","mixins","localValue","vModelValue","modifyValue","computedClass","isRange","isColor","sizeFormClass","stateClass","computedDebounce","hasFormatter","watch","newValue","stringifyValue","modifiedValue","clearDebounce","created","$_inputDebounceTimer","mounted","$on","beforeDestroy","clearTimeout","formatValue","force","undefined","updateValue","doUpdate","$emit","$input","setTimeout","onInput","composing","formattedValue","defaultPrevented","propagation","onChange","onBlur","focus","disabled","$el","blur","BFormValidFeedback","root","factory","module","exports","modules","installedModules","__webpack_require__","moduleId","l","c","d","getter","r","toStringTag","t","mode","__esModule","ns","n","property","s","__extends","extendStatics","b","Array","__","INVALID_BYTE","Coder","_paddingCharacter","encodedLength","encode","out","_encodeByte","left","maxDecodedLength","decodedLength","_getPaddingLength","decode","Uint8Array","paddingLength","op","haveBad","v0","v1","v2","v3","_decodeChar","String","fromCharCode","stdCoder","URLSafeCoder","urlSafeCoder","encodeURLSafe","decodeURLSafe","INVALID_UTF16","INVALID_UTF8","arr","pos","chars","min","n1","n2","n3","join","default","__webpack_exports__","ScriptReceiverFactory","prefix","lastId","called","callbackWrapper","receiver","ScriptReceivers","Defaults","VERSION","PROTOCOL","wsPort","wssPort","wsPath","httpHost","httpPort","httpsPort","httpPath","stats_host","authTransport","activityTimeout","pongTimeout","unavailableTimeout","transport","channelAuthorization","cdn_http","cdn_https","dependency_suffix","defaults","dependency_loader_DependencyLoader","receivers","loading","runtime","createScriptRequest","getPath","error","remove","callbacks","successCallback","wasSuccessful","cleanup","send","cdn","protocol","getDocument","location","useTLS","version","getRoot","suffix","DependenciesReceivers","Dependencies","urlStore","baseUrl","urls","authenticationEndpoint","path","authorizationEndpoint","javascriptQuickStart","triggeringClientEvents","encryptedChannelSupport","fullUrl","buildLogSuffix","urlPrefix","urlObj","url","AuthRequestType","url_store","BadEventName","msg","super","BadChannelName","RequestTimedOut","TransportPriorityTooLow","TransportClosed","UnsupportedFeature","UnsupportedTransport","UnsupportedStrategy","HTTPAuthError","context","query","authOptions","authRequestType","createXHR","headerName","open","headersProvider","dynamicHeaders","onreadystatechange","readyState","parsed","JSON","parse","responseText","UserAuthentication","ChannelAuthorization","xhr_auth","btoa","utob","b64chars","b64tab","base64_i","cb_utob","cc","u","cb_encode","ccc","padlen","ord","Timer","clear","delay","timer","abstract_timer","timers_clearTimeout","timers_clearInterval","clearInterval","timers_OneOffTimer","timers_PeriodicTimer","setInterval","Util","Date","now","args","boundArguments","slice","util","sources","extensions","stringify","safeJSONStringify","arrayIndexOf","array","item","nativeIndexOf","indexOf","objectApply","f","_","mapObject","test","filterObject","flatten","any","collections_all","encodeParamsObject","encodeURIComponent","buildQueryString","params","method","decycleObject","objects","paths","derez","nu","$ref","logger_Logger","globalLog","console","log","globalLogWarn","globalLogError","warn","defaultLoggingFunction","core_pusher","logToConsole","logger","jsonp","callbackName","nextAuthCallbackID","script","createElement","auth_callbacks","callback_name","src","head","getElementsByTagName","documentElement","insertBefore","firstChild","jsonp_auth","ScriptRequest","errorString","charset","onerror","onload","async","attachEvent","navigator","userAgent","errorScript","text","nextSibling","parentNode","removeChild","jsonp_request_JSONPRequest","getAgent","sender","scheme","createJSONPRequest","jsonp_timeline_jsonp","jsonp_timeline","getGenericURL","baseScheme","hostTLS","hostNonTLS","getGenericPath","queryString","ws","getInitial","sockjs","callback_registry_CallbackRegistry","_callbacks","prefixedEventName","fn","names","removeCallback","removeAllCallbacks","binding","dispatcher_Dispatcher","failThrough","global_callbacks","add","metadata","transport_connection_TransportConnection","hooks","priority","initialize","transportConnectionInitializer","timeline","generateUniqueID","handlesActivityChecks","supportsPing","getSocket","defer","onError","changeState","bindListeners","debug","close","ping","beforeOpen","onopen","buildTimelineMessage","closeEvent","code","reason","wasClean","unbindListeners","onOpen","onclose","onClose","onmessage","onMessage","onactivity","onActivity","cid","transport_Transport","environment","isSupported","WSTransport","isInitialized","getWebSocketAPI","createWebSocket","httpConfiguration","streamingConfiguration","HTTPFactory","createStreamingSocket","pollingConfiguration","createPollingSocket","xhrConfiguration","isXHRSupported","XHRStreamingTransport","XHRPollingTransport","Transports","xhr_streaming","xhr_polling","transports","SockJSTransport","file","SockJS","js_path","ignore_null_origin","ignoreNullOrigin","xdrConfiguration","yes","isXDRSupported","XDRStreamingTransport","XDRPollingTransport","xdr_streaming","xdr_polling","transports_transports","net_info_NetInfo","onLine","net_info_Network","assistant_to_the_transport_manager_AssistantToTheTransportManager","manager","minPingDelay","maxPingDelay","pingDelay","createConnection","openTimestamp","onClosed","reportDeath","lifespan","Math","max","isAlive","Protocol","decodeMessage","messageEvent","messageData","pusherEventData","pusherEvent","user_id","encodeMessage","processHandshake","activity_timeout","action","getCloseAction","getCloseError","protocol_protocol","connection_Connection","send_event","activity","closed","handleCloseEvent","listener","handshake_Handshake","finish","timeline_sender_TimelineSender","isEmpty","TimelineTransport","channel_Channel","subscribed","subscriptionPending","subscriptionCancelled","handleSubscriptionSucceededEvent","handleSubscriptionCountEvent","subscription_count","subscriptionCount","authorize","channel_data","private_channel_PrivateChannel","channelAuthorizer","channelName","members_Members","reset","myID","subscriptionData","presence","hash","count","me","memberData","__awaiter","thisArg","_arguments","P","generator","adopt","resolve","Promise","reject","fulfilled","step","rejected","done","then","presence_channel_PresenceChannel","authData","channelData","setMyID","user","signinDonePromise","user_data","handleInternalEvent","addedMember","addMember","removedMember","removeMember","onSubscription","utf8","base64","encrypted_channel_EncryptedChannel","nacl","sharedSecret","handleEncryptedEvent","handleEvent","ciphertext","nonce","cipherText","secretbox","overheadLength","nonceLength","bytes","getDataToEmit","raw","_a","connection_manager_ConnectionManager","usingTLS","errorCallbacks","buildErrorCallbacks","connectionCallbacks","buildConnectionCallbacks","handshakeCallbacks","buildHandshakeCallbacks","Network","getNetwork","netinfo","retryIn","sendActivityCheck","updateStrategy","runner","strategy","updateState","startConnecting","setUnavailableTimer","disconnectInternally","handshake","handshakeError","abortConnecting","abort","clearRetryTimer","clearUnavailableTimer","abandonConnection","getStrategy","round","retryTimer","ensureAborted","unavailableTimer","stopActivityCheck","activityTimer","pong_timed_out","resetActivityCheck","shouldRetry","connected","Infinity","setConnection","withErrorEmitted","tls_only","refused","backoff","retry","newState","previousState","newStateDescription","previous","current","channels_Channels","createChannel","createEncryptedChannel","errMsg","createPrivateChannel","createPresenceChannel","Factory","transport_manager_TransportManager","livesLeft","lives","createAssistantToTheTransportManager","sequential_strategy_SequentialStrategy","strategies","loop","failFast","timeout","timeoutLimit","minPriority","tryNextStrategy","tryStrategy","forceMinPriority","isRunning","best_connected_ever_strategy_BestConnectedEverStrategy","runners","allRunnersFailed","callbackBuilder","rs","abortRunner","aborted","websocket_prioritized_cached_strategy_WebSocketPrioritizedCachedStrategy","ttl","fetchTransportCache","cacheSkipCount","timestamp","cached","latency","startTimestamp","pop","flushTransportCache","storeTransportCache","getTransportCacheKey","storage","getLocalStorage","serializedCache","delayed_strategy_DelayedStrategy","IfStrategy","trueBranch","falseBranch","branch","FirstConnectedStrategy","testSupportsStrategy","getDefaultStrategy","baseOptions","defineTransport","definedTransports","defineTransportStrategy","wsStrategy","ws_options","wsHost","wss_options","sockjs_options","timeouts","ws_manager","streaming_manager","ws_transport","wss_transport","sockjs_transport","xhr_streaming_transport","xdr_streaming_transport","xhr_polling_transport","xdr_polling_transport","ws_loop","wss_loop","sockjs_loop","streaming_loop","polling_loop","http_loop","http_fallback_loop","default_strategy","transport_connection_initializer","load","http_xdomain_request_hooks","getRequest","xdr","XDomainRequest","ontimeout","onprogress","onChunk","abortRequest","http_xdomain_request","MAX_BUFFER_LENGTH","http_request_HTTPRequest","payload","position","unloader","addUnloadListener","removeUnloadListener","chunk","advanceBuffer","isBufferTooLong","buffer","unreadData","endOfLinePosition","State","autoIncrement","http_socket_HTTPSocket","session","randomNumber","randomString","getLocation","CONNECTING","openStream","sendRaw","sendHeartbeat","OPEN","createSocketRequest","getUniqueURL","getSendURL","start","closeStream","CLOSED","onEvent","onHeartbeat","hostname","base","replaceHost","stream","getReceiveURL","onFinished","reconnect","unbind_all","parts","exec","separator","urlParts","randomInt","http_socket","http_streaming_socket_hooks","http_streaming_socket","http_polling_socket_hooks","http_polling_socket","http_xhr_request_hooks","getXHRAPI","http_xhr_request","HTTP","createSocket","createRequest","http_http","createXDR","TimelineLevel","web_http_http","Runtime","XMLHttpRequest","WebSocket","MozWebSocket","PusherClass","initializeOnDocumentBody","onDocumentBody","ready","body","localStorage","createXMLHttpRequest","createMicrosoftXHR","ActiveXObject","withCredentials","documentProtocol","getProtocol","removeEventListener","detachEvent","random","crypto","getRandomValues","Uint32Array","pow","floor","timeline_level","timeline_Timeline","sent","uniqueID","level","limit","shift","ERROR","INFO","DEBUG","sendfn","bundle","lib","features","transport_strategy_TransportStrategy","failAttempt","onInitialized","createHandshake","serializedTransport","strategy_builder_Transports","strategy_builder_defineTransport","transportClass","enabled","enabledTransports","disabledTransports","getAssistant","strategy_builder_UnsupportedStrategy","deferred","validateOptions","composeChannelQuery","paramsProvider","dynamicParams","UserAuthenticator","getAuthorizers","user_authenticator","channel_authorizer_composeChannelQuery","ChannelAuthorizer","channel_authorizer","ChannelAuthorizerProxy","channelAuthorizerGenerator","deprecatedAuthorizerOptions","getConfig","opts","statsHost","enableStats","getEnableStatsConfig","getHttpHost","shouldUseTLS","getWebsocketHost","userAuthenticator","buildUserAuthenticator","buildChannelAuthorizer","timelineParams","getWebsocketHostFromCluster","forceTLS","disableStats","buildChannelAuth","customHandler","authorizer","watchlist_WatchlistFacade","bindWatchlistInternalEvent","watchlistEvent","flatPromise","promise","res","rej","flat_promise","user_UserFacade","signin_requested","serverToUserChannel","_signinDoneResolve","_onAuthorize","err","_cleanup","_signin","_newSigninPromiseIfNeeded","watchlist","_onSigninSuccess","_subscribeChannels","ensure_subscribed","reinstateSubscription","setDone","catch","pusher_Pusher","isReady","instances","app_key","checkAppKey","createChannels","global_emitter","sessionID","getClientFeatures","timelineSender","createTimelineSender","createConnectionManager","subscribeAll","isUsingTLS","internal","find","all","timelineSenderTimer","event_name","channel_name","cancelSubscription","setup","INPUTS","INPUT_SELECTOR","v","LEGEND_INTERACTIVE_ELEMENTS","generateProps","breakpoint","feedbackAriaLive","invalidFeedback","labelClass","labelFor","labelSize","labelSrOnly","validFeedback","BFormGroup","ariaDescribedby","contentColProps","getColProps","$props","labelAlignClasses","getAlignClasses","labelColProps","isHorizontal","oldValue","updateAriaDescribedby","$nextTick","propValue","attr","newIds","oldIds","ids","onLegendClick","tagName","inputs","computedState","normalizeSlot","safeId","isFieldset","labelContent","labelId","labelTag","for","click","tabindex","$invalidFeedback","invalidFeedbackContent","invalidFeedbackId","$validFeedback","validFeedbackContent","validFeedbackId","$description","descriptionContent","descriptionId","$content","computedAriaInvalid","textVariant","BFormText","OBSERVER_PROP_NAME","VisibilityObserver","el","vnode","margin","once","observer","visible","doneOnce","createObserver","stop","IntersectionObserver","handler","rootMargin","threshold","_unused","observe","entries","entry","isIntersecting","intersectionRatio","destroy","mod","toLowerCase","_prevModifiers","_ref2","VBVisible","componentUpdated","maxRows","noAutoShrink","noResize","rows","wrap","BFormTextarea","heightInPx","computedStyle","styles","resize","computedRows","overflowY","computedMinRows","math","computedMaxRows","computedAttrs","required","form","computedListeners","bvListeners","change","setHeight","visibleCallback","computeHeight","$isServer","lineHeight","border","borderTopWidth","borderBottomWidth","padding","paddingTop","paddingBottom","offset","minHeight","oldHeight","scrollHeight","contentRows","domProps","COMMON_ALIGNMENT","computeRowColsClass","cols","computeRowColsBreakpoint","rowColsPropList","rowColsProps","alignContent","alignH","alignV","noGutters","BRow","_classList$push","classList","$","IndexedObject","toIndexedObject","arrayMethodIsStrict","nativeJoin","ES3_STRINGS","STRICT_METHOD","proto","forced","size","formSizeMixin","formStateMixin","SELECTOR","autofocus","formControlMixin","handleAutofocus","activated","CLASS_NAME","SIZES","FONT_SIZE_SCALE","BADGE_FONT_SIZE_SCALE","computeSize","linkProps","alt","ariaLabel","badge","badgeLeft","badgeOffset","badgeTop","badgeVariant","button","buttonType","rounded","square","BAvatar","inject","bvAvatarGroup","localSrc","computedSize","computedVariant","computedRounded","fontStyle","fontSize","marginStyle","overlapScale","marginLeft","marginRight","badgeStyle","top","bottom","right","onImgError","onClick","_class2","link","hasNormalizedSlot","width","$badge","hasBadgeSlot","badgeText","componentData"],"mappings":"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","file":"js/chunk-3b1ef975.0e026a92.js","sourcesContent":["function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue, mergeData } from '../../vue';\nimport { NAME_SPINNER } from '../../constants/components';\nimport { PROP_TYPE_BOOLEAN, PROP_TYPE_STRING } from '../../constants/props';\nimport { SLOT_NAME_LABEL } from '../../constants/slots';\nimport { normalizeSlot } from '../../utils/normalize-slot';\nimport { makeProp, makePropsConfigurable } from '../../utils/props'; // --- Props ---\n\nexport var props = makePropsConfigurable({\n  label: makeProp(PROP_TYPE_STRING),\n  role: makeProp(PROP_TYPE_STRING, 'status'),\n  small: makeProp(PROP_TYPE_BOOLEAN, false),\n  tag: makeProp(PROP_TYPE_STRING, 'span'),\n  type: makeProp(PROP_TYPE_STRING, 'border'),\n  variant: makeProp(PROP_TYPE_STRING)\n}, NAME_SPINNER); // --- Main component ---\n// @vue/component\n\nexport var BSpinner = /*#__PURE__*/Vue.extend({\n  name: NAME_SPINNER,\n  functional: true,\n  props: props,\n  render: function render(h, _ref) {\n    var _class;\n\n    var props = _ref.props,\n        data = _ref.data,\n        slots = _ref.slots,\n        scopedSlots = _ref.scopedSlots;\n    var $slots = slots();\n    var $scopedSlots = scopedSlots || {};\n    var $label = normalizeSlot(SLOT_NAME_LABEL, {}, $scopedSlots, $slots) || props.label;\n\n    if ($label) {\n      $label = h('span', {\n        staticClass: 'sr-only'\n      }, $label);\n    }\n\n    return h(props.tag, mergeData(data, {\n      attrs: {\n        role: $label ? props.role || 'status' : null,\n        'aria-hidden': $label ? null : 'true'\n      },\n      class: (_class = {}, _defineProperty(_class, \"spinner-\".concat(props.type), props.type), _defineProperty(_class, \"spinner-\".concat(props.type, \"-sm\"), props.small), _defineProperty(_class, \"text-\".concat(props.variant), props.variant), _class)\n    }), [$label || h()]);\n  }\n});","import { toString } from './string';\n\nvar escapeChar = function escapeChar(value) {\n  return '\\\\' + value;\n}; // The `cssEscape()` util is based on this `CSS.escape()` polyfill:\n// https://github.com/mathiasbynens/CSS.escape\n\n\nexport var cssEscape = function cssEscape(value) {\n  value = toString(value);\n  var length = value.length;\n  var firstCharCode = value.charCodeAt(0);\n  return value.split('').reduce(function (result, char, index) {\n    var charCode = value.charCodeAt(index); // If the character is NULL (U+0000), use (U+FFFD) as replacement\n\n    if (charCode === 0x0000) {\n      return result + \"\\uFFFD\";\n    } // If the character ...\n\n\n    if ( // ... is U+007F OR\n    charCode === 0x007f || // ... is in the range [\\1-\\1F] (U+0001 to U+001F) OR ...\n    charCode >= 0x0001 && charCode <= 0x001f || // ... is the first character and is in the range [0-9] (U+0030 to U+0039) OR ...\n    index === 0 && charCode >= 0x0030 && charCode <= 0x0039 || // ... is the second character and is in the range [0-9] (U+0030 to U+0039)\n    // and the first character is a `-` (U+002D) ...\n    index === 1 && charCode >= 0x0030 && charCode <= 0x0039 && firstCharCode === 0x002d) {\n      // ... https://drafts.csswg.org/cssom/#escape-a-character-as-code-point\n      return result + escapeChar(\"\".concat(charCode.toString(16), \" \"));\n    } // If the character ...\n\n\n    if ( // ... is the first character AND ...\n    index === 0 && // ... is a `-` (U+002D) AND ...\n    charCode === 0x002d && // ... there is no second character ...\n    length === 1) {\n      // ... use the escaped character\n      return result + escapeChar(char);\n    } // If the character ...\n\n\n    if ( // ... is greater than or equal to U+0080 OR ...\n    charCode >= 0x0080 || // ... is `-` (U+002D) OR ...\n    charCode === 0x002d || // ... is `_` (U+005F) OR ...\n    charCode === 0x005f || // ... is in the range [0-9] (U+0030 to U+0039) OR ...\n    charCode >= 0x0030 && charCode <= 0x0039 || // ... is in the range [A-Z] (U+0041 to U+005A) OR ...\n    charCode >= 0x0041 && charCode <= 0x005a || // ... is in the range [a-z] (U+0061 to U+007A) ...\n    charCode >= 0x0061 && charCode <= 0x007a) {\n      // ... use the character itself\n      return result + char;\n    } // Otherwise use the escaped character\n    // See: https://drafts.csswg.org/cssom/#escape-a-character\n\n\n    return result + escapeChar(char);\n  }, '');\n};","import { Vue } from '../vue'; // @vue/component\n\nexport var formSelectionMixin = Vue.extend({\n  computed: {\n    selectionStart: {\n      // Expose selectionStart for formatters, etc\n      cache: false,\n\n      /* istanbul ignore next */\n      get: function get() {\n        return this.$refs.input.selectionStart;\n      },\n\n      /* istanbul ignore next */\n      set: function set(val) {\n        this.$refs.input.selectionStart = val;\n      }\n    },\n    selectionEnd: {\n      // Expose selectionEnd for formatters, etc\n      cache: false,\n\n      /* istanbul ignore next */\n      get: function get() {\n        return this.$refs.input.selectionEnd;\n      },\n\n      /* istanbul ignore next */\n      set: function set(val) {\n        this.$refs.input.selectionEnd = val;\n      }\n    },\n    selectionDirection: {\n      // Expose selectionDirection for formatters, etc\n      cache: false,\n\n      /* istanbul ignore next */\n      get: function get() {\n        return this.$refs.input.selectionDirection;\n      },\n\n      /* istanbul ignore next */\n      set: function set(val) {\n        this.$refs.input.selectionDirection = val;\n      }\n    }\n  },\n  methods: {\n    /* istanbul ignore next */\n    select: function select() {\n      var _this$$refs$input;\n\n      // For external handler that may want a select() method\n      (_this$$refs$input = this.$refs.input).select.apply(_this$$refs$input, arguments);\n    },\n\n    /* istanbul ignore next */\n    setSelectionRange: function setSelectionRange() {\n      var _this$$refs$input2;\n\n      // For external handler that may want a setSelectionRange(a,b,c) method\n      (_this$$refs$input2 = this.$refs.input).setSelectionRange.apply(_this$$refs$input2, arguments);\n    },\n\n    /* istanbul ignore next */\n    setRangeText: function setRangeText() {\n      var _this$$refs$input3;\n\n      // For external handler that may want a setRangeText(a,b,c) method\n      (_this$$refs$input3 = this.$refs.input).setRangeText.apply(_this$$refs$input3, arguments);\n    }\n  }\n});","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue, mergeData } from '../vue';\nimport { NAME_ICON } from '../constants/components';\nimport { PROP_TYPE_BOOLEAN, PROP_TYPE_STRING } from '../constants/props';\nimport { RX_ICON_PREFIX } from '../constants/regex';\nimport { omit, sortKeys } from '../utils/object';\nimport { makeProp, makePropsConfigurable } from '../utils/props';\nimport { pascalCase, trim } from '../utils/string';\nimport { BIconBlank } from './icons';\nimport { props as BVIconBaseProps } from './helpers/icon-base'; // --- Helper methods ---\n\nvar findIconComponent = function findIconComponent(ctx, iconName) {\n  if (!ctx) {\n    return null;\n  }\n\n  var components = (ctx.$options || {}).components;\n  var iconComponent = components[iconName];\n  return iconComponent || findIconComponent(ctx.$parent, iconName);\n}; // --- Props ---\n\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread({}, omit(BVIconBaseProps, ['content', 'stacked'])), {}, {\n  icon: makeProp(PROP_TYPE_STRING),\n  stacked: makeProp(PROP_TYPE_BOOLEAN, false)\n})), NAME_ICON); // --- Main component ---\n// Helper BIcon component\n// Requires the requested icon component to be installed\n// @vue/component\n\nexport var BIcon = /*#__PURE__*/Vue.extend({\n  name: NAME_ICON,\n  functional: true,\n  props: props,\n  render: function render(h, _ref) {\n    var data = _ref.data,\n        props = _ref.props,\n        parent = _ref.parent;\n    var icon = pascalCase(trim(props.icon || '')).replace(RX_ICON_PREFIX, ''); // If parent context exists, we check to see if the icon has been registered\n    // either locally in the parent component, or globally at the `$root` level\n    // If not registered, we render a blank icon\n\n    return h(icon ? findIconComponent(parent, \"BIcon\".concat(icon)) || BIconBlank : BIconBlank, mergeData(data, {\n      props: _objectSpread(_objectSpread({}, props), {}, {\n        icon: null\n      })\n    }));\n  }\n});","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-card',[_c('div',{staticClass:\"card-title\"},[_vm._v(\" \"+_vm._s(_vm.ticket.reference + \" - \" + _vm.ticket.title)+\" \"),_c('span',{class:_vm.ticket.status === 'pending ml-3'\n                    ? 'text-warning ml-3'\n                    : _vm.ticket.status === 'answered ml-3'\n                    ? 'text-success ml-3'\n                    : _vm.ticket.status === 'closed ml-3'\n                    ? 'text-danger ml-3'\n                    : 'text-info ml-3'},[_vm._v(\" \"+_vm._s(_vm.ticket.status)+\" \")])]),_c('b-col',{attrs:{\"md\":\"6\",\"lg\":\"5\"}},[_c('p',{staticClass:\"main-message\"},[_vm._v(\" \"+_vm._s(_vm.ticket.description)+\" \"),_c('small',{staticClass:\"message-time text-primary\"},[_vm._v(_vm._s(_vm.ticket.created_at_readable))])])]),_c('b-col',{attrs:{\"md\":\"6\",\"lg\":\"12\"}},[_c('div',{ref:\"overflow\",staticClass:\"d-flex overflow-auto border flex-column gap-1 w-full p-3\",style:({ height: '800px' })},_vm._l((_vm.ticket.messages),function(message,id){return _c('div',{key:id,staticClass:\"comments\"},[(message.customer)?_c('div',[_c('div',{staticClass:\"shadow w-50 border rounded  p-1\"},[_c('div',{staticClass:\"mb-1\"},[_c('b-avatar',{attrs:{\"size\":\"21\",\"variant\":'primary'}},[_c('feather-icon',{attrs:{\"size\":\"15\",\"icon\":\"UserIcon\"}})],1),_vm._v(\" \"+_vm._s(message.customer.first_name)+\" \"+_vm._s(message.customer.last_name)+\" \")],1),_vm._v(\" \"+_vm._s(message.content)+\" \"),_c('p',{staticClass:\"small text-right m-0 text-primary\"},[_vm._v(\" \"+_vm._s(message.created_at_readable)+\" \")])])]):_c('div',{staticClass:\"d-flex justify-content-end\"},[_c('div',{staticClass:\"shadow bg-secondary rounded text-light w-50 border p-1\"},[_c('div',{staticClass:\"mb-1\"},[_c('b-avatar',{attrs:{\"size\":\"21\",\"variant\":'primary'}},[_c('feather-icon',{attrs:{\"size\":\"15\",\"icon\":\"UserIcon\"}})],1),_vm._v(\" Support agent \")],1),_vm._v(\" \"+_vm._s(message.content)+\" \"),_c('p',{staticClass:\"small text-right m-0\"},[_vm._v(\" \"+_vm._s(message.created_at_readable)+\" \")])])])])}),0)]),(_vm.ticket.status != 'closed')?_c('b-form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.sendMessage.apply(null, arguments)}}},[_c('b-row',[_c('b-col',{attrs:{\"md\":\"6\"}},[_c('b-form-group',{attrs:{\"label\":\"Message\",\"label-for\":\"mc-message\"}},[_c('b-form-textarea',{attrs:{\"id\":\"mc-message\",\"placeholder\":\"Message\"},model:{value:(_vm.details.body),callback:function ($$v) {_vm.$set(_vm.details, \"body\", $$v)},expression:\"details.body\"}})],1)],1),_c('b-col',{attrs:{\"md\":\"12\"}},[_c('b-button',{directives:[{name:\"ripple\",rawName:\"v-ripple.400\",value:('rgba(255, 255, 255, 0.15)'),expression:\"'rgba(255, 255, 255, 0.15)'\",modifiers:{\"400\":true}}],staticClass:\"mr-1\",attrs:{\"type\":\"submit\",\"variant\":\"primary\"}},[_vm._v(\" Submit \"),_c('b-spinner',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"variant\":\"light\",\"small\":\"\"}})],1)],1)],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\n/**\r\n * This class represents a basic channel.\r\n */\nvar Channel = /*#__PURE__*/function () {\n  function Channel() {\n    _classCallCheck(this, Channel);\n  }\n\n  _createClass(Channel, [{\n    key: \"listenForWhisper\",\n    value:\n    /**\r\n     * Listen for a whisper event on the channel instance.\r\n     */\n    function listenForWhisper(event, callback) {\n      return this.listen('.client-' + event, callback);\n    }\n    /**\r\n     * Listen for an event on the channel instance.\r\n     */\n\n  }, {\n    key: \"notification\",\n    value: function notification(callback) {\n      return this.listen('.Illuminate\\\\Notifications\\\\Events\\\\BroadcastNotificationCreated', callback);\n    }\n    /**\r\n     * Stop listening for a whisper event on the channel instance.\r\n     */\n\n  }, {\n    key: \"stopListeningForWhisper\",\n    value: function stopListeningForWhisper(event, callback) {\n      return this.stopListening('.client-' + event, callback);\n    }\n  }]);\n\n  return Channel;\n}();\n\n/**\r\n * Event name formatter\r\n */\nvar EventFormatter = /*#__PURE__*/function () {\n  /**\r\n   * Create a new class instance.\r\n   */\n  function EventFormatter(namespace) {\n    _classCallCheck(this, EventFormatter);\n\n    this.namespace = namespace; //\n  }\n  /**\r\n   * Format the given event name.\r\n   */\n\n\n  _createClass(EventFormatter, [{\n    key: \"format\",\n    value: function format(event) {\n      if (['.', '\\\\'].includes(event.charAt(0))) {\n        return event.substring(1);\n      } else if (this.namespace) {\n        event = this.namespace + '.' + event;\n      }\n\n      return event.replace(/\\./g, '\\\\');\n    }\n    /**\r\n     * Set the event namespace.\r\n     */\n\n  }, {\n    key: \"setNamespace\",\n    value: function setNamespace(value) {\n      this.namespace = value;\n    }\n  }]);\n\n  return EventFormatter;\n}();\n\n/**\r\n * This class represents a Pusher channel.\r\n */\n\nvar PusherChannel = /*#__PURE__*/function (_Channel) {\n  _inherits(PusherChannel, _Channel);\n\n  var _super = _createSuper(PusherChannel);\n\n  /**\r\n   * Create a new class instance.\r\n   */\n  function PusherChannel(pusher, name, options) {\n    var _this;\n\n    _classCallCheck(this, PusherChannel);\n\n    _this = _super.call(this);\n    _this.name = name;\n    _this.pusher = pusher;\n    _this.options = options;\n    _this.eventFormatter = new EventFormatter(_this.options.namespace);\n\n    _this.subscribe();\n\n    return _this;\n  }\n  /**\r\n   * Subscribe to a Pusher channel.\r\n   */\n\n\n  _createClass(PusherChannel, [{\n    key: \"subscribe\",\n    value: function subscribe() {\n      this.subscription = this.pusher.subscribe(this.name);\n    }\n    /**\r\n     * Unsubscribe from a Pusher channel.\r\n     */\n\n  }, {\n    key: \"unsubscribe\",\n    value: function unsubscribe() {\n      this.pusher.unsubscribe(this.name);\n    }\n    /**\r\n     * Listen for an event on the channel instance.\r\n     */\n\n  }, {\n    key: \"listen\",\n    value: function listen(event, callback) {\n      this.on(this.eventFormatter.format(event), callback);\n      return this;\n    }\n    /**\r\n     * Listen for all events on the channel instance.\r\n     */\n\n  }, {\n    key: \"listenToAll\",\n    value: function listenToAll(callback) {\n      var _this2 = this;\n\n      this.subscription.bind_global(function (event, data) {\n        if (event.startsWith('pusher:')) {\n          return;\n        }\n\n        var namespace = _this2.options.namespace.replace(/\\./g, '\\\\');\n\n        var formattedEvent = event.startsWith(namespace) ? event.substring(namespace.length + 1) : '.' + event;\n        callback(formattedEvent, data);\n      });\n      return this;\n    }\n    /**\r\n     * Stop listening for an event on the channel instance.\r\n     */\n\n  }, {\n    key: \"stopListening\",\n    value: function stopListening(event, callback) {\n      if (callback) {\n        this.subscription.unbind(this.eventFormatter.format(event), callback);\n      } else {\n        this.subscription.unbind(this.eventFormatter.format(event));\n      }\n\n      return this;\n    }\n    /**\r\n     * Stop listening for all events on the channel instance.\r\n     */\n\n  }, {\n    key: \"stopListeningToAll\",\n    value: function stopListeningToAll(callback) {\n      if (callback) {\n        this.subscription.unbind_global(callback);\n      } else {\n        this.subscription.unbind_global();\n      }\n\n      return this;\n    }\n    /**\r\n     * Register a callback to be called anytime a subscription succeeds.\r\n     */\n\n  }, {\n    key: \"subscribed\",\n    value: function subscribed(callback) {\n      this.on('pusher:subscription_succeeded', function () {\n        callback();\n      });\n      return this;\n    }\n    /**\r\n     * Register a callback to be called anytime a subscription error occurs.\r\n     */\n\n  }, {\n    key: \"error\",\n    value: function error(callback) {\n      this.on('pusher:subscription_error', function (status) {\n        callback(status);\n      });\n      return this;\n    }\n    /**\r\n     * Bind a channel to an event.\r\n     */\n\n  }, {\n    key: \"on\",\n    value: function on(event, callback) {\n      this.subscription.bind(event, callback);\n      return this;\n    }\n  }]);\n\n  return PusherChannel;\n}(Channel);\n\n/**\r\n * This class represents a Pusher private channel.\r\n */\n\nvar PusherPrivateChannel = /*#__PURE__*/function (_PusherChannel) {\n  _inherits(PusherPrivateChannel, _PusherChannel);\n\n  var _super = _createSuper(PusherPrivateChannel);\n\n  function PusherPrivateChannel() {\n    _classCallCheck(this, PusherPrivateChannel);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(PusherPrivateChannel, [{\n    key: \"whisper\",\n    value:\n    /**\r\n     * Send a whisper event to other clients in the channel.\r\n     */\n    function whisper(eventName, data) {\n      this.pusher.channels.channels[this.name].trigger(\"client-\".concat(eventName), data);\n      return this;\n    }\n  }]);\n\n  return PusherPrivateChannel;\n}(PusherChannel);\n\n/**\r\n * This class represents a Pusher private channel.\r\n */\n\nvar PusherEncryptedPrivateChannel = /*#__PURE__*/function (_PusherChannel) {\n  _inherits(PusherEncryptedPrivateChannel, _PusherChannel);\n\n  var _super = _createSuper(PusherEncryptedPrivateChannel);\n\n  function PusherEncryptedPrivateChannel() {\n    _classCallCheck(this, PusherEncryptedPrivateChannel);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(PusherEncryptedPrivateChannel, [{\n    key: \"whisper\",\n    value:\n    /**\r\n     * Send a whisper event to other clients in the channel.\r\n     */\n    function whisper(eventName, data) {\n      this.pusher.channels.channels[this.name].trigger(\"client-\".concat(eventName), data);\n      return this;\n    }\n  }]);\n\n  return PusherEncryptedPrivateChannel;\n}(PusherChannel);\n\n/**\r\n * This class represents a Pusher presence channel.\r\n */\n\nvar PusherPresenceChannel = /*#__PURE__*/function (_PusherChannel) {\n  _inherits(PusherPresenceChannel, _PusherChannel);\n\n  var _super = _createSuper(PusherPresenceChannel);\n\n  function PusherPresenceChannel() {\n    _classCallCheck(this, PusherPresenceChannel);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(PusherPresenceChannel, [{\n    key: \"here\",\n    value:\n    /**\r\n     * Register a callback to be called anytime the member list changes.\r\n     */\n    function here(callback) {\n      this.on('pusher:subscription_succeeded', function (data) {\n        callback(Object.keys(data.members).map(function (k) {\n          return data.members[k];\n        }));\n      });\n      return this;\n    }\n    /**\r\n     * Listen for someone joining the channel.\r\n     */\n\n  }, {\n    key: \"joining\",\n    value: function joining(callback) {\n      this.on('pusher:member_added', function (member) {\n        callback(member.info);\n      });\n      return this;\n    }\n    /**\r\n     * Send a whisper event to other clients in the channel.\r\n     */\n\n  }, {\n    key: \"whisper\",\n    value: function whisper(eventName, data) {\n      this.pusher.channels.channels[this.name].trigger(\"client-\".concat(eventName), data);\n      return this;\n    }\n    /**\r\n     * Listen for someone leaving the channel.\r\n     */\n\n  }, {\n    key: \"leaving\",\n    value: function leaving(callback) {\n      this.on('pusher:member_removed', function (member) {\n        callback(member.info);\n      });\n      return this;\n    }\n  }]);\n\n  return PusherPresenceChannel;\n}(PusherChannel);\n\n/**\r\n * This class represents a Socket.io channel.\r\n */\n\nvar SocketIoChannel = /*#__PURE__*/function (_Channel) {\n  _inherits(SocketIoChannel, _Channel);\n\n  var _super = _createSuper(SocketIoChannel);\n\n  /**\r\n   * Create a new class instance.\r\n   */\n  function SocketIoChannel(socket, name, options) {\n    var _this;\n\n    _classCallCheck(this, SocketIoChannel);\n\n    _this = _super.call(this);\n    /**\r\n     * The event callbacks applied to the socket.\r\n     */\n\n    _this.events = {};\n    /**\r\n     * User supplied callbacks for events on this channel.\r\n     */\n\n    _this.listeners = {};\n    _this.name = name;\n    _this.socket = socket;\n    _this.options = options;\n    _this.eventFormatter = new EventFormatter(_this.options.namespace);\n\n    _this.subscribe();\n\n    return _this;\n  }\n  /**\r\n   * Subscribe to a Socket.io channel.\r\n   */\n\n\n  _createClass(SocketIoChannel, [{\n    key: \"subscribe\",\n    value: function subscribe() {\n      this.socket.emit('subscribe', {\n        channel: this.name,\n        auth: this.options.auth || {}\n      });\n    }\n    /**\r\n     * Unsubscribe from channel and ubind event callbacks.\r\n     */\n\n  }, {\n    key: \"unsubscribe\",\n    value: function unsubscribe() {\n      this.unbind();\n      this.socket.emit('unsubscribe', {\n        channel: this.name,\n        auth: this.options.auth || {}\n      });\n    }\n    /**\r\n     * Listen for an event on the channel instance.\r\n     */\n\n  }, {\n    key: \"listen\",\n    value: function listen(event, callback) {\n      this.on(this.eventFormatter.format(event), callback);\n      return this;\n    }\n    /**\r\n     * Stop listening for an event on the channel instance.\r\n     */\n\n  }, {\n    key: \"stopListening\",\n    value: function stopListening(event, callback) {\n      this.unbindEvent(this.eventFormatter.format(event), callback);\n      return this;\n    }\n    /**\r\n     * Register a callback to be called anytime a subscription succeeds.\r\n     */\n\n  }, {\n    key: \"subscribed\",\n    value: function subscribed(callback) {\n      this.on('connect', function (socket) {\n        callback(socket);\n      });\n      return this;\n    }\n    /**\r\n     * Register a callback to be called anytime an error occurs.\r\n     */\n\n  }, {\n    key: \"error\",\n    value: function error(callback) {\n      return this;\n    }\n    /**\r\n     * Bind the channel's socket to an event and store the callback.\r\n     */\n\n  }, {\n    key: \"on\",\n    value: function on(event, callback) {\n      var _this2 = this;\n\n      this.listeners[event] = this.listeners[event] || [];\n\n      if (!this.events[event]) {\n        this.events[event] = function (channel, data) {\n          if (_this2.name === channel && _this2.listeners[event]) {\n            _this2.listeners[event].forEach(function (cb) {\n              return cb(data);\n            });\n          }\n        };\n\n        this.socket.on(event, this.events[event]);\n      }\n\n      this.listeners[event].push(callback);\n      return this;\n    }\n    /**\r\n     * Unbind the channel's socket from all stored event callbacks.\r\n     */\n\n  }, {\n    key: \"unbind\",\n    value: function unbind() {\n      var _this3 = this;\n\n      Object.keys(this.events).forEach(function (event) {\n        _this3.unbindEvent(event);\n      });\n    }\n    /**\r\n     * Unbind the listeners for the given event.\r\n     */\n\n  }, {\n    key: \"unbindEvent\",\n    value: function unbindEvent(event, callback) {\n      this.listeners[event] = this.listeners[event] || [];\n\n      if (callback) {\n        this.listeners[event] = this.listeners[event].filter(function (cb) {\n          return cb !== callback;\n        });\n      }\n\n      if (!callback || this.listeners[event].length === 0) {\n        if (this.events[event]) {\n          this.socket.removeListener(event, this.events[event]);\n          delete this.events[event];\n        }\n\n        delete this.listeners[event];\n      }\n    }\n  }]);\n\n  return SocketIoChannel;\n}(Channel);\n\n/**\r\n * This class represents a Socket.io private channel.\r\n */\n\nvar SocketIoPrivateChannel = /*#__PURE__*/function (_SocketIoChannel) {\n  _inherits(SocketIoPrivateChannel, _SocketIoChannel);\n\n  var _super = _createSuper(SocketIoPrivateChannel);\n\n  function SocketIoPrivateChannel() {\n    _classCallCheck(this, SocketIoPrivateChannel);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(SocketIoPrivateChannel, [{\n    key: \"whisper\",\n    value:\n    /**\r\n     * Send a whisper event to other clients in the channel.\r\n     */\n    function whisper(eventName, data) {\n      this.socket.emit('client event', {\n        channel: this.name,\n        event: \"client-\".concat(eventName),\n        data: data\n      });\n      return this;\n    }\n  }]);\n\n  return SocketIoPrivateChannel;\n}(SocketIoChannel);\n\n/**\r\n * This class represents a Socket.io presence channel.\r\n */\n\nvar SocketIoPresenceChannel = /*#__PURE__*/function (_SocketIoPrivateChann) {\n  _inherits(SocketIoPresenceChannel, _SocketIoPrivateChann);\n\n  var _super = _createSuper(SocketIoPresenceChannel);\n\n  function SocketIoPresenceChannel() {\n    _classCallCheck(this, SocketIoPresenceChannel);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(SocketIoPresenceChannel, [{\n    key: \"here\",\n    value:\n    /**\r\n     * Register a callback to be called anytime the member list changes.\r\n     */\n    function here(callback) {\n      this.on('presence:subscribed', function (members) {\n        callback(members.map(function (m) {\n          return m.user_info;\n        }));\n      });\n      return this;\n    }\n    /**\r\n     * Listen for someone joining the channel.\r\n     */\n\n  }, {\n    key: \"joining\",\n    value: function joining(callback) {\n      this.on('presence:joining', function (member) {\n        return callback(member.user_info);\n      });\n      return this;\n    }\n    /**\r\n     * Send a whisper event to other clients in the channel.\r\n     */\n\n  }, {\n    key: \"whisper\",\n    value: function whisper(eventName, data) {\n      this.socket.emit('client event', {\n        channel: this.name,\n        event: \"client-\".concat(eventName),\n        data: data\n      });\n      return this;\n    }\n    /**\r\n     * Listen for someone leaving the channel.\r\n     */\n\n  }, {\n    key: \"leaving\",\n    value: function leaving(callback) {\n      this.on('presence:leaving', function (member) {\n        return callback(member.user_info);\n      });\n      return this;\n    }\n  }]);\n\n  return SocketIoPresenceChannel;\n}(SocketIoPrivateChannel);\n\n/**\r\n * This class represents a null channel.\r\n */\n\nvar NullChannel = /*#__PURE__*/function (_Channel) {\n  _inherits(NullChannel, _Channel);\n\n  var _super = _createSuper(NullChannel);\n\n  function NullChannel() {\n    _classCallCheck(this, NullChannel);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(NullChannel, [{\n    key: \"subscribe\",\n    value:\n    /**\r\n     * Subscribe to a channel.\r\n     */\n    function subscribe() {//\n    }\n    /**\r\n     * Unsubscribe from a channel.\r\n     */\n\n  }, {\n    key: \"unsubscribe\",\n    value: function unsubscribe() {//\n    }\n    /**\r\n     * Listen for an event on the channel instance.\r\n     */\n\n  }, {\n    key: \"listen\",\n    value: function listen(event, callback) {\n      return this;\n    }\n    /**\r\n     * Listen for all events on the channel instance.\r\n     */\n\n  }, {\n    key: \"listenToAll\",\n    value: function listenToAll(callback) {\n      return this;\n    }\n    /**\r\n     * Stop listening for an event on the channel instance.\r\n     */\n\n  }, {\n    key: \"stopListening\",\n    value: function stopListening(event, callback) {\n      return this;\n    }\n    /**\r\n     * Register a callback to be called anytime a subscription succeeds.\r\n     */\n\n  }, {\n    key: \"subscribed\",\n    value: function subscribed(callback) {\n      return this;\n    }\n    /**\r\n     * Register a callback to be called anytime an error occurs.\r\n     */\n\n  }, {\n    key: \"error\",\n    value: function error(callback) {\n      return this;\n    }\n    /**\r\n     * Bind a channel to an event.\r\n     */\n\n  }, {\n    key: \"on\",\n    value: function on(event, callback) {\n      return this;\n    }\n  }]);\n\n  return NullChannel;\n}(Channel);\n\n/**\r\n * This class represents a null private channel.\r\n */\n\nvar NullPrivateChannel = /*#__PURE__*/function (_NullChannel) {\n  _inherits(NullPrivateChannel, _NullChannel);\n\n  var _super = _createSuper(NullPrivateChannel);\n\n  function NullPrivateChannel() {\n    _classCallCheck(this, NullPrivateChannel);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(NullPrivateChannel, [{\n    key: \"whisper\",\n    value:\n    /**\r\n     * Send a whisper event to other clients in the channel.\r\n     */\n    function whisper(eventName, data) {\n      return this;\n    }\n  }]);\n\n  return NullPrivateChannel;\n}(NullChannel);\n\n/**\r\n * This class represents a null presence channel.\r\n */\n\nvar NullPresenceChannel = /*#__PURE__*/function (_NullChannel) {\n  _inherits(NullPresenceChannel, _NullChannel);\n\n  var _super = _createSuper(NullPresenceChannel);\n\n  function NullPresenceChannel() {\n    _classCallCheck(this, NullPresenceChannel);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(NullPresenceChannel, [{\n    key: \"here\",\n    value:\n    /**\r\n     * Register a callback to be called anytime the member list changes.\r\n     */\n    function here(callback) {\n      return this;\n    }\n    /**\r\n     * Listen for someone joining the channel.\r\n     */\n\n  }, {\n    key: \"joining\",\n    value: function joining(callback) {\n      return this;\n    }\n    /**\r\n     * Send a whisper event to other clients in the channel.\r\n     */\n\n  }, {\n    key: \"whisper\",\n    value: function whisper(eventName, data) {\n      return this;\n    }\n    /**\r\n     * Listen for someone leaving the channel.\r\n     */\n\n  }, {\n    key: \"leaving\",\n    value: function leaving(callback) {\n      return this;\n    }\n  }]);\n\n  return NullPresenceChannel;\n}(NullChannel);\n\nvar Connector = /*#__PURE__*/function () {\n  /**\r\n   * Create a new class instance.\r\n   */\n  function Connector(options) {\n    _classCallCheck(this, Connector);\n\n    /**\r\n     * Default connector options.\r\n     */\n    this._defaultOptions = {\n      auth: {\n        headers: {}\n      },\n      authEndpoint: '/broadcasting/auth',\n      userAuthentication: {\n        endpoint: '/broadcasting/user-auth',\n        headers: {}\n      },\n      broadcaster: 'pusher',\n      csrfToken: null,\n      bearerToken: null,\n      host: null,\n      key: null,\n      namespace: 'App.Events'\n    };\n    this.setOptions(options);\n    this.connect();\n  }\n  /**\r\n   * Merge the custom options with the defaults.\r\n   */\n\n\n  _createClass(Connector, [{\n    key: \"setOptions\",\n    value: function setOptions(options) {\n      this.options = _extends(this._defaultOptions, options);\n      var token = this.csrfToken();\n\n      if (token) {\n        this.options.auth.headers['X-CSRF-TOKEN'] = token;\n        this.options.userAuthentication.headers['X-CSRF-TOKEN'] = token;\n      }\n\n      token = this.options.bearerToken;\n\n      if (token) {\n        this.options.auth.headers['Authorization'] = 'Bearer ' + token;\n        this.options.userAuthentication.headers['Authorization'] = 'Bearer ' + token;\n      }\n\n      return options;\n    }\n    /**\r\n     * Extract the CSRF token from the page.\r\n     */\n\n  }, {\n    key: \"csrfToken\",\n    value: function csrfToken() {\n      var selector;\n\n      if (typeof window !== 'undefined' && window['Laravel'] && window['Laravel'].csrfToken) {\n        return window['Laravel'].csrfToken;\n      } else if (this.options.csrfToken) {\n        return this.options.csrfToken;\n      } else if (typeof document !== 'undefined' && typeof document.querySelector === 'function' && (selector = document.querySelector('meta[name=\"csrf-token\"]'))) {\n        return selector.getAttribute('content');\n      }\n\n      return null;\n    }\n  }]);\n\n  return Connector;\n}();\n\n/**\r\n * This class creates a connector to Pusher.\r\n */\n\nvar PusherConnector = /*#__PURE__*/function (_Connector) {\n  _inherits(PusherConnector, _Connector);\n\n  var _super = _createSuper(PusherConnector);\n\n  function PusherConnector() {\n    var _this;\n\n    _classCallCheck(this, PusherConnector);\n\n    _this = _super.apply(this, arguments);\n    /**\r\n     * All of the subscribed channel names.\r\n     */\n\n    _this.channels = {};\n    return _this;\n  }\n  /**\r\n   * Create a fresh Pusher connection.\r\n   */\n\n\n  _createClass(PusherConnector, [{\n    key: \"connect\",\n    value: function connect() {\n      if (typeof this.options.client !== 'undefined') {\n        this.pusher = this.options.client;\n      } else if (this.options.Pusher) {\n        this.pusher = new this.options.Pusher(this.options.key, this.options);\n      } else {\n        this.pusher = new Pusher(this.options.key, this.options);\n      }\n    }\n    /**\r\n     * Sign in the user via Pusher user authentication (https://pusher.com/docs/channels/using_channels/user-authentication/).\r\n     */\n\n  }, {\n    key: \"signin\",\n    value: function signin() {\n      this.pusher.signin();\n    }\n    /**\r\n     * Listen for an event on a channel instance.\r\n     */\n\n  }, {\n    key: \"listen\",\n    value: function listen(name, event, callback) {\n      return this.channel(name).listen(event, callback);\n    }\n    /**\r\n     * Get a channel instance by name.\r\n     */\n\n  }, {\n    key: \"channel\",\n    value: function channel(name) {\n      if (!this.channels[name]) {\n        this.channels[name] = new PusherChannel(this.pusher, name, this.options);\n      }\n\n      return this.channels[name];\n    }\n    /**\r\n     * Get a private channel instance by name.\r\n     */\n\n  }, {\n    key: \"privateChannel\",\n    value: function privateChannel(name) {\n      if (!this.channels['private-' + name]) {\n        this.channels['private-' + name] = new PusherPrivateChannel(this.pusher, 'private-' + name, this.options);\n      }\n\n      return this.channels['private-' + name];\n    }\n    /**\r\n     * Get a private encrypted channel instance by name.\r\n     */\n\n  }, {\n    key: \"encryptedPrivateChannel\",\n    value: function encryptedPrivateChannel(name) {\n      if (!this.channels['private-encrypted-' + name]) {\n        this.channels['private-encrypted-' + name] = new PusherEncryptedPrivateChannel(this.pusher, 'private-encrypted-' + name, this.options);\n      }\n\n      return this.channels['private-encrypted-' + name];\n    }\n    /**\r\n     * Get a presence channel instance by name.\r\n     */\n\n  }, {\n    key: \"presenceChannel\",\n    value: function presenceChannel(name) {\n      if (!this.channels['presence-' + name]) {\n        this.channels['presence-' + name] = new PusherPresenceChannel(this.pusher, 'presence-' + name, this.options);\n      }\n\n      return this.channels['presence-' + name];\n    }\n    /**\r\n     * Leave the given channel, as well as its private and presence variants.\r\n     */\n\n  }, {\n    key: \"leave\",\n    value: function leave(name) {\n      var _this2 = this;\n\n      var channels = [name, 'private-' + name, 'private-encrypted-' + name, 'presence-' + name];\n      channels.forEach(function (name, index) {\n        _this2.leaveChannel(name);\n      });\n    }\n    /**\r\n     * Leave the given channel.\r\n     */\n\n  }, {\n    key: \"leaveChannel\",\n    value: function leaveChannel(name) {\n      if (this.channels[name]) {\n        this.channels[name].unsubscribe();\n        delete this.channels[name];\n      }\n    }\n    /**\r\n     * Get the socket ID for the connection.\r\n     */\n\n  }, {\n    key: \"socketId\",\n    value: function socketId() {\n      return this.pusher.connection.socket_id;\n    }\n    /**\r\n     * Disconnect Pusher connection.\r\n     */\n\n  }, {\n    key: \"disconnect\",\n    value: function disconnect() {\n      this.pusher.disconnect();\n    }\n  }]);\n\n  return PusherConnector;\n}(Connector);\n\n/**\r\n * This class creates a connnector to a Socket.io server.\r\n */\n\nvar SocketIoConnector = /*#__PURE__*/function (_Connector) {\n  _inherits(SocketIoConnector, _Connector);\n\n  var _super = _createSuper(SocketIoConnector);\n\n  function SocketIoConnector() {\n    var _this;\n\n    _classCallCheck(this, SocketIoConnector);\n\n    _this = _super.apply(this, arguments);\n    /**\r\n     * All of the subscribed channel names.\r\n     */\n\n    _this.channels = {};\n    return _this;\n  }\n  /**\r\n   * Create a fresh Socket.io connection.\r\n   */\n\n\n  _createClass(SocketIoConnector, [{\n    key: \"connect\",\n    value: function connect() {\n      var _this2 = this;\n\n      var io = this.getSocketIO();\n      this.socket = io(this.options.host, this.options);\n      this.socket.on('reconnect', function () {\n        Object.values(_this2.channels).forEach(function (channel) {\n          channel.subscribe();\n        });\n      });\n      return this.socket;\n    }\n    /**\r\n     * Get socket.io module from global scope or options.\r\n     */\n\n  }, {\n    key: \"getSocketIO\",\n    value: function getSocketIO() {\n      if (typeof this.options.client !== 'undefined') {\n        return this.options.client;\n      }\n\n      if (typeof io !== 'undefined') {\n        return io;\n      }\n\n      throw new Error('Socket.io client not found. Should be globally available or passed via options.client');\n    }\n    /**\r\n     * Listen for an event on a channel instance.\r\n     */\n\n  }, {\n    key: \"listen\",\n    value: function listen(name, event, callback) {\n      return this.channel(name).listen(event, callback);\n    }\n    /**\r\n     * Get a channel instance by name.\r\n     */\n\n  }, {\n    key: \"channel\",\n    value: function channel(name) {\n      if (!this.channels[name]) {\n        this.channels[name] = new SocketIoChannel(this.socket, name, this.options);\n      }\n\n      return this.channels[name];\n    }\n    /**\r\n     * Get a private channel instance by name.\r\n     */\n\n  }, {\n    key: \"privateChannel\",\n    value: function privateChannel(name) {\n      if (!this.channels['private-' + name]) {\n        this.channels['private-' + name] = new SocketIoPrivateChannel(this.socket, 'private-' + name, this.options);\n      }\n\n      return this.channels['private-' + name];\n    }\n    /**\r\n     * Get a presence channel instance by name.\r\n     */\n\n  }, {\n    key: \"presenceChannel\",\n    value: function presenceChannel(name) {\n      if (!this.channels['presence-' + name]) {\n        this.channels['presence-' + name] = new SocketIoPresenceChannel(this.socket, 'presence-' + name, this.options);\n      }\n\n      return this.channels['presence-' + name];\n    }\n    /**\r\n     * Leave the given channel, as well as its private and presence variants.\r\n     */\n\n  }, {\n    key: \"leave\",\n    value: function leave(name) {\n      var _this3 = this;\n\n      var channels = [name, 'private-' + name, 'presence-' + name];\n      channels.forEach(function (name) {\n        _this3.leaveChannel(name);\n      });\n    }\n    /**\r\n     * Leave the given channel.\r\n     */\n\n  }, {\n    key: \"leaveChannel\",\n    value: function leaveChannel(name) {\n      if (this.channels[name]) {\n        this.channels[name].unsubscribe();\n        delete this.channels[name];\n      }\n    }\n    /**\r\n     * Get the socket ID for the connection.\r\n     */\n\n  }, {\n    key: \"socketId\",\n    value: function socketId() {\n      return this.socket.id;\n    }\n    /**\r\n     * Disconnect Socketio connection.\r\n     */\n\n  }, {\n    key: \"disconnect\",\n    value: function disconnect() {\n      this.socket.disconnect();\n    }\n  }]);\n\n  return SocketIoConnector;\n}(Connector);\n\n/**\r\n * This class creates a null connector.\r\n */\n\nvar NullConnector = /*#__PURE__*/function (_Connector) {\n  _inherits(NullConnector, _Connector);\n\n  var _super = _createSuper(NullConnector);\n\n  function NullConnector() {\n    var _this;\n\n    _classCallCheck(this, NullConnector);\n\n    _this = _super.apply(this, arguments);\n    /**\r\n     * All of the subscribed channel names.\r\n     */\n\n    _this.channels = {};\n    return _this;\n  }\n  /**\r\n   * Create a fresh connection.\r\n   */\n\n\n  _createClass(NullConnector, [{\n    key: \"connect\",\n    value: function connect() {//\n    }\n    /**\r\n     * Listen for an event on a channel instance.\r\n     */\n\n  }, {\n    key: \"listen\",\n    value: function listen(name, event, callback) {\n      return new NullChannel();\n    }\n    /**\r\n     * Get a channel instance by name.\r\n     */\n\n  }, {\n    key: \"channel\",\n    value: function channel(name) {\n      return new NullChannel();\n    }\n    /**\r\n     * Get a private channel instance by name.\r\n     */\n\n  }, {\n    key: \"privateChannel\",\n    value: function privateChannel(name) {\n      return new NullPrivateChannel();\n    }\n    /**\r\n     * Get a private encrypted channel instance by name.\r\n     */\n\n  }, {\n    key: \"encryptedPrivateChannel\",\n    value: function encryptedPrivateChannel(name) {\n      return new NullPrivateChannel();\n    }\n    /**\r\n     * Get a presence channel instance by name.\r\n     */\n\n  }, {\n    key: \"presenceChannel\",\n    value: function presenceChannel(name) {\n      return new NullPresenceChannel();\n    }\n    /**\r\n     * Leave the given channel, as well as its private and presence variants.\r\n     */\n\n  }, {\n    key: \"leave\",\n    value: function leave(name) {//\n    }\n    /**\r\n     * Leave the given channel.\r\n     */\n\n  }, {\n    key: \"leaveChannel\",\n    value: function leaveChannel(name) {//\n    }\n    /**\r\n     * Get the socket ID for the connection.\r\n     */\n\n  }, {\n    key: \"socketId\",\n    value: function socketId() {\n      return 'fake-socket-id';\n    }\n    /**\r\n     * Disconnect the connection.\r\n     */\n\n  }, {\n    key: \"disconnect\",\n    value: function disconnect() {//\n    }\n  }]);\n\n  return NullConnector;\n}(Connector);\n\n/**\r\n * This class is the primary API for interacting with broadcasting.\r\n */\n\nvar Echo = /*#__PURE__*/function () {\n  /**\r\n   * Create a new class instance.\r\n   */\n  function Echo(options) {\n    _classCallCheck(this, Echo);\n\n    this.options = options;\n    this.connect();\n\n    if (!this.options.withoutInterceptors) {\n      this.registerInterceptors();\n    }\n  }\n  /**\r\n   * Get a channel instance by name.\r\n   */\n\n\n  _createClass(Echo, [{\n    key: \"channel\",\n    value: function channel(_channel) {\n      return this.connector.channel(_channel);\n    }\n    /**\r\n     * Create a new connection.\r\n     */\n\n  }, {\n    key: \"connect\",\n    value: function connect() {\n      if (this.options.broadcaster == 'reverb') {\n        this.connector = new PusherConnector(_extends(_extends({}, this.options), {\n          cluster: ''\n        }));\n      } else if (this.options.broadcaster == 'pusher') {\n        this.connector = new PusherConnector(this.options);\n      } else if (this.options.broadcaster == 'socket.io') {\n        this.connector = new SocketIoConnector(this.options);\n      } else if (this.options.broadcaster == 'null') {\n        this.connector = new NullConnector(this.options);\n      } else if (typeof this.options.broadcaster == 'function') {\n        this.connector = new this.options.broadcaster(this.options);\n      } else {\n        throw new Error(\"Broadcaster \".concat(_typeof(this.options.broadcaster), \" \").concat(this.options.broadcaster, \" is not supported.\"));\n      }\n    }\n    /**\r\n     * Disconnect from the Echo server.\r\n     */\n\n  }, {\n    key: \"disconnect\",\n    value: function disconnect() {\n      this.connector.disconnect();\n    }\n    /**\r\n     * Get a presence channel instance by name.\r\n     */\n\n  }, {\n    key: \"join\",\n    value: function join(channel) {\n      return this.connector.presenceChannel(channel);\n    }\n    /**\r\n     * Leave the given channel, as well as its private and presence variants.\r\n     */\n\n  }, {\n    key: \"leave\",\n    value: function leave(channel) {\n      this.connector.leave(channel);\n    }\n    /**\r\n     * Leave the given channel.\r\n     */\n\n  }, {\n    key: \"leaveChannel\",\n    value: function leaveChannel(channel) {\n      this.connector.leaveChannel(channel);\n    }\n    /**\r\n     * Leave all channels.\r\n     */\n\n  }, {\n    key: \"leaveAllChannels\",\n    value: function leaveAllChannels() {\n      for (var channel in this.connector.channels) {\n        this.leaveChannel(channel);\n      }\n    }\n    /**\r\n     * Listen for an event on a channel instance.\r\n     */\n\n  }, {\n    key: \"listen\",\n    value: function listen(channel, event, callback) {\n      return this.connector.listen(channel, event, callback);\n    }\n    /**\r\n     * Get a private channel instance by name.\r\n     */\n\n  }, {\n    key: \"private\",\n    value: function _private(channel) {\n      return this.connector.privateChannel(channel);\n    }\n    /**\r\n     * Get a private encrypted channel instance by name.\r\n     */\n\n  }, {\n    key: \"encryptedPrivate\",\n    value: function encryptedPrivate(channel) {\n      return this.connector.encryptedPrivateChannel(channel);\n    }\n    /**\r\n     * Get the Socket ID for the connection.\r\n     */\n\n  }, {\n    key: \"socketId\",\n    value: function socketId() {\n      return this.connector.socketId();\n    }\n    /**\r\n     * Register 3rd party request interceptiors. These are used to automatically\r\n     * send a connections socket id to a Laravel app with a X-Socket-Id header.\r\n     */\n\n  }, {\n    key: \"registerInterceptors\",\n    value: function registerInterceptors() {\n      if (typeof Vue === 'function' && Vue.http) {\n        this.registerVueRequestInterceptor();\n      }\n\n      if (typeof axios === 'function') {\n        this.registerAxiosRequestInterceptor();\n      }\n\n      if (typeof jQuery === 'function') {\n        this.registerjQueryAjaxSetup();\n      }\n\n      if ((typeof Turbo === \"undefined\" ? \"undefined\" : _typeof(Turbo)) === 'object') {\n        this.registerTurboRequestInterceptor();\n      }\n    }\n    /**\r\n     * Register a Vue HTTP interceptor to add the X-Socket-ID header.\r\n     */\n\n  }, {\n    key: \"registerVueRequestInterceptor\",\n    value: function registerVueRequestInterceptor() {\n      var _this = this;\n\n      Vue.http.interceptors.push(function (request, next) {\n        if (_this.socketId()) {\n          request.headers.set('X-Socket-ID', _this.socketId());\n        }\n\n        next();\n      });\n    }\n    /**\r\n     * Register an Axios HTTP interceptor to add the X-Socket-ID header.\r\n     */\n\n  }, {\n    key: \"registerAxiosRequestInterceptor\",\n    value: function registerAxiosRequestInterceptor() {\n      var _this2 = this;\n\n      axios.interceptors.request.use(function (config) {\n        if (_this2.socketId()) {\n          config.headers['X-Socket-Id'] = _this2.socketId();\n        }\n\n        return config;\n      });\n    }\n    /**\r\n     * Register jQuery AjaxPrefilter to add the X-Socket-ID header.\r\n     */\n\n  }, {\n    key: \"registerjQueryAjaxSetup\",\n    value: function registerjQueryAjaxSetup() {\n      var _this3 = this;\n\n      if (typeof jQuery.ajax != 'undefined') {\n        jQuery.ajaxPrefilter(function (options, originalOptions, xhr) {\n          if (_this3.socketId()) {\n            xhr.setRequestHeader('X-Socket-Id', _this3.socketId());\n          }\n        });\n      }\n    }\n    /**\r\n     * Register the Turbo Request interceptor to add the X-Socket-ID header.\r\n     */\n\n  }, {\n    key: \"registerTurboRequestInterceptor\",\n    value: function registerTurboRequestInterceptor() {\n      var _this4 = this;\n\n      document.addEventListener('turbo:before-fetch-request', function (event) {\n        event.detail.fetchOptions.headers['X-Socket-Id'] = _this4.socketId();\n      });\n    }\n  }]);\n\n  return Echo;\n}();\n\nexport { Channel, Connector, EventFormatter, Echo as default };\n","<template>\n    <b-card>\n        <div class=\"card-title\">\n            {{ ticket.reference + \" - \" + ticket.title }}\n            <span\n                :class=\"\n                    ticket.status === 'pending ml-3'\n                        ? 'text-warning ml-3'\n                        : ticket.status === 'answered ml-3'\n                        ? 'text-success ml-3'\n                        : ticket.status === 'closed ml-3'\n                        ? 'text-danger ml-3'\n                        : 'text-info ml-3'\n                \"\n            >\n                {{ ticket.status }}\n            </span>\n        </div>\n        <b-col md=\"6\" lg=\"5\">\n            <p class=\"main-message\">\n                {{ ticket.description }}\n                <small class=\"message-time text-primary\">{{\n                    ticket.created_at_readable\n                }}</small>\n            </p>\n        </b-col>\n        <b-col md=\"6\" lg=\"12\">\n            <div\n                ref=\"overflow\"\n                :style=\"{ height: '800px' }\"\n                class=\"d-flex overflow-auto border flex-column gap-1 w-full p-3\"\n            >\n                <div\n                    v-for=\"(message, id) in ticket.messages\"\n                    :key=\"id\"\n                    class=\"comments\"\n                >\n                    <div v-if=\"message.customer\">\n                        <div class=\"shadow w-50 border rounded  p-1\">\n                            <div class=\"mb-1\">\n                                <b-avatar size=\"21\" :variant=\"'primary'\">\n                                    <feather-icon size=\"15\" icon=\"UserIcon\" />\n                                </b-avatar>\n                                {{ message.customer.first_name }}\n                                {{ message.customer.last_name }}\n                            </div>\n\n                            {{ message.content }}\n\n                            <p class=\"small text-right m-0 text-primary\">\n                                {{ message.created_at_readable }}\n                            </p>\n                        </div>\n                    </div>\n\n                    <div v-else class=\"d-flex justify-content-end\">\n                        <div\n                            class=\"shadow bg-secondary rounded text-light w-50 border p-1\"\n                        >\n                            <div class=\"mb-1\">\n                                <b-avatar size=\"21\" :variant=\"'primary'\">\n                                    <feather-icon size=\"15\" icon=\"UserIcon\" />\n                                </b-avatar>\n                                Support agent\n                            </div>\n                            {{ message.content }}\n                            <p class=\"small text-right m-0\">\n                                {{ message.created_at_readable }}\n                            </p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </b-col>\n        <b-form v-if=\"ticket.status != 'closed'\" @submit.prevent=\"sendMessage\">\n            <b-row>\n                <b-col md=\"6\">\n                    <b-form-group label=\"Message\" label-for=\"mc-message\">\n                        <b-form-textarea\n                            id=\"mc-message\"\n                            v-model=\"details.body\"\n                            placeholder=\"Message\"\n                        />\n                    </b-form-group>\n                </b-col>\n\n                <b-col md=\"12\">\n                    <b-button\n                        v-ripple.400=\"'rgba(255, 255, 255, 0.15)'\"\n                        type=\"submit\"\n                        variant=\"primary\"\n                        class=\"mr-1\"\n                    >\n                        Submit\n                        <b-spinner v-show=\"loading\" variant=\"light\" small />\n                    </b-button>\n                </b-col>\n            </b-row>\n        </b-form>\n    </b-card>\n</template>\n\n<script>\nimport {\n    BRow,\n    BCol,\n    BFormGroup,\n    BFormTextarea,\n    BForm,\n    BButton,\n    BCard,\n    BSpinner,\n    BAvatar,\n} from \"bootstrap-vue\";\nimport Ripple from \"vue-ripple-directive\";\nimport router from \"@/router\";\nimport Echo from \"laravel-echo\";\nimport Pusher from \"pusher-js\";\n\nexport default {\n    components: {\n        BRow,\n        BAvatar,\n        BCol,\n        BFormGroup,\n        BFormTextarea,\n        BForm,\n        BButton,\n        BCard,\n        BSpinner,\n    },\n    directives: {\n        Ripple,\n    },\n    data() {\n        return {\n            comments: [],\n            service: {},\n            ticket: {},\n            details: {},\n            user: {},\n            loading: false,\n            echo: {},\n        };\n    },\n    created() {\n        this.getComments();\n        this.echo = new Echo({\n            broadcaster: \"pusher\",\n            key: \"LaravelOkPayKey\",\n            cluster: \"mt1\",\n            wsHost: \"api.okpay.ng\",\n            wsPort: 443,\n            disableStats: true,\n            forceTLS: false,\n            encrypted: false,\n            authEndpoint: \"http://api.okpay.ng/api/broadcasting/auth\",\n            auth: {\n                headers: {\n                    Authorization:\n                        \"Bearer \" + localStorage.getItem(\"accessToken\"),\n                },\n            },\n        });\n\n        this.echo.connector.pusher.connection.bind(\"error\", function(err) {\n            console.error(\"Connection error:\", err);\n        });\n\n        this.echo\n            .join(`Support.Chat.${router.currentRoute.params.id}`)\n            .listen(\"NewSupportMessage\", (data) => {\n                this.getComments();\n                setTimeout(() => {\n                    this.$refs.overflow.scrollTop = this.$refs.overflow.scrollHeight;\n                }, 600);\n            });\n    },\n    methods: {\n        // getToken() {\n        //     return localStorage.getItem(\"accessToken\");\n        // },\n        getComments() {\n            this.$http\n                .get(`${this.$url}/support/${router.currentRoute.params.id}`)\n                .then((response) => {\n                    this.ticket = response.data.data;\n                });\n        },\n        sendMessage() {\n            this.loading = true;\n            this.$http\n                .post(\n                    `${this.$url}/support/${router.currentRoute.params.id}/send`,\n                    {\n                        content_type: \"text\",\n                        content: this.details.body,\n                    }\n                )\n                .then((response) => {\n                    this.details.body = \"\";\n                    this.getComments();\n                })\n                .finally(() => {\n                    this.loading = false;\n                });\n        },\n        scrollToBottom(element) {\n            element.scrollTop = element.scrollHeight;\n        },\n    },\n};\n</script>\n\n<style lang=\"scss\">\n.main-message {\n    font-size: 16px;\n    color: #000;\n    font-weight: 500;\n}\n.message-time {\n    font-size: 11px;\n    text-transform: italic;\n    font-weight: 700;\n}\n\n.comments {\n    margin: 15px 0;\n    .message-time {\n        display: block;\n    }\n}\n\n.support-comment {\n    font-weight: 500;\n    text-transform: italic;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditTicket.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditTicket.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditTicket.vue?vue&type=template&id=64e6c012&\"\nimport script from \"./EditTicket.vue?vue&type=script&lang=js&\"\nexport * from \"./EditTicket.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EditTicket.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { Vue, mergeData } from '../../vue';\nimport { NAME_FORM } from '../../constants/components';\nimport { PROP_TYPE_BOOLEAN, PROP_TYPE_STRING } from '../../constants/props';\nimport { makeProp, makePropsConfigurable } from '../../utils/props'; // --- Props ---\n\nexport var props = makePropsConfigurable({\n  id: makeProp(PROP_TYPE_STRING),\n  inline: makeProp(PROP_TYPE_BOOLEAN, false),\n  novalidate: makeProp(PROP_TYPE_BOOLEAN, false),\n  validated: makeProp(PROP_TYPE_BOOLEAN, false)\n}, NAME_FORM); // --- Main component ---\n// @vue/component\n\nexport var BForm = /*#__PURE__*/Vue.extend({\n  name: NAME_FORM,\n  functional: true,\n  props: props,\n  render: function render(h, _ref) {\n    var props = _ref.props,\n        data = _ref.data,\n        children = _ref.children;\n    return h('form', mergeData(data, {\n      class: {\n        'form-inline': props.inline,\n        'was-validated': props.validated\n      },\n      attrs: {\n        id: props.id,\n        novalidate: props.novalidate\n      }\n    }), children);\n  }\n});","import { Vue, mergeData } from '../../vue';\nimport { NAME_FORM_ROW } from '../../constants/components';\nimport { PROP_TYPE_STRING } from '../../constants/props';\nimport { makeProp, makePropsConfigurable } from '../../utils/props'; // --- Props ---\n\nexport var props = makePropsConfigurable({\n  tag: makeProp(PROP_TYPE_STRING, 'div')\n}, NAME_FORM_ROW); // --- Main component ---\n// @vue/component\n\nexport var BFormRow = /*#__PURE__*/Vue.extend({\n  name: NAME_FORM_ROW,\n  functional: true,\n  props: props,\n  render: function render(h, _ref) {\n    var props = _ref.props,\n        data = _ref.data,\n        children = _ref.children;\n    return h(props.tag, mergeData(data, {\n      staticClass: 'form-row'\n    }), children);\n  }\n});","import { Vue } from '../vue'; // @vue/component\n\nexport var formValidityMixin = Vue.extend({\n  computed: {\n    validity: {\n      // Expose validity property\n      cache: false,\n\n      /* istanbul ignore next */\n      get: function get() {\n        return this.$refs.input.validity;\n      }\n    },\n    validationMessage: {\n      // Expose validationMessage property\n      cache: false,\n\n      /* istanbul ignore next */\n      get: function get() {\n        return this.$refs.input.validationMessage;\n      }\n    },\n    willValidate: {\n      // Expose willValidate property\n      cache: false,\n\n      /* istanbul ignore next */\n      get: function get() {\n        return this.$refs.input.willValidate;\n      }\n    }\n  },\n  methods: {\n    /* istanbul ignore next */\n    setCustomValidity: function setCustomValidity() {\n      var _this$$refs$input;\n\n      // For external handler that may want a setCustomValidity(...) method\n      return (_this$$refs$input = this.$refs.input).setCustomValidity.apply(_this$$refs$input, arguments);\n    },\n\n    /* istanbul ignore next */\n    checkValidity: function checkValidity() {\n      var _this$$refs$input2;\n\n      // For external handler that may want a checkValidity(...) method\n      return (_this$$refs$input2 = this.$refs.input).checkValidity.apply(_this$$refs$input2, arguments);\n    },\n\n    /* istanbul ignore next */\n    reportValidity: function reportValidity() {\n      var _this$$refs$input3;\n\n      // For external handler that may want a reportValidity(...) method\n      return (_this$$refs$input3 = this.$refs.input).reportValidity.apply(_this$$refs$input3, arguments);\n    }\n  }\n});","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditTicket.vue?vue&type=style&index=0&lang=scss&\"","import { Vue, mergeData } from '../../vue';\nimport { NAME_FORM_INVALID_FEEDBACK } from '../../constants/components';\nimport { PROP_TYPE_BOOLEAN, PROP_TYPE_STRING } from '../../constants/props';\nimport { makeProp, makePropsConfigurable } from '../../utils/props'; // --- Props ---\n\nexport var props = makePropsConfigurable({\n  ariaLive: makeProp(PROP_TYPE_STRING),\n  forceShow: makeProp(PROP_TYPE_BOOLEAN, false),\n  id: makeProp(PROP_TYPE_STRING),\n  role: makeProp(PROP_TYPE_STRING),\n  // Tri-state prop: `true`, `false`, or `null`\n  state: makeProp(PROP_TYPE_BOOLEAN, null),\n  tag: makeProp(PROP_TYPE_STRING, 'div'),\n  tooltip: makeProp(PROP_TYPE_BOOLEAN, false)\n}, NAME_FORM_INVALID_FEEDBACK); // --- Main component ---\n// @vue/component\n\nexport var BFormInvalidFeedback = /*#__PURE__*/Vue.extend({\n  name: NAME_FORM_INVALID_FEEDBACK,\n  functional: true,\n  props: props,\n  render: function render(h, _ref) {\n    var props = _ref.props,\n        data = _ref.data,\n        children = _ref.children;\n    var tooltip = props.tooltip,\n        ariaLive = props.ariaLive;\n    var show = props.forceShow === true || props.state === false;\n    return h(props.tag, mergeData(data, {\n      class: {\n        'd-block': show,\n        'invalid-feedback': !tooltip,\n        'invalid-tooltip': tooltip\n      },\n      attrs: {\n        id: props.id || null,\n        role: props.role || null,\n        'aria-live': ariaLive || null,\n        'aria-atomic': ariaLive ? 'true' : null\n      }\n    }), children);\n  }\n});","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../vue';\nimport { EVENT_NAME_BLUR, EVENT_NAME_CHANGE, EVENT_NAME_INPUT, EVENT_NAME_UPDATE, HOOK_EVENT_NAME_BEFORE_DESTROY } from '../constants/events';\nimport { PROP_TYPE_BOOLEAN, PROP_TYPE_BOOLEAN_STRING, PROP_TYPE_FUNCTION, PROP_TYPE_NUMBER_STRING, PROP_TYPE_STRING } from '../constants/props';\nimport { attemptBlur, attemptFocus } from '../utils/dom';\nimport { stopEvent } from '../utils/events';\nimport { mathMax } from '../utils/math';\nimport { makeModelMixin } from '../utils/model';\nimport { toInteger, toFloat } from '../utils/number';\nimport { sortKeys } from '../utils/object';\nimport { hasPropFunction, makeProp, makePropsConfigurable } from '../utils/props';\nimport { toString } from '../utils/string'; // --- Constants ---\n\nvar _makeModelMixin = makeModelMixin('value', {\n  type: PROP_TYPE_NUMBER_STRING,\n  defaultValue: '',\n  event: EVENT_NAME_UPDATE\n}),\n    modelMixin = _makeModelMixin.mixin,\n    modelProps = _makeModelMixin.props,\n    MODEL_PROP_NAME = _makeModelMixin.prop,\n    MODEL_EVENT_NAME = _makeModelMixin.event;\n\nexport { MODEL_PROP_NAME, MODEL_EVENT_NAME }; // --- Props ---\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread({}, modelProps), {}, {\n  ariaInvalid: makeProp(PROP_TYPE_BOOLEAN_STRING, false),\n  autocomplete: makeProp(PROP_TYPE_STRING),\n  // Debounce timeout (in ms). Not applicable with `lazy` prop\n  debounce: makeProp(PROP_TYPE_NUMBER_STRING, 0),\n  formatter: makeProp(PROP_TYPE_FUNCTION),\n  // Only update the `v-model` on blur/change events\n  lazy: makeProp(PROP_TYPE_BOOLEAN, false),\n  lazyFormatter: makeProp(PROP_TYPE_BOOLEAN, false),\n  number: makeProp(PROP_TYPE_BOOLEAN, false),\n  placeholder: makeProp(PROP_TYPE_STRING),\n  plaintext: makeProp(PROP_TYPE_BOOLEAN, false),\n  readonly: makeProp(PROP_TYPE_BOOLEAN, false),\n  trim: makeProp(PROP_TYPE_BOOLEAN, false)\n})), 'formTextControls'); // --- Mixin ---\n// @vue/component\n\nexport var formTextMixin = Vue.extend({\n  mixins: [modelMixin],\n  props: props,\n  data: function data() {\n    var value = this[MODEL_PROP_NAME];\n    return {\n      localValue: toString(value),\n      vModelValue: this.modifyValue(value)\n    };\n  },\n  computed: {\n    computedClass: function computedClass() {\n      var plaintext = this.plaintext,\n          type = this.type;\n      var isRange = type === 'range';\n      var isColor = type === 'color';\n      return [{\n        // Range input needs class `custom-range`\n        'custom-range': isRange,\n        // `plaintext` not supported by `type=\"range\"` or `type=\"color\"`\n        'form-control-plaintext': plaintext && !isRange && !isColor,\n        // `form-control` not used by `type=\"range\"` or `plaintext`\n        // Always used by `type=\"color\"`\n        'form-control': isColor || !plaintext && !isRange\n      }, this.sizeFormClass, this.stateClass];\n    },\n    computedDebounce: function computedDebounce() {\n      // Ensure we have a positive number equal to or greater than 0\n      return mathMax(toInteger(this.debounce, 0), 0);\n    },\n    hasFormatter: function hasFormatter() {\n      return hasPropFunction(this.formatter);\n    }\n  },\n  watch: _defineProperty({}, MODEL_PROP_NAME, function (newValue) {\n    var stringifyValue = toString(newValue);\n    var modifiedValue = this.modifyValue(newValue);\n\n    if (stringifyValue !== this.localValue || modifiedValue !== this.vModelValue) {\n      // Clear any pending debounce timeout, as we are overwriting the user input\n      this.clearDebounce(); // Update the local values\n\n      this.localValue = stringifyValue;\n      this.vModelValue = modifiedValue;\n    }\n  }),\n  created: function created() {\n    // Create private non-reactive props\n    this.$_inputDebounceTimer = null;\n  },\n  mounted: function mounted() {\n    // Set up destroy handler\n    this.$on(HOOK_EVENT_NAME_BEFORE_DESTROY, this.clearDebounce);\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.clearDebounce();\n  },\n  methods: {\n    clearDebounce: function clearDebounce() {\n      clearTimeout(this.$_inputDebounceTimer);\n      this.$_inputDebounceTimer = null;\n    },\n    formatValue: function formatValue(value, event) {\n      var force = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      value = toString(value);\n\n      if (this.hasFormatter && (!this.lazyFormatter || force)) {\n        value = this.formatter(value, event);\n      }\n\n      return value;\n    },\n    modifyValue: function modifyValue(value) {\n      value = toString(value); // Emulate `.trim` modifier behaviour\n\n      if (this.trim) {\n        value = value.trim();\n      } // Emulate `.number` modifier behaviour\n\n\n      if (this.number) {\n        value = toFloat(value, value);\n      }\n\n      return value;\n    },\n    updateValue: function updateValue(value) {\n      var _this = this;\n\n      var force = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var lazy = this.lazy;\n\n      if (lazy && !force) {\n        return;\n      } // Make sure to always clear the debounce when `updateValue()`\n      // is called, even when the v-model hasn't changed\n\n\n      this.clearDebounce(); // Define the shared update logic in a method to be able to use\n      // it for immediate and debounced value changes\n\n      var doUpdate = function doUpdate() {\n        value = _this.modifyValue(value);\n\n        if (value !== _this.vModelValue) {\n          _this.vModelValue = value;\n\n          _this.$emit(MODEL_EVENT_NAME, value);\n        } else if (_this.hasFormatter) {\n          // When the `vModelValue` hasn't changed but the actual input value\n          // is out of sync, make sure to change it to the given one\n          // Usually caused by browser autocomplete and how it triggers the\n          // change or input event, or depending on the formatter function\n          // https://github.com/bootstrap-vue/bootstrap-vue/issues/2657\n          // https://github.com/bootstrap-vue/bootstrap-vue/issues/3498\n\n          /* istanbul ignore next: hard to test */\n          var $input = _this.$refs.input;\n          /* istanbul ignore if: hard to test out of sync value */\n\n          if ($input && value !== $input.value) {\n            $input.value = value;\n          }\n        }\n      }; // Only debounce the value update when a value greater than `0`\n      // is set and we are not in lazy mode or this is a forced update\n\n\n      var debounce = this.computedDebounce;\n\n      if (debounce > 0 && !lazy && !force) {\n        this.$_inputDebounceTimer = setTimeout(doUpdate, debounce);\n      } else {\n        // Immediately update the v-model\n        doUpdate();\n      }\n    },\n    onInput: function onInput(event) {\n      // `event.target.composing` is set by Vue\n      // https://github.com/vuejs/vue/blob/dev/src/platforms/web/runtime/directives/model.js\n      // TODO: Is this needed now with the latest Vue?\n\n      /* istanbul ignore if: hard to test composition events */\n      if (event.target.composing) {\n        return;\n      }\n\n      var value = event.target.value;\n      var formattedValue = this.formatValue(value, event); // Exit when the `formatter` function strictly returned `false`\n      // or prevented the input event\n\n      /* istanbul ignore next */\n\n      if (formattedValue === false || event.defaultPrevented) {\n        stopEvent(event, {\n          propagation: false\n        });\n        return;\n      }\n\n      this.localValue = formattedValue;\n      this.updateValue(formattedValue);\n      this.$emit(EVENT_NAME_INPUT, formattedValue);\n    },\n    onChange: function onChange(event) {\n      var value = event.target.value;\n      var formattedValue = this.formatValue(value, event); // Exit when the `formatter` function strictly returned `false`\n      // or prevented the input event\n\n      /* istanbul ignore next */\n\n      if (formattedValue === false || event.defaultPrevented) {\n        stopEvent(event, {\n          propagation: false\n        });\n        return;\n      }\n\n      this.localValue = formattedValue;\n      this.updateValue(formattedValue, true);\n      this.$emit(EVENT_NAME_CHANGE, formattedValue);\n    },\n    onBlur: function onBlur(event) {\n      // Apply the `localValue` on blur to prevent cursor jumps\n      // on mobile browsers (e.g. caused by autocomplete)\n      var value = event.target.value;\n      var formattedValue = this.formatValue(value, event, true);\n\n      if (formattedValue !== false) {\n        // We need to use the modified value here to apply the\n        // `.trim` and `.number` modifiers properly\n        this.localValue = toString(this.modifyValue(formattedValue)); // We pass the formatted value here since the `updateValue` method\n        // handles the modifiers itself\n\n        this.updateValue(formattedValue, true);\n      } // Emit native blur event\n\n\n      this.$emit(EVENT_NAME_BLUR, event);\n    },\n    focus: function focus() {\n      // For external handler that may want a focus method\n      if (!this.disabled) {\n        attemptFocus(this.$el);\n      }\n    },\n    blur: function blur() {\n      // For external handler that may want a blur method\n      if (!this.disabled) {\n        attemptBlur(this.$el);\n      }\n    }\n  }\n});","import { Vue, mergeData } from '../../vue';\nimport { NAME_FORM_VALID_FEEDBACK } from '../../constants/components';\nimport { PROP_TYPE_BOOLEAN, PROP_TYPE_STRING } from '../../constants/props';\nimport { makeProp, makePropsConfigurable } from '../../utils/props'; // --- Props ---\n\nexport var props = makePropsConfigurable({\n  ariaLive: makeProp(PROP_TYPE_STRING),\n  forceShow: makeProp(PROP_TYPE_BOOLEAN, false),\n  id: makeProp(PROP_TYPE_STRING),\n  role: makeProp(PROP_TYPE_STRING),\n  // Tri-state prop: `true`, `false`, or `null`\n  state: makeProp(PROP_TYPE_BOOLEAN, null),\n  tag: makeProp(PROP_TYPE_STRING, 'div'),\n  tooltip: makeProp(PROP_TYPE_BOOLEAN, false)\n}, NAME_FORM_VALID_FEEDBACK); // --- Main component ---\n// @vue/component\n\nexport var BFormValidFeedback = /*#__PURE__*/Vue.extend({\n  name: NAME_FORM_VALID_FEEDBACK,\n  functional: true,\n  props: props,\n  render: function render(h, _ref) {\n    var props = _ref.props,\n        data = _ref.data,\n        children = _ref.children;\n    var tooltip = props.tooltip,\n        ariaLive = props.ariaLive;\n    var show = props.forceShow === true || props.state === true;\n    return h(props.tag, mergeData(data, {\n      class: {\n        'd-block': show,\n        'valid-feedback': !tooltip,\n        'valid-tooltip': tooltip\n      },\n      attrs: {\n        id: props.id || null,\n        role: props.role || null,\n        'aria-live': ariaLive || null,\n        'aria-atomic': ariaLive ? 'true' : null\n      }\n    }), children);\n  }\n});","/*!\n * Pusher JavaScript Library v8.3.0\n * https://pusher.com/\n *\n * Copyright 2020, Pusher\n * Released under the MIT licence.\n */\n\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Pusher\"] = factory();\n\telse\n\t\troot[\"Pusher\"] = factory();\n})(window, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 2);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n// Copyright (C) 2016 Dmitry Chestnykh\n// MIT License. See LICENSE file for details.\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Package base64 implements Base64 encoding and decoding.\n */\n// Invalid character used in decoding to indicate\n// that the character to decode is out of range of\n// alphabet and cannot be decoded.\nvar INVALID_BYTE = 256;\n/**\n * Implements standard Base64 encoding.\n *\n * Operates in constant time.\n */\nvar Coder = /** @class */ (function () {\n    // TODO(dchest): methods to encode chunk-by-chunk.\n    function Coder(_paddingCharacter) {\n        if (_paddingCharacter === void 0) { _paddingCharacter = \"=\"; }\n        this._paddingCharacter = _paddingCharacter;\n    }\n    Coder.prototype.encodedLength = function (length) {\n        if (!this._paddingCharacter) {\n            return (length * 8 + 5) / 6 | 0;\n        }\n        return (length + 2) / 3 * 4 | 0;\n    };\n    Coder.prototype.encode = function (data) {\n        var out = \"\";\n        var i = 0;\n        for (; i < data.length - 2; i += 3) {\n            var c = (data[i] << 16) | (data[i + 1] << 8) | (data[i + 2]);\n            out += this._encodeByte((c >>> 3 * 6) & 63);\n            out += this._encodeByte((c >>> 2 * 6) & 63);\n            out += this._encodeByte((c >>> 1 * 6) & 63);\n            out += this._encodeByte((c >>> 0 * 6) & 63);\n        }\n        var left = data.length - i;\n        if (left > 0) {\n            var c = (data[i] << 16) | (left === 2 ? data[i + 1] << 8 : 0);\n            out += this._encodeByte((c >>> 3 * 6) & 63);\n            out += this._encodeByte((c >>> 2 * 6) & 63);\n            if (left === 2) {\n                out += this._encodeByte((c >>> 1 * 6) & 63);\n            }\n            else {\n                out += this._paddingCharacter || \"\";\n            }\n            out += this._paddingCharacter || \"\";\n        }\n        return out;\n    };\n    Coder.prototype.maxDecodedLength = function (length) {\n        if (!this._paddingCharacter) {\n            return (length * 6 + 7) / 8 | 0;\n        }\n        return length / 4 * 3 | 0;\n    };\n    Coder.prototype.decodedLength = function (s) {\n        return this.maxDecodedLength(s.length - this._getPaddingLength(s));\n    };\n    Coder.prototype.decode = function (s) {\n        if (s.length === 0) {\n            return new Uint8Array(0);\n        }\n        var paddingLength = this._getPaddingLength(s);\n        var length = s.length - paddingLength;\n        var out = new Uint8Array(this.maxDecodedLength(length));\n        var op = 0;\n        var i = 0;\n        var haveBad = 0;\n        var v0 = 0, v1 = 0, v2 = 0, v3 = 0;\n        for (; i < length - 4; i += 4) {\n            v0 = this._decodeChar(s.charCodeAt(i + 0));\n            v1 = this._decodeChar(s.charCodeAt(i + 1));\n            v2 = this._decodeChar(s.charCodeAt(i + 2));\n            v3 = this._decodeChar(s.charCodeAt(i + 3));\n            out[op++] = (v0 << 2) | (v1 >>> 4);\n            out[op++] = (v1 << 4) | (v2 >>> 2);\n            out[op++] = (v2 << 6) | v3;\n            haveBad |= v0 & INVALID_BYTE;\n            haveBad |= v1 & INVALID_BYTE;\n            haveBad |= v2 & INVALID_BYTE;\n            haveBad |= v3 & INVALID_BYTE;\n        }\n        if (i < length - 1) {\n            v0 = this._decodeChar(s.charCodeAt(i));\n            v1 = this._decodeChar(s.charCodeAt(i + 1));\n            out[op++] = (v0 << 2) | (v1 >>> 4);\n            haveBad |= v0 & INVALID_BYTE;\n            haveBad |= v1 & INVALID_BYTE;\n        }\n        if (i < length - 2) {\n            v2 = this._decodeChar(s.charCodeAt(i + 2));\n            out[op++] = (v1 << 4) | (v2 >>> 2);\n            haveBad |= v2 & INVALID_BYTE;\n        }\n        if (i < length - 3) {\n            v3 = this._decodeChar(s.charCodeAt(i + 3));\n            out[op++] = (v2 << 6) | v3;\n            haveBad |= v3 & INVALID_BYTE;\n        }\n        if (haveBad !== 0) {\n            throw new Error(\"Base64Coder: incorrect characters for decoding\");\n        }\n        return out;\n    };\n    // Standard encoding have the following encoded/decoded ranges,\n    // which we need to convert between.\n    //\n    // ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz 0123456789  +   /\n    // Index:   0 - 25                    26 - 51              52 - 61   62  63\n    // ASCII:  65 - 90                    97 - 122             48 - 57   43  47\n    //\n    // Encode 6 bits in b into a new character.\n    Coder.prototype._encodeByte = function (b) {\n        // Encoding uses constant time operations as follows:\n        //\n        // 1. Define comparison of A with B using (A - B) >>> 8:\n        //          if A > B, then result is positive integer\n        //          if A <= B, then result is 0\n        //\n        // 2. Define selection of C or 0 using bitwise AND: X & C:\n        //          if X == 0, then result is 0\n        //          if X != 0, then result is C\n        //\n        // 3. Start with the smallest comparison (b >= 0), which is always\n        //    true, so set the result to the starting ASCII value (65).\n        //\n        // 4. Continue comparing b to higher ASCII values, and selecting\n        //    zero if comparison isn't true, otherwise selecting a value\n        //    to add to result, which:\n        //\n        //          a) undoes the previous addition\n        //          b) provides new value to add\n        //\n        var result = b;\n        // b >= 0\n        result += 65;\n        // b > 25\n        result += ((25 - b) >>> 8) & ((0 - 65) - 26 + 97);\n        // b > 51\n        result += ((51 - b) >>> 8) & ((26 - 97) - 52 + 48);\n        // b > 61\n        result += ((61 - b) >>> 8) & ((52 - 48) - 62 + 43);\n        // b > 62\n        result += ((62 - b) >>> 8) & ((62 - 43) - 63 + 47);\n        return String.fromCharCode(result);\n    };\n    // Decode a character code into a byte.\n    // Must return 256 if character is out of alphabet range.\n    Coder.prototype._decodeChar = function (c) {\n        // Decoding works similar to encoding: using the same comparison\n        // function, but now it works on ranges: result is always incremented\n        // by value, but this value becomes zero if the range is not\n        // satisfied.\n        //\n        // Decoding starts with invalid value, 256, which is then\n        // subtracted when the range is satisfied. If none of the ranges\n        // apply, the function returns 256, which is then checked by\n        // the caller to throw error.\n        var result = INVALID_BYTE; // start with invalid character\n        // c == 43 (c > 42 and c < 44)\n        result += (((42 - c) & (c - 44)) >>> 8) & (-INVALID_BYTE + c - 43 + 62);\n        // c == 47 (c > 46 and c < 48)\n        result += (((46 - c) & (c - 48)) >>> 8) & (-INVALID_BYTE + c - 47 + 63);\n        // c > 47 and c < 58\n        result += (((47 - c) & (c - 58)) >>> 8) & (-INVALID_BYTE + c - 48 + 52);\n        // c > 64 and c < 91\n        result += (((64 - c) & (c - 91)) >>> 8) & (-INVALID_BYTE + c - 65 + 0);\n        // c > 96 and c < 123\n        result += (((96 - c) & (c - 123)) >>> 8) & (-INVALID_BYTE + c - 97 + 26);\n        return result;\n    };\n    Coder.prototype._getPaddingLength = function (s) {\n        var paddingLength = 0;\n        if (this._paddingCharacter) {\n            for (var i = s.length - 1; i >= 0; i--) {\n                if (s[i] !== this._paddingCharacter) {\n                    break;\n                }\n                paddingLength++;\n            }\n            if (s.length < 4 || paddingLength > 2) {\n                throw new Error(\"Base64Coder: incorrect padding\");\n            }\n        }\n        return paddingLength;\n    };\n    return Coder;\n}());\nexports.Coder = Coder;\nvar stdCoder = new Coder();\nfunction encode(data) {\n    return stdCoder.encode(data);\n}\nexports.encode = encode;\nfunction decode(s) {\n    return stdCoder.decode(s);\n}\nexports.decode = decode;\n/**\n * Implements URL-safe Base64 encoding.\n * (Same as Base64, but '+' is replaced with '-', and '/' with '_').\n *\n * Operates in constant time.\n */\nvar URLSafeCoder = /** @class */ (function (_super) {\n    __extends(URLSafeCoder, _super);\n    function URLSafeCoder() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    // URL-safe encoding have the following encoded/decoded ranges:\n    //\n    // ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz 0123456789  -   _\n    // Index:   0 - 25                    26 - 51              52 - 61   62  63\n    // ASCII:  65 - 90                    97 - 122             48 - 57   45  95\n    //\n    URLSafeCoder.prototype._encodeByte = function (b) {\n        var result = b;\n        // b >= 0\n        result += 65;\n        // b > 25\n        result += ((25 - b) >>> 8) & ((0 - 65) - 26 + 97);\n        // b > 51\n        result += ((51 - b) >>> 8) & ((26 - 97) - 52 + 48);\n        // b > 61\n        result += ((61 - b) >>> 8) & ((52 - 48) - 62 + 45);\n        // b > 62\n        result += ((62 - b) >>> 8) & ((62 - 45) - 63 + 95);\n        return String.fromCharCode(result);\n    };\n    URLSafeCoder.prototype._decodeChar = function (c) {\n        var result = INVALID_BYTE;\n        // c == 45 (c > 44 and c < 46)\n        result += (((44 - c) & (c - 46)) >>> 8) & (-INVALID_BYTE + c - 45 + 62);\n        // c == 95 (c > 94 and c < 96)\n        result += (((94 - c) & (c - 96)) >>> 8) & (-INVALID_BYTE + c - 95 + 63);\n        // c > 47 and c < 58\n        result += (((47 - c) & (c - 58)) >>> 8) & (-INVALID_BYTE + c - 48 + 52);\n        // c > 64 and c < 91\n        result += (((64 - c) & (c - 91)) >>> 8) & (-INVALID_BYTE + c - 65 + 0);\n        // c > 96 and c < 123\n        result += (((96 - c) & (c - 123)) >>> 8) & (-INVALID_BYTE + c - 97 + 26);\n        return result;\n    };\n    return URLSafeCoder;\n}(Coder));\nexports.URLSafeCoder = URLSafeCoder;\nvar urlSafeCoder = new URLSafeCoder();\nfunction encodeURLSafe(data) {\n    return urlSafeCoder.encode(data);\n}\nexports.encodeURLSafe = encodeURLSafe;\nfunction decodeURLSafe(s) {\n    return urlSafeCoder.decode(s);\n}\nexports.decodeURLSafe = decodeURLSafe;\nexports.encodedLength = function (length) {\n    return stdCoder.encodedLength(length);\n};\nexports.maxDecodedLength = function (length) {\n    return stdCoder.maxDecodedLength(length);\n};\nexports.decodedLength = function (s) {\n    return stdCoder.decodedLength(s);\n};\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n// Copyright (C) 2016 Dmitry Chestnykh\n// MIT License. See LICENSE file for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Package utf8 implements UTF-8 encoding and decoding.\n */\nvar INVALID_UTF16 = \"utf8: invalid string\";\nvar INVALID_UTF8 = \"utf8: invalid source encoding\";\n/**\n * Encodes the given string into UTF-8 byte array.\n * Throws if the source string has invalid UTF-16 encoding.\n */\nfunction encode(s) {\n    // Calculate result length and allocate output array.\n    // encodedLength() also validates string and throws errors,\n    // so we don't need repeat validation here.\n    var arr = new Uint8Array(encodedLength(s));\n    var pos = 0;\n    for (var i = 0; i < s.length; i++) {\n        var c = s.charCodeAt(i);\n        if (c < 0x80) {\n            arr[pos++] = c;\n        }\n        else if (c < 0x800) {\n            arr[pos++] = 0xc0 | c >> 6;\n            arr[pos++] = 0x80 | c & 0x3f;\n        }\n        else if (c < 0xd800) {\n            arr[pos++] = 0xe0 | c >> 12;\n            arr[pos++] = 0x80 | (c >> 6) & 0x3f;\n            arr[pos++] = 0x80 | c & 0x3f;\n        }\n        else {\n            i++; // get one more character\n            c = (c & 0x3ff) << 10;\n            c |= s.charCodeAt(i) & 0x3ff;\n            c += 0x10000;\n            arr[pos++] = 0xf0 | c >> 18;\n            arr[pos++] = 0x80 | (c >> 12) & 0x3f;\n            arr[pos++] = 0x80 | (c >> 6) & 0x3f;\n            arr[pos++] = 0x80 | c & 0x3f;\n        }\n    }\n    return arr;\n}\nexports.encode = encode;\n/**\n * Returns the number of bytes required to encode the given string into UTF-8.\n * Throws if the source string has invalid UTF-16 encoding.\n */\nfunction encodedLength(s) {\n    var result = 0;\n    for (var i = 0; i < s.length; i++) {\n        var c = s.charCodeAt(i);\n        if (c < 0x80) {\n            result += 1;\n        }\n        else if (c < 0x800) {\n            result += 2;\n        }\n        else if (c < 0xd800) {\n            result += 3;\n        }\n        else if (c <= 0xdfff) {\n            if (i >= s.length - 1) {\n                throw new Error(INVALID_UTF16);\n            }\n            i++; // \"eat\" next character\n            result += 4;\n        }\n        else {\n            throw new Error(INVALID_UTF16);\n        }\n    }\n    return result;\n}\nexports.encodedLength = encodedLength;\n/**\n * Decodes the given byte array from UTF-8 into a string.\n * Throws if encoding is invalid.\n */\nfunction decode(arr) {\n    var chars = [];\n    for (var i = 0; i < arr.length; i++) {\n        var b = arr[i];\n        if (b & 0x80) {\n            var min = void 0;\n            if (b < 0xe0) {\n                // Need 1 more byte.\n                if (i >= arr.length) {\n                    throw new Error(INVALID_UTF8);\n                }\n                var n1 = arr[++i];\n                if ((n1 & 0xc0) !== 0x80) {\n                    throw new Error(INVALID_UTF8);\n                }\n                b = (b & 0x1f) << 6 | (n1 & 0x3f);\n                min = 0x80;\n            }\n            else if (b < 0xf0) {\n                // Need 2 more bytes.\n                if (i >= arr.length - 1) {\n                    throw new Error(INVALID_UTF8);\n                }\n                var n1 = arr[++i];\n                var n2 = arr[++i];\n                if ((n1 & 0xc0) !== 0x80 || (n2 & 0xc0) !== 0x80) {\n                    throw new Error(INVALID_UTF8);\n                }\n                b = (b & 0x0f) << 12 | (n1 & 0x3f) << 6 | (n2 & 0x3f);\n                min = 0x800;\n            }\n            else if (b < 0xf8) {\n                // Need 3 more bytes.\n                if (i >= arr.length - 2) {\n                    throw new Error(INVALID_UTF8);\n                }\n                var n1 = arr[++i];\n                var n2 = arr[++i];\n                var n3 = arr[++i];\n                if ((n1 & 0xc0) !== 0x80 || (n2 & 0xc0) !== 0x80 || (n3 & 0xc0) !== 0x80) {\n                    throw new Error(INVALID_UTF8);\n                }\n                b = (b & 0x0f) << 18 | (n1 & 0x3f) << 12 | (n2 & 0x3f) << 6 | (n3 & 0x3f);\n                min = 0x10000;\n            }\n            else {\n                throw new Error(INVALID_UTF8);\n            }\n            if (b < min || (b >= 0xd800 && b <= 0xdfff)) {\n                throw new Error(INVALID_UTF8);\n            }\n            if (b >= 0x10000) {\n                // Surrogate pair.\n                if (b > 0x10ffff) {\n                    throw new Error(INVALID_UTF8);\n                }\n                b -= 0x10000;\n                chars.push(String.fromCharCode(0xd800 | (b >> 10)));\n                b = 0xdc00 | (b & 0x3ff);\n            }\n        }\n        chars.push(String.fromCharCode(b));\n    }\n    return chars.join(\"\");\n}\nexports.decode = decode;\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// required so we don't have to do require('pusher').default etc.\nmodule.exports = __webpack_require__(3).default;\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./src/runtimes/web/dom/script_receiver_factory.ts\nclass ScriptReceiverFactory {\n    constructor(prefix, name) {\n        this.lastId = 0;\n        this.prefix = prefix;\n        this.name = name;\n    }\n    create(callback) {\n        this.lastId++;\n        var number = this.lastId;\n        var id = this.prefix + number;\n        var name = this.name + '[' + number + ']';\n        var called = false;\n        var callbackWrapper = function () {\n            if (!called) {\n                callback.apply(null, arguments);\n                called = true;\n            }\n        };\n        this[number] = callbackWrapper;\n        return { number: number, id: id, name: name, callback: callbackWrapper };\n    }\n    remove(receiver) {\n        delete this[receiver.number];\n    }\n}\nvar ScriptReceivers = new ScriptReceiverFactory('_pusher_script_', 'Pusher.ScriptReceivers');\n\n// CONCATENATED MODULE: ./src/core/defaults.ts\nvar Defaults = {\n    VERSION: \"8.3.0\",\n    PROTOCOL: 7,\n    wsPort: 80,\n    wssPort: 443,\n    wsPath: '',\n    httpHost: 'sockjs.pusher.com',\n    httpPort: 80,\n    httpsPort: 443,\n    httpPath: '/pusher',\n    stats_host: 'stats.pusher.com',\n    authEndpoint: '/pusher/auth',\n    authTransport: 'ajax',\n    activityTimeout: 120000,\n    pongTimeout: 30000,\n    unavailableTimeout: 10000,\n    userAuthentication: {\n        endpoint: '/pusher/user-auth',\n        transport: 'ajax'\n    },\n    channelAuthorization: {\n        endpoint: '/pusher/auth',\n        transport: 'ajax'\n    },\n    cdn_http: \"http://js.pusher.com\",\n    cdn_https: \"https://js.pusher.com\",\n    dependency_suffix: \"\"\n};\n/* harmony default export */ var defaults = (Defaults);\n\n// CONCATENATED MODULE: ./src/runtimes/web/dom/dependency_loader.ts\n\n\nclass dependency_loader_DependencyLoader {\n    constructor(options) {\n        this.options = options;\n        this.receivers = options.receivers || ScriptReceivers;\n        this.loading = {};\n    }\n    load(name, options, callback) {\n        var self = this;\n        if (self.loading[name] && self.loading[name].length > 0) {\n            self.loading[name].push(callback);\n        }\n        else {\n            self.loading[name] = [callback];\n            var request = runtime.createScriptRequest(self.getPath(name, options));\n            var receiver = self.receivers.create(function (error) {\n                self.receivers.remove(receiver);\n                if (self.loading[name]) {\n                    var callbacks = self.loading[name];\n                    delete self.loading[name];\n                    var successCallback = function (wasSuccessful) {\n                        if (!wasSuccessful) {\n                            request.cleanup();\n                        }\n                    };\n                    for (var i = 0; i < callbacks.length; i++) {\n                        callbacks[i](error, successCallback);\n                    }\n                }\n            });\n            request.send(receiver);\n        }\n    }\n    getRoot(options) {\n        var cdn;\n        var protocol = runtime.getDocument().location.protocol;\n        if ((options && options.useTLS) || protocol === 'https:') {\n            cdn = this.options.cdn_https;\n        }\n        else {\n            cdn = this.options.cdn_http;\n        }\n        return cdn.replace(/\\/*$/, '') + '/' + this.options.version;\n    }\n    getPath(name, options) {\n        return this.getRoot(options) + '/' + name + this.options.suffix + '.js';\n    }\n}\n\n// CONCATENATED MODULE: ./src/runtimes/web/dom/dependencies.ts\n\n\n\nvar DependenciesReceivers = new ScriptReceiverFactory('_pusher_dependencies', 'Pusher.DependenciesReceivers');\nvar Dependencies = new dependency_loader_DependencyLoader({\n    cdn_http: defaults.cdn_http,\n    cdn_https: defaults.cdn_https,\n    version: defaults.VERSION,\n    suffix: defaults.dependency_suffix,\n    receivers: DependenciesReceivers\n});\n\n// CONCATENATED MODULE: ./src/core/utils/url_store.ts\nconst urlStore = {\n    baseUrl: 'https://pusher.com',\n    urls: {\n        authenticationEndpoint: {\n            path: '/docs/channels/server_api/authenticating_users'\n        },\n        authorizationEndpoint: {\n            path: '/docs/channels/server_api/authorizing-users/'\n        },\n        javascriptQuickStart: {\n            path: '/docs/javascript_quick_start'\n        },\n        triggeringClientEvents: {\n            path: '/docs/client_api_guide/client_events#trigger-events'\n        },\n        encryptedChannelSupport: {\n            fullUrl: 'https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support'\n        }\n    }\n};\nconst buildLogSuffix = function (key) {\n    const urlPrefix = 'See:';\n    const urlObj = urlStore.urls[key];\n    if (!urlObj)\n        return '';\n    let url;\n    if (urlObj.fullUrl) {\n        url = urlObj.fullUrl;\n    }\n    else if (urlObj.path) {\n        url = urlStore.baseUrl + urlObj.path;\n    }\n    if (!url)\n        return '';\n    return `${urlPrefix} ${url}`;\n};\n/* harmony default export */ var url_store = ({ buildLogSuffix });\n\n// CONCATENATED MODULE: ./src/core/auth/options.ts\nvar AuthRequestType;\n(function (AuthRequestType) {\n    AuthRequestType[\"UserAuthentication\"] = \"user-authentication\";\n    AuthRequestType[\"ChannelAuthorization\"] = \"channel-authorization\";\n})(AuthRequestType || (AuthRequestType = {}));\n\n// CONCATENATED MODULE: ./src/core/errors.ts\nclass BadEventName extends Error {\n    constructor(msg) {\n        super(msg);\n        Object.setPrototypeOf(this, new.target.prototype);\n    }\n}\nclass BadChannelName extends Error {\n    constructor(msg) {\n        super(msg);\n        Object.setPrototypeOf(this, new.target.prototype);\n    }\n}\nclass RequestTimedOut extends Error {\n    constructor(msg) {\n        super(msg);\n        Object.setPrototypeOf(this, new.target.prototype);\n    }\n}\nclass TransportPriorityTooLow extends Error {\n    constructor(msg) {\n        super(msg);\n        Object.setPrototypeOf(this, new.target.prototype);\n    }\n}\nclass TransportClosed extends Error {\n    constructor(msg) {\n        super(msg);\n        Object.setPrototypeOf(this, new.target.prototype);\n    }\n}\nclass UnsupportedFeature extends Error {\n    constructor(msg) {\n        super(msg);\n        Object.setPrototypeOf(this, new.target.prototype);\n    }\n}\nclass UnsupportedTransport extends Error {\n    constructor(msg) {\n        super(msg);\n        Object.setPrototypeOf(this, new.target.prototype);\n    }\n}\nclass UnsupportedStrategy extends Error {\n    constructor(msg) {\n        super(msg);\n        Object.setPrototypeOf(this, new.target.prototype);\n    }\n}\nclass HTTPAuthError extends Error {\n    constructor(status, msg) {\n        super(msg);\n        this.status = status;\n        Object.setPrototypeOf(this, new.target.prototype);\n    }\n}\n\n// CONCATENATED MODULE: ./src/runtimes/isomorphic/auth/xhr_auth.ts\n\n\n\n\nconst ajax = function (context, query, authOptions, authRequestType, callback) {\n    const xhr = runtime.createXHR();\n    xhr.open('POST', authOptions.endpoint, true);\n    xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n    for (var headerName in authOptions.headers) {\n        xhr.setRequestHeader(headerName, authOptions.headers[headerName]);\n    }\n    if (authOptions.headersProvider != null) {\n        let dynamicHeaders = authOptions.headersProvider();\n        for (var headerName in dynamicHeaders) {\n            xhr.setRequestHeader(headerName, dynamicHeaders[headerName]);\n        }\n    }\n    xhr.onreadystatechange = function () {\n        if (xhr.readyState === 4) {\n            if (xhr.status === 200) {\n                let data;\n                let parsed = false;\n                try {\n                    data = JSON.parse(xhr.responseText);\n                    parsed = true;\n                }\n                catch (e) {\n                    callback(new HTTPAuthError(200, `JSON returned from ${authRequestType.toString()} endpoint was invalid, yet status code was 200. Data was: ${xhr.responseText}`), null);\n                }\n                if (parsed) {\n                    callback(null, data);\n                }\n            }\n            else {\n                let suffix = '';\n                switch (authRequestType) {\n                    case AuthRequestType.UserAuthentication:\n                        suffix = url_store.buildLogSuffix('authenticationEndpoint');\n                        break;\n                    case AuthRequestType.ChannelAuthorization:\n                        suffix = `Clients must be authorized to join private or presence channels. ${url_store.buildLogSuffix('authorizationEndpoint')}`;\n                        break;\n                }\n                callback(new HTTPAuthError(xhr.status, `Unable to retrieve auth string from ${authRequestType.toString()} endpoint - ` +\n                    `received status: ${xhr.status} from ${authOptions.endpoint}. ${suffix}`), null);\n            }\n        }\n    };\n    xhr.send(query);\n    return xhr;\n};\n/* harmony default export */ var xhr_auth = (ajax);\n\n// CONCATENATED MODULE: ./src/core/base64.ts\nfunction encode(s) {\n    return btoa(utob(s));\n}\nvar fromCharCode = String.fromCharCode;\nvar b64chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\nvar b64tab = {};\nfor (var base64_i = 0, l = b64chars.length; base64_i < l; base64_i++) {\n    b64tab[b64chars.charAt(base64_i)] = base64_i;\n}\nvar cb_utob = function (c) {\n    var cc = c.charCodeAt(0);\n    return cc < 0x80\n        ? c\n        : cc < 0x800\n            ? fromCharCode(0xc0 | (cc >>> 6)) + fromCharCode(0x80 | (cc & 0x3f))\n            : fromCharCode(0xe0 | ((cc >>> 12) & 0x0f)) +\n                fromCharCode(0x80 | ((cc >>> 6) & 0x3f)) +\n                fromCharCode(0x80 | (cc & 0x3f));\n};\nvar utob = function (u) {\n    return u.replace(/[^\\x00-\\x7F]/g, cb_utob);\n};\nvar cb_encode = function (ccc) {\n    var padlen = [0, 2, 1][ccc.length % 3];\n    var ord = (ccc.charCodeAt(0) << 16) |\n        ((ccc.length > 1 ? ccc.charCodeAt(1) : 0) << 8) |\n        (ccc.length > 2 ? ccc.charCodeAt(2) : 0);\n    var chars = [\n        b64chars.charAt(ord >>> 18),\n        b64chars.charAt((ord >>> 12) & 63),\n        padlen >= 2 ? '=' : b64chars.charAt((ord >>> 6) & 63),\n        padlen >= 1 ? '=' : b64chars.charAt(ord & 63)\n    ];\n    return chars.join('');\n};\nvar btoa = window.btoa ||\n    function (b) {\n        return b.replace(/[\\s\\S]{1,3}/g, cb_encode);\n    };\n\n// CONCATENATED MODULE: ./src/core/utils/timers/abstract_timer.ts\nclass Timer {\n    constructor(set, clear, delay, callback) {\n        this.clear = clear;\n        this.timer = set(() => {\n            if (this.timer) {\n                this.timer = callback(this.timer);\n            }\n        }, delay);\n    }\n    isRunning() {\n        return this.timer !== null;\n    }\n    ensureAborted() {\n        if (this.timer) {\n            this.clear(this.timer);\n            this.timer = null;\n        }\n    }\n}\n/* harmony default export */ var abstract_timer = (Timer);\n\n// CONCATENATED MODULE: ./src/core/utils/timers/index.ts\n\nfunction timers_clearTimeout(timer) {\n    window.clearTimeout(timer);\n}\nfunction timers_clearInterval(timer) {\n    window.clearInterval(timer);\n}\nclass timers_OneOffTimer extends abstract_timer {\n    constructor(delay, callback) {\n        super(setTimeout, timers_clearTimeout, delay, function (timer) {\n            callback();\n            return null;\n        });\n    }\n}\nclass timers_PeriodicTimer extends abstract_timer {\n    constructor(delay, callback) {\n        super(setInterval, timers_clearInterval, delay, function (timer) {\n            callback();\n            return timer;\n        });\n    }\n}\n\n// CONCATENATED MODULE: ./src/core/util.ts\n\nvar Util = {\n    now() {\n        if (Date.now) {\n            return Date.now();\n        }\n        else {\n            return new Date().valueOf();\n        }\n    },\n    defer(callback) {\n        return new timers_OneOffTimer(0, callback);\n    },\n    method(name, ...args) {\n        var boundArguments = Array.prototype.slice.call(arguments, 1);\n        return function (object) {\n            return object[name].apply(object, boundArguments.concat(arguments));\n        };\n    }\n};\n/* harmony default export */ var util = (Util);\n\n// CONCATENATED MODULE: ./src/core/utils/collections.ts\n\n\nfunction extend(target, ...sources) {\n    for (var i = 0; i < sources.length; i++) {\n        var extensions = sources[i];\n        for (var property in extensions) {\n            if (extensions[property] &&\n                extensions[property].constructor &&\n                extensions[property].constructor === Object) {\n                target[property] = extend(target[property] || {}, extensions[property]);\n            }\n            else {\n                target[property] = extensions[property];\n            }\n        }\n    }\n    return target;\n}\nfunction stringify() {\n    var m = ['Pusher'];\n    for (var i = 0; i < arguments.length; i++) {\n        if (typeof arguments[i] === 'string') {\n            m.push(arguments[i]);\n        }\n        else {\n            m.push(safeJSONStringify(arguments[i]));\n        }\n    }\n    return m.join(' : ');\n}\nfunction arrayIndexOf(array, item) {\n    var nativeIndexOf = Array.prototype.indexOf;\n    if (array === null) {\n        return -1;\n    }\n    if (nativeIndexOf && array.indexOf === nativeIndexOf) {\n        return array.indexOf(item);\n    }\n    for (var i = 0, l = array.length; i < l; i++) {\n        if (array[i] === item) {\n            return i;\n        }\n    }\n    return -1;\n}\nfunction objectApply(object, f) {\n    for (var key in object) {\n        if (Object.prototype.hasOwnProperty.call(object, key)) {\n            f(object[key], key, object);\n        }\n    }\n}\nfunction keys(object) {\n    var keys = [];\n    objectApply(object, function (_, key) {\n        keys.push(key);\n    });\n    return keys;\n}\nfunction values(object) {\n    var values = [];\n    objectApply(object, function (value) {\n        values.push(value);\n    });\n    return values;\n}\nfunction apply(array, f, context) {\n    for (var i = 0; i < array.length; i++) {\n        f.call(context || window, array[i], i, array);\n    }\n}\nfunction map(array, f) {\n    var result = [];\n    for (var i = 0; i < array.length; i++) {\n        result.push(f(array[i], i, array, result));\n    }\n    return result;\n}\nfunction mapObject(object, f) {\n    var result = {};\n    objectApply(object, function (value, key) {\n        result[key] = f(value);\n    });\n    return result;\n}\nfunction filter(array, test) {\n    test =\n        test ||\n            function (value) {\n                return !!value;\n            };\n    var result = [];\n    for (var i = 0; i < array.length; i++) {\n        if (test(array[i], i, array, result)) {\n            result.push(array[i]);\n        }\n    }\n    return result;\n}\nfunction filterObject(object, test) {\n    var result = {};\n    objectApply(object, function (value, key) {\n        if ((test && test(value, key, object, result)) || Boolean(value)) {\n            result[key] = value;\n        }\n    });\n    return result;\n}\nfunction flatten(object) {\n    var result = [];\n    objectApply(object, function (value, key) {\n        result.push([key, value]);\n    });\n    return result;\n}\nfunction any(array, test) {\n    for (var i = 0; i < array.length; i++) {\n        if (test(array[i], i, array)) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction collections_all(array, test) {\n    for (var i = 0; i < array.length; i++) {\n        if (!test(array[i], i, array)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction encodeParamsObject(data) {\n    return mapObject(data, function (value) {\n        if (typeof value === 'object') {\n            value = safeJSONStringify(value);\n        }\n        return encodeURIComponent(encode(value.toString()));\n    });\n}\nfunction buildQueryString(data) {\n    var params = filterObject(data, function (value) {\n        return value !== undefined;\n    });\n    var query = map(flatten(encodeParamsObject(params)), util.method('join', '=')).join('&');\n    return query;\n}\nfunction decycleObject(object) {\n    var objects = [], paths = [];\n    return (function derez(value, path) {\n        var i, name, nu;\n        switch (typeof value) {\n            case 'object':\n                if (!value) {\n                    return null;\n                }\n                for (i = 0; i < objects.length; i += 1) {\n                    if (objects[i] === value) {\n                        return { $ref: paths[i] };\n                    }\n                }\n                objects.push(value);\n                paths.push(path);\n                if (Object.prototype.toString.apply(value) === '[object Array]') {\n                    nu = [];\n                    for (i = 0; i < value.length; i += 1) {\n                        nu[i] = derez(value[i], path + '[' + i + ']');\n                    }\n                }\n                else {\n                    nu = {};\n                    for (name in value) {\n                        if (Object.prototype.hasOwnProperty.call(value, name)) {\n                            nu[name] = derez(value[name], path + '[' + JSON.stringify(name) + ']');\n                        }\n                    }\n                }\n                return nu;\n            case 'number':\n            case 'string':\n            case 'boolean':\n                return value;\n        }\n    })(object, '$');\n}\nfunction safeJSONStringify(source) {\n    try {\n        return JSON.stringify(source);\n    }\n    catch (e) {\n        return JSON.stringify(decycleObject(source));\n    }\n}\n\n// CONCATENATED MODULE: ./src/core/logger.ts\n\n\nclass logger_Logger {\n    constructor() {\n        this.globalLog = (message) => {\n            if (window.console && window.console.log) {\n                window.console.log(message);\n            }\n        };\n    }\n    debug(...args) {\n        this.log(this.globalLog, args);\n    }\n    warn(...args) {\n        this.log(this.globalLogWarn, args);\n    }\n    error(...args) {\n        this.log(this.globalLogError, args);\n    }\n    globalLogWarn(message) {\n        if (window.console && window.console.warn) {\n            window.console.warn(message);\n        }\n        else {\n            this.globalLog(message);\n        }\n    }\n    globalLogError(message) {\n        if (window.console && window.console.error) {\n            window.console.error(message);\n        }\n        else {\n            this.globalLogWarn(message);\n        }\n    }\n    log(defaultLoggingFunction, ...args) {\n        var message = stringify.apply(this, arguments);\n        if (core_pusher.log) {\n            core_pusher.log(message);\n        }\n        else if (core_pusher.logToConsole) {\n            const log = defaultLoggingFunction.bind(this);\n            log(message);\n        }\n    }\n}\n/* harmony default export */ var logger = (new logger_Logger());\n\n// CONCATENATED MODULE: ./src/runtimes/web/auth/jsonp_auth.ts\n\nvar jsonp = function (context, query, authOptions, authRequestType, callback) {\n    if (authOptions.headers !== undefined ||\n        authOptions.headersProvider != null) {\n        logger.warn(`To send headers with the ${authRequestType.toString()} request, you must use AJAX, rather than JSONP.`);\n    }\n    var callbackName = context.nextAuthCallbackID.toString();\n    context.nextAuthCallbackID++;\n    var document = context.getDocument();\n    var script = document.createElement('script');\n    context.auth_callbacks[callbackName] = function (data) {\n        callback(null, data);\n    };\n    var callback_name = \"Pusher.auth_callbacks['\" + callbackName + \"']\";\n    script.src =\n        authOptions.endpoint +\n            '?callback=' +\n            encodeURIComponent(callback_name) +\n            '&' +\n            query;\n    var head = document.getElementsByTagName('head')[0] || document.documentElement;\n    head.insertBefore(script, head.firstChild);\n};\n/* harmony default export */ var jsonp_auth = (jsonp);\n\n// CONCATENATED MODULE: ./src/runtimes/web/dom/script_request.ts\nclass ScriptRequest {\n    constructor(src) {\n        this.src = src;\n    }\n    send(receiver) {\n        var self = this;\n        var errorString = 'Error loading ' + self.src;\n        self.script = document.createElement('script');\n        self.script.id = receiver.id;\n        self.script.src = self.src;\n        self.script.type = 'text/javascript';\n        self.script.charset = 'UTF-8';\n        if (self.script.addEventListener) {\n            self.script.onerror = function () {\n                receiver.callback(errorString);\n            };\n            self.script.onload = function () {\n                receiver.callback(null);\n            };\n        }\n        else {\n            self.script.onreadystatechange = function () {\n                if (self.script.readyState === 'loaded' ||\n                    self.script.readyState === 'complete') {\n                    receiver.callback(null);\n                }\n            };\n        }\n        if (self.script.async === undefined &&\n            document.attachEvent &&\n            /opera/i.test(navigator.userAgent)) {\n            self.errorScript = document.createElement('script');\n            self.errorScript.id = receiver.id + '_error';\n            self.errorScript.text = receiver.name + \"('\" + errorString + \"');\";\n            self.script.async = self.errorScript.async = false;\n        }\n        else {\n            self.script.async = true;\n        }\n        var head = document.getElementsByTagName('head')[0];\n        head.insertBefore(self.script, head.firstChild);\n        if (self.errorScript) {\n            head.insertBefore(self.errorScript, self.script.nextSibling);\n        }\n    }\n    cleanup() {\n        if (this.script) {\n            this.script.onload = this.script.onerror = null;\n            this.script.onreadystatechange = null;\n        }\n        if (this.script && this.script.parentNode) {\n            this.script.parentNode.removeChild(this.script);\n        }\n        if (this.errorScript && this.errorScript.parentNode) {\n            this.errorScript.parentNode.removeChild(this.errorScript);\n        }\n        this.script = null;\n        this.errorScript = null;\n    }\n}\n\n// CONCATENATED MODULE: ./src/runtimes/web/dom/jsonp_request.ts\n\n\nclass jsonp_request_JSONPRequest {\n    constructor(url, data) {\n        this.url = url;\n        this.data = data;\n    }\n    send(receiver) {\n        if (this.request) {\n            return;\n        }\n        var query = buildQueryString(this.data);\n        var url = this.url + '/' + receiver.number + '?' + query;\n        this.request = runtime.createScriptRequest(url);\n        this.request.send(receiver);\n    }\n    cleanup() {\n        if (this.request) {\n            this.request.cleanup();\n        }\n    }\n}\n\n// CONCATENATED MODULE: ./src/runtimes/web/timeline/jsonp_timeline.ts\n\n\nvar getAgent = function (sender, useTLS) {\n    return function (data, callback) {\n        var scheme = 'http' + (useTLS ? 's' : '') + '://';\n        var url = scheme + (sender.host || sender.options.host) + sender.options.path;\n        var request = runtime.createJSONPRequest(url, data);\n        var receiver = runtime.ScriptReceivers.create(function (error, result) {\n            ScriptReceivers.remove(receiver);\n            request.cleanup();\n            if (result && result.host) {\n                sender.host = result.host;\n            }\n            if (callback) {\n                callback(error, result);\n            }\n        });\n        request.send(receiver);\n    };\n};\nvar jsonp_timeline_jsonp = {\n    name: 'jsonp',\n    getAgent\n};\n/* harmony default export */ var jsonp_timeline = (jsonp_timeline_jsonp);\n\n// CONCATENATED MODULE: ./src/core/transports/url_schemes.ts\n\nfunction getGenericURL(baseScheme, params, path) {\n    var scheme = baseScheme + (params.useTLS ? 's' : '');\n    var host = params.useTLS ? params.hostTLS : params.hostNonTLS;\n    return scheme + '://' + host + path;\n}\nfunction getGenericPath(key, queryString) {\n    var path = '/app/' + key;\n    var query = '?protocol=' +\n        defaults.PROTOCOL +\n        '&client=js' +\n        '&version=' +\n        defaults.VERSION +\n        (queryString ? '&' + queryString : '');\n    return path + query;\n}\nvar ws = {\n    getInitial: function (key, params) {\n        var path = (params.httpPath || '') + getGenericPath(key, 'flash=false');\n        return getGenericURL('ws', params, path);\n    }\n};\nvar http = {\n    getInitial: function (key, params) {\n        var path = (params.httpPath || '/pusher') + getGenericPath(key);\n        return getGenericURL('http', params, path);\n    }\n};\nvar sockjs = {\n    getInitial: function (key, params) {\n        return getGenericURL('http', params, params.httpPath || '/pusher');\n    },\n    getPath: function (key, params) {\n        return getGenericPath(key);\n    }\n};\n\n// CONCATENATED MODULE: ./src/core/events/callback_registry.ts\n\nclass callback_registry_CallbackRegistry {\n    constructor() {\n        this._callbacks = {};\n    }\n    get(name) {\n        return this._callbacks[prefix(name)];\n    }\n    add(name, callback, context) {\n        var prefixedEventName = prefix(name);\n        this._callbacks[prefixedEventName] =\n            this._callbacks[prefixedEventName] || [];\n        this._callbacks[prefixedEventName].push({\n            fn: callback,\n            context: context\n        });\n    }\n    remove(name, callback, context) {\n        if (!name && !callback && !context) {\n            this._callbacks = {};\n            return;\n        }\n        var names = name ? [prefix(name)] : keys(this._callbacks);\n        if (callback || context) {\n            this.removeCallback(names, callback, context);\n        }\n        else {\n            this.removeAllCallbacks(names);\n        }\n    }\n    removeCallback(names, callback, context) {\n        apply(names, function (name) {\n            this._callbacks[name] = filter(this._callbacks[name] || [], function (binding) {\n                return ((callback && callback !== binding.fn) ||\n                    (context && context !== binding.context));\n            });\n            if (this._callbacks[name].length === 0) {\n                delete this._callbacks[name];\n            }\n        }, this);\n    }\n    removeAllCallbacks(names) {\n        apply(names, function (name) {\n            delete this._callbacks[name];\n        }, this);\n    }\n}\nfunction prefix(name) {\n    return '_' + name;\n}\n\n// CONCATENATED MODULE: ./src/core/events/dispatcher.ts\n\n\nclass dispatcher_Dispatcher {\n    constructor(failThrough) {\n        this.callbacks = new callback_registry_CallbackRegistry();\n        this.global_callbacks = [];\n        this.failThrough = failThrough;\n    }\n    bind(eventName, callback, context) {\n        this.callbacks.add(eventName, callback, context);\n        return this;\n    }\n    bind_global(callback) {\n        this.global_callbacks.push(callback);\n        return this;\n    }\n    unbind(eventName, callback, context) {\n        this.callbacks.remove(eventName, callback, context);\n        return this;\n    }\n    unbind_global(callback) {\n        if (!callback) {\n            this.global_callbacks = [];\n            return this;\n        }\n        this.global_callbacks = filter(this.global_callbacks || [], c => c !== callback);\n        return this;\n    }\n    unbind_all() {\n        this.unbind();\n        this.unbind_global();\n        return this;\n    }\n    emit(eventName, data, metadata) {\n        for (var i = 0; i < this.global_callbacks.length; i++) {\n            this.global_callbacks[i](eventName, data);\n        }\n        var callbacks = this.callbacks.get(eventName);\n        var args = [];\n        if (metadata) {\n            args.push(data, metadata);\n        }\n        else if (data) {\n            args.push(data);\n        }\n        if (callbacks && callbacks.length > 0) {\n            for (var i = 0; i < callbacks.length; i++) {\n                callbacks[i].fn.apply(callbacks[i].context || window, args);\n            }\n        }\n        else if (this.failThrough) {\n            this.failThrough(eventName, data);\n        }\n        return this;\n    }\n}\n\n// CONCATENATED MODULE: ./src/core/transports/transport_connection.ts\n\n\n\n\n\nclass transport_connection_TransportConnection extends dispatcher_Dispatcher {\n    constructor(hooks, name, priority, key, options) {\n        super();\n        this.initialize = runtime.transportConnectionInitializer;\n        this.hooks = hooks;\n        this.name = name;\n        this.priority = priority;\n        this.key = key;\n        this.options = options;\n        this.state = 'new';\n        this.timeline = options.timeline;\n        this.activityTimeout = options.activityTimeout;\n        this.id = this.timeline.generateUniqueID();\n    }\n    handlesActivityChecks() {\n        return Boolean(this.hooks.handlesActivityChecks);\n    }\n    supportsPing() {\n        return Boolean(this.hooks.supportsPing);\n    }\n    connect() {\n        if (this.socket || this.state !== 'initialized') {\n            return false;\n        }\n        var url = this.hooks.urls.getInitial(this.key, this.options);\n        try {\n            this.socket = this.hooks.getSocket(url, this.options);\n        }\n        catch (e) {\n            util.defer(() => {\n                this.onError(e);\n                this.changeState('closed');\n            });\n            return false;\n        }\n        this.bindListeners();\n        logger.debug('Connecting', { transport: this.name, url });\n        this.changeState('connecting');\n        return true;\n    }\n    close() {\n        if (this.socket) {\n            this.socket.close();\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n    send(data) {\n        if (this.state === 'open') {\n            util.defer(() => {\n                if (this.socket) {\n                    this.socket.send(data);\n                }\n            });\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n    ping() {\n        if (this.state === 'open' && this.supportsPing()) {\n            this.socket.ping();\n        }\n    }\n    onOpen() {\n        if (this.hooks.beforeOpen) {\n            this.hooks.beforeOpen(this.socket, this.hooks.urls.getPath(this.key, this.options));\n        }\n        this.changeState('open');\n        this.socket.onopen = undefined;\n    }\n    onError(error) {\n        this.emit('error', { type: 'WebSocketError', error: error });\n        this.timeline.error(this.buildTimelineMessage({ error: error.toString() }));\n    }\n    onClose(closeEvent) {\n        if (closeEvent) {\n            this.changeState('closed', {\n                code: closeEvent.code,\n                reason: closeEvent.reason,\n                wasClean: closeEvent.wasClean\n            });\n        }\n        else {\n            this.changeState('closed');\n        }\n        this.unbindListeners();\n        this.socket = undefined;\n    }\n    onMessage(message) {\n        this.emit('message', message);\n    }\n    onActivity() {\n        this.emit('activity');\n    }\n    bindListeners() {\n        this.socket.onopen = () => {\n            this.onOpen();\n        };\n        this.socket.onerror = error => {\n            this.onError(error);\n        };\n        this.socket.onclose = closeEvent => {\n            this.onClose(closeEvent);\n        };\n        this.socket.onmessage = message => {\n            this.onMessage(message);\n        };\n        if (this.supportsPing()) {\n            this.socket.onactivity = () => {\n                this.onActivity();\n            };\n        }\n    }\n    unbindListeners() {\n        if (this.socket) {\n            this.socket.onopen = undefined;\n            this.socket.onerror = undefined;\n            this.socket.onclose = undefined;\n            this.socket.onmessage = undefined;\n            if (this.supportsPing()) {\n                this.socket.onactivity = undefined;\n            }\n        }\n    }\n    changeState(state, params) {\n        this.state = state;\n        this.timeline.info(this.buildTimelineMessage({\n            state: state,\n            params: params\n        }));\n        this.emit(state, params);\n    }\n    buildTimelineMessage(message) {\n        return extend({ cid: this.id }, message);\n    }\n}\n\n// CONCATENATED MODULE: ./src/core/transports/transport.ts\n\nclass transport_Transport {\n    constructor(hooks) {\n        this.hooks = hooks;\n    }\n    isSupported(environment) {\n        return this.hooks.isSupported(environment);\n    }\n    createConnection(name, priority, key, options) {\n        return new transport_connection_TransportConnection(this.hooks, name, priority, key, options);\n    }\n}\n\n// CONCATENATED MODULE: ./src/runtimes/isomorphic/transports/transports.ts\n\n\n\n\nvar WSTransport = new transport_Transport({\n    urls: ws,\n    handlesActivityChecks: false,\n    supportsPing: false,\n    isInitialized: function () {\n        return Boolean(runtime.getWebSocketAPI());\n    },\n    isSupported: function () {\n        return Boolean(runtime.getWebSocketAPI());\n    },\n    getSocket: function (url) {\n        return runtime.createWebSocket(url);\n    }\n});\nvar httpConfiguration = {\n    urls: http,\n    handlesActivityChecks: false,\n    supportsPing: true,\n    isInitialized: function () {\n        return true;\n    }\n};\nvar streamingConfiguration = extend({\n    getSocket: function (url) {\n        return runtime.HTTPFactory.createStreamingSocket(url);\n    }\n}, httpConfiguration);\nvar pollingConfiguration = extend({\n    getSocket: function (url) {\n        return runtime.HTTPFactory.createPollingSocket(url);\n    }\n}, httpConfiguration);\nvar xhrConfiguration = {\n    isSupported: function () {\n        return runtime.isXHRSupported();\n    }\n};\nvar XHRStreamingTransport = new transport_Transport((extend({}, streamingConfiguration, xhrConfiguration)));\nvar XHRPollingTransport = new transport_Transport(extend({}, pollingConfiguration, xhrConfiguration));\nvar Transports = {\n    ws: WSTransport,\n    xhr_streaming: XHRStreamingTransport,\n    xhr_polling: XHRPollingTransport\n};\n/* harmony default export */ var transports = (Transports);\n\n// CONCATENATED MODULE: ./src/runtimes/web/transports/transports.ts\n\n\n\n\n\n\nvar SockJSTransport = new transport_Transport({\n    file: 'sockjs',\n    urls: sockjs,\n    handlesActivityChecks: true,\n    supportsPing: false,\n    isSupported: function () {\n        return true;\n    },\n    isInitialized: function () {\n        return window.SockJS !== undefined;\n    },\n    getSocket: function (url, options) {\n        return new window.SockJS(url, null, {\n            js_path: Dependencies.getPath('sockjs', {\n                useTLS: options.useTLS\n            }),\n            ignore_null_origin: options.ignoreNullOrigin\n        });\n    },\n    beforeOpen: function (socket, path) {\n        socket.send(JSON.stringify({\n            path: path\n        }));\n    }\n});\nvar xdrConfiguration = {\n    isSupported: function (environment) {\n        var yes = runtime.isXDRSupported(environment.useTLS);\n        return yes;\n    }\n};\nvar XDRStreamingTransport = new transport_Transport((extend({}, streamingConfiguration, xdrConfiguration)));\nvar XDRPollingTransport = new transport_Transport(extend({}, pollingConfiguration, xdrConfiguration));\ntransports.xdr_streaming = XDRStreamingTransport;\ntransports.xdr_polling = XDRPollingTransport;\ntransports.sockjs = SockJSTransport;\n/* harmony default export */ var transports_transports = (transports);\n\n// CONCATENATED MODULE: ./src/runtimes/web/net_info.ts\n\nclass net_info_NetInfo extends dispatcher_Dispatcher {\n    constructor() {\n        super();\n        var self = this;\n        if (window.addEventListener !== undefined) {\n            window.addEventListener('online', function () {\n                self.emit('online');\n            }, false);\n            window.addEventListener('offline', function () {\n                self.emit('offline');\n            }, false);\n        }\n    }\n    isOnline() {\n        if (window.navigator.onLine === undefined) {\n            return true;\n        }\n        else {\n            return window.navigator.onLine;\n        }\n    }\n}\nvar net_info_Network = new net_info_NetInfo();\n\n// CONCATENATED MODULE: ./src/core/transports/assistant_to_the_transport_manager.ts\n\n\nclass assistant_to_the_transport_manager_AssistantToTheTransportManager {\n    constructor(manager, transport, options) {\n        this.manager = manager;\n        this.transport = transport;\n        this.minPingDelay = options.minPingDelay;\n        this.maxPingDelay = options.maxPingDelay;\n        this.pingDelay = undefined;\n    }\n    createConnection(name, priority, key, options) {\n        options = extend({}, options, {\n            activityTimeout: this.pingDelay\n        });\n        var connection = this.transport.createConnection(name, priority, key, options);\n        var openTimestamp = null;\n        var onOpen = function () {\n            connection.unbind('open', onOpen);\n            connection.bind('closed', onClosed);\n            openTimestamp = util.now();\n        };\n        var onClosed = closeEvent => {\n            connection.unbind('closed', onClosed);\n            if (closeEvent.code === 1002 || closeEvent.code === 1003) {\n                this.manager.reportDeath();\n            }\n            else if (!closeEvent.wasClean && openTimestamp) {\n                var lifespan = util.now() - openTimestamp;\n                if (lifespan < 2 * this.maxPingDelay) {\n                    this.manager.reportDeath();\n                    this.pingDelay = Math.max(lifespan / 2, this.minPingDelay);\n                }\n            }\n        };\n        connection.bind('open', onOpen);\n        return connection;\n    }\n    isSupported(environment) {\n        return this.manager.isAlive() && this.transport.isSupported(environment);\n    }\n}\n\n// CONCATENATED MODULE: ./src/core/connection/protocol/protocol.ts\nconst Protocol = {\n    decodeMessage: function (messageEvent) {\n        try {\n            var messageData = JSON.parse(messageEvent.data);\n            var pusherEventData = messageData.data;\n            if (typeof pusherEventData === 'string') {\n                try {\n                    pusherEventData = JSON.parse(messageData.data);\n                }\n                catch (e) { }\n            }\n            var pusherEvent = {\n                event: messageData.event,\n                channel: messageData.channel,\n                data: pusherEventData\n            };\n            if (messageData.user_id) {\n                pusherEvent.user_id = messageData.user_id;\n            }\n            return pusherEvent;\n        }\n        catch (e) {\n            throw { type: 'MessageParseError', error: e, data: messageEvent.data };\n        }\n    },\n    encodeMessage: function (event) {\n        return JSON.stringify(event);\n    },\n    processHandshake: function (messageEvent) {\n        var message = Protocol.decodeMessage(messageEvent);\n        if (message.event === 'pusher:connection_established') {\n            if (!message.data.activity_timeout) {\n                throw 'No activity timeout specified in handshake';\n            }\n            return {\n                action: 'connected',\n                id: message.data.socket_id,\n                activityTimeout: message.data.activity_timeout * 1000\n            };\n        }\n        else if (message.event === 'pusher:error') {\n            return {\n                action: this.getCloseAction(message.data),\n                error: this.getCloseError(message.data)\n            };\n        }\n        else {\n            throw 'Invalid handshake';\n        }\n    },\n    getCloseAction: function (closeEvent) {\n        if (closeEvent.code < 4000) {\n            if (closeEvent.code >= 1002 && closeEvent.code <= 1004) {\n                return 'backoff';\n            }\n            else {\n                return null;\n            }\n        }\n        else if (closeEvent.code === 4000) {\n            return 'tls_only';\n        }\n        else if (closeEvent.code < 4100) {\n            return 'refused';\n        }\n        else if (closeEvent.code < 4200) {\n            return 'backoff';\n        }\n        else if (closeEvent.code < 4300) {\n            return 'retry';\n        }\n        else {\n            return 'refused';\n        }\n    },\n    getCloseError: function (closeEvent) {\n        if (closeEvent.code !== 1000 && closeEvent.code !== 1001) {\n            return {\n                type: 'PusherError',\n                data: {\n                    code: closeEvent.code,\n                    message: closeEvent.reason || closeEvent.message\n                }\n            };\n        }\n        else {\n            return null;\n        }\n    }\n};\n/* harmony default export */ var protocol_protocol = (Protocol);\n\n// CONCATENATED MODULE: ./src/core/connection/connection.ts\n\n\n\n\nclass connection_Connection extends dispatcher_Dispatcher {\n    constructor(id, transport) {\n        super();\n        this.id = id;\n        this.transport = transport;\n        this.activityTimeout = transport.activityTimeout;\n        this.bindListeners();\n    }\n    handlesActivityChecks() {\n        return this.transport.handlesActivityChecks();\n    }\n    send(data) {\n        return this.transport.send(data);\n    }\n    send_event(name, data, channel) {\n        var event = { event: name, data: data };\n        if (channel) {\n            event.channel = channel;\n        }\n        logger.debug('Event sent', event);\n        return this.send(protocol_protocol.encodeMessage(event));\n    }\n    ping() {\n        if (this.transport.supportsPing()) {\n            this.transport.ping();\n        }\n        else {\n            this.send_event('pusher:ping', {});\n        }\n    }\n    close() {\n        this.transport.close();\n    }\n    bindListeners() {\n        var listeners = {\n            message: (messageEvent) => {\n                var pusherEvent;\n                try {\n                    pusherEvent = protocol_protocol.decodeMessage(messageEvent);\n                }\n                catch (e) {\n                    this.emit('error', {\n                        type: 'MessageParseError',\n                        error: e,\n                        data: messageEvent.data\n                    });\n                }\n                if (pusherEvent !== undefined) {\n                    logger.debug('Event recd', pusherEvent);\n                    switch (pusherEvent.event) {\n                        case 'pusher:error':\n                            this.emit('error', {\n                                type: 'PusherError',\n                                data: pusherEvent.data\n                            });\n                            break;\n                        case 'pusher:ping':\n                            this.emit('ping');\n                            break;\n                        case 'pusher:pong':\n                            this.emit('pong');\n                            break;\n                    }\n                    this.emit('message', pusherEvent);\n                }\n            },\n            activity: () => {\n                this.emit('activity');\n            },\n            error: error => {\n                this.emit('error', error);\n            },\n            closed: closeEvent => {\n                unbindListeners();\n                if (closeEvent && closeEvent.code) {\n                    this.handleCloseEvent(closeEvent);\n                }\n                this.transport = null;\n                this.emit('closed');\n            }\n        };\n        var unbindListeners = () => {\n            objectApply(listeners, (listener, event) => {\n                this.transport.unbind(event, listener);\n            });\n        };\n        objectApply(listeners, (listener, event) => {\n            this.transport.bind(event, listener);\n        });\n    }\n    handleCloseEvent(closeEvent) {\n        var action = protocol_protocol.getCloseAction(closeEvent);\n        var error = protocol_protocol.getCloseError(closeEvent);\n        if (error) {\n            this.emit('error', error);\n        }\n        if (action) {\n            this.emit(action, { action: action, error: error });\n        }\n    }\n}\n\n// CONCATENATED MODULE: ./src/core/connection/handshake/index.ts\n\n\n\nclass handshake_Handshake {\n    constructor(transport, callback) {\n        this.transport = transport;\n        this.callback = callback;\n        this.bindListeners();\n    }\n    close() {\n        this.unbindListeners();\n        this.transport.close();\n    }\n    bindListeners() {\n        this.onMessage = m => {\n            this.unbindListeners();\n            var result;\n            try {\n                result = protocol_protocol.processHandshake(m);\n            }\n            catch (e) {\n                this.finish('error', { error: e });\n                this.transport.close();\n                return;\n            }\n            if (result.action === 'connected') {\n                this.finish('connected', {\n                    connection: new connection_Connection(result.id, this.transport),\n                    activityTimeout: result.activityTimeout\n                });\n            }\n            else {\n                this.finish(result.action, { error: result.error });\n                this.transport.close();\n            }\n        };\n        this.onClosed = closeEvent => {\n            this.unbindListeners();\n            var action = protocol_protocol.getCloseAction(closeEvent) || 'backoff';\n            var error = protocol_protocol.getCloseError(closeEvent);\n            this.finish(action, { error: error });\n        };\n        this.transport.bind('message', this.onMessage);\n        this.transport.bind('closed', this.onClosed);\n    }\n    unbindListeners() {\n        this.transport.unbind('message', this.onMessage);\n        this.transport.unbind('closed', this.onClosed);\n    }\n    finish(action, params) {\n        this.callback(extend({ transport: this.transport, action: action }, params));\n    }\n}\n\n// CONCATENATED MODULE: ./src/core/timeline/timeline_sender.ts\n\nclass timeline_sender_TimelineSender {\n    constructor(timeline, options) {\n        this.timeline = timeline;\n        this.options = options || {};\n    }\n    send(useTLS, callback) {\n        if (this.timeline.isEmpty()) {\n            return;\n        }\n        this.timeline.send(runtime.TimelineTransport.getAgent(this, useTLS), callback);\n    }\n}\n\n// CONCATENATED MODULE: ./src/core/channels/channel.ts\n\n\n\n\n\nclass channel_Channel extends dispatcher_Dispatcher {\n    constructor(name, pusher) {\n        super(function (event, data) {\n            logger.debug('No callbacks on ' + name + ' for ' + event);\n        });\n        this.name = name;\n        this.pusher = pusher;\n        this.subscribed = false;\n        this.subscriptionPending = false;\n        this.subscriptionCancelled = false;\n    }\n    authorize(socketId, callback) {\n        return callback(null, { auth: '' });\n    }\n    trigger(event, data) {\n        if (event.indexOf('client-') !== 0) {\n            throw new BadEventName(\"Event '\" + event + \"' does not start with 'client-'\");\n        }\n        if (!this.subscribed) {\n            var suffix = url_store.buildLogSuffix('triggeringClientEvents');\n            logger.warn(`Client event triggered before channel 'subscription_succeeded' event . ${suffix}`);\n        }\n        return this.pusher.send_event(event, data, this.name);\n    }\n    disconnect() {\n        this.subscribed = false;\n        this.subscriptionPending = false;\n    }\n    handleEvent(event) {\n        var eventName = event.event;\n        var data = event.data;\n        if (eventName === 'pusher_internal:subscription_succeeded') {\n            this.handleSubscriptionSucceededEvent(event);\n        }\n        else if (eventName === 'pusher_internal:subscription_count') {\n            this.handleSubscriptionCountEvent(event);\n        }\n        else if (eventName.indexOf('pusher_internal:') !== 0) {\n            var metadata = {};\n            this.emit(eventName, data, metadata);\n        }\n    }\n    handleSubscriptionSucceededEvent(event) {\n        this.subscriptionPending = false;\n        this.subscribed = true;\n        if (this.subscriptionCancelled) {\n            this.pusher.unsubscribe(this.name);\n        }\n        else {\n            this.emit('pusher:subscription_succeeded', event.data);\n        }\n    }\n    handleSubscriptionCountEvent(event) {\n        if (event.data.subscription_count) {\n            this.subscriptionCount = event.data.subscription_count;\n        }\n        this.emit('pusher:subscription_count', event.data);\n    }\n    subscribe() {\n        if (this.subscribed) {\n            return;\n        }\n        this.subscriptionPending = true;\n        this.subscriptionCancelled = false;\n        this.authorize(this.pusher.connection.socket_id, (error, data) => {\n            if (error) {\n                this.subscriptionPending = false;\n                logger.error(error.toString());\n                this.emit('pusher:subscription_error', Object.assign({}, {\n                    type: 'AuthError',\n                    error: error.message\n                }, error instanceof HTTPAuthError ? { status: error.status } : {}));\n            }\n            else {\n                this.pusher.send_event('pusher:subscribe', {\n                    auth: data.auth,\n                    channel_data: data.channel_data,\n                    channel: this.name\n                });\n            }\n        });\n    }\n    unsubscribe() {\n        this.subscribed = false;\n        this.pusher.send_event('pusher:unsubscribe', {\n            channel: this.name\n        });\n    }\n    cancelSubscription() {\n        this.subscriptionCancelled = true;\n    }\n    reinstateSubscription() {\n        this.subscriptionCancelled = false;\n    }\n}\n\n// CONCATENATED MODULE: ./src/core/channels/private_channel.ts\n\nclass private_channel_PrivateChannel extends channel_Channel {\n    authorize(socketId, callback) {\n        return this.pusher.config.channelAuthorizer({\n            channelName: this.name,\n            socketId: socketId\n        }, callback);\n    }\n}\n\n// CONCATENATED MODULE: ./src/core/channels/members.ts\n\nclass members_Members {\n    constructor() {\n        this.reset();\n    }\n    get(id) {\n        if (Object.prototype.hasOwnProperty.call(this.members, id)) {\n            return {\n                id: id,\n                info: this.members[id]\n            };\n        }\n        else {\n            return null;\n        }\n    }\n    each(callback) {\n        objectApply(this.members, (member, id) => {\n            callback(this.get(id));\n        });\n    }\n    setMyID(id) {\n        this.myID = id;\n    }\n    onSubscription(subscriptionData) {\n        this.members = subscriptionData.presence.hash;\n        this.count = subscriptionData.presence.count;\n        this.me = this.get(this.myID);\n    }\n    addMember(memberData) {\n        if (this.get(memberData.user_id) === null) {\n            this.count++;\n        }\n        this.members[memberData.user_id] = memberData.user_info;\n        return this.get(memberData.user_id);\n    }\n    removeMember(memberData) {\n        var member = this.get(memberData.user_id);\n        if (member) {\n            delete this.members[memberData.user_id];\n            this.count--;\n        }\n        return member;\n    }\n    reset() {\n        this.members = {};\n        this.count = 0;\n        this.myID = null;\n        this.me = null;\n    }\n}\n\n// CONCATENATED MODULE: ./src/core/channels/presence_channel.ts\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\nclass presence_channel_PresenceChannel extends private_channel_PrivateChannel {\n    constructor(name, pusher) {\n        super(name, pusher);\n        this.members = new members_Members();\n    }\n    authorize(socketId, callback) {\n        super.authorize(socketId, (error, authData) => __awaiter(this, void 0, void 0, function* () {\n            if (!error) {\n                authData = authData;\n                if (authData.channel_data != null) {\n                    var channelData = JSON.parse(authData.channel_data);\n                    this.members.setMyID(channelData.user_id);\n                }\n                else {\n                    yield this.pusher.user.signinDonePromise;\n                    if (this.pusher.user.user_data != null) {\n                        this.members.setMyID(this.pusher.user.user_data.id);\n                    }\n                    else {\n                        let suffix = url_store.buildLogSuffix('authorizationEndpoint');\n                        logger.error(`Invalid auth response for channel '${this.name}', ` +\n                            `expected 'channel_data' field. ${suffix}, ` +\n                            `or the user should be signed in.`);\n                        callback('Invalid auth response');\n                        return;\n                    }\n                }\n            }\n            callback(error, authData);\n        }));\n    }\n    handleEvent(event) {\n        var eventName = event.event;\n        if (eventName.indexOf('pusher_internal:') === 0) {\n            this.handleInternalEvent(event);\n        }\n        else {\n            var data = event.data;\n            var metadata = {};\n            if (event.user_id) {\n                metadata.user_id = event.user_id;\n            }\n            this.emit(eventName, data, metadata);\n        }\n    }\n    handleInternalEvent(event) {\n        var eventName = event.event;\n        var data = event.data;\n        switch (eventName) {\n            case 'pusher_internal:subscription_succeeded':\n                this.handleSubscriptionSucceededEvent(event);\n                break;\n            case 'pusher_internal:subscription_count':\n                this.handleSubscriptionCountEvent(event);\n                break;\n            case 'pusher_internal:member_added':\n                var addedMember = this.members.addMember(data);\n                this.emit('pusher:member_added', addedMember);\n                break;\n            case 'pusher_internal:member_removed':\n                var removedMember = this.members.removeMember(data);\n                if (removedMember) {\n                    this.emit('pusher:member_removed', removedMember);\n                }\n                break;\n        }\n    }\n    handleSubscriptionSucceededEvent(event) {\n        this.subscriptionPending = false;\n        this.subscribed = true;\n        if (this.subscriptionCancelled) {\n            this.pusher.unsubscribe(this.name);\n        }\n        else {\n            this.members.onSubscription(event.data);\n            this.emit('pusher:subscription_succeeded', this.members);\n        }\n    }\n    disconnect() {\n        this.members.reset();\n        super.disconnect();\n    }\n}\n\n// EXTERNAL MODULE: ./node_modules/@stablelib/utf8/lib/utf8.js\nvar utf8 = __webpack_require__(1);\n\n// EXTERNAL MODULE: ./node_modules/@stablelib/base64/lib/base64.js\nvar base64 = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/core/channels/encrypted_channel.ts\n\n\n\n\n\nclass encrypted_channel_EncryptedChannel extends private_channel_PrivateChannel {\n    constructor(name, pusher, nacl) {\n        super(name, pusher);\n        this.key = null;\n        this.nacl = nacl;\n    }\n    authorize(socketId, callback) {\n        super.authorize(socketId, (error, authData) => {\n            if (error) {\n                callback(error, authData);\n                return;\n            }\n            let sharedSecret = authData['shared_secret'];\n            if (!sharedSecret) {\n                callback(new Error(`No shared_secret key in auth payload for encrypted channel: ${this.name}`), null);\n                return;\n            }\n            this.key = Object(base64[\"decode\"])(sharedSecret);\n            delete authData['shared_secret'];\n            callback(null, authData);\n        });\n    }\n    trigger(event, data) {\n        throw new UnsupportedFeature('Client events are not currently supported for encrypted channels');\n    }\n    handleEvent(event) {\n        var eventName = event.event;\n        var data = event.data;\n        if (eventName.indexOf('pusher_internal:') === 0 ||\n            eventName.indexOf('pusher:') === 0) {\n            super.handleEvent(event);\n            return;\n        }\n        this.handleEncryptedEvent(eventName, data);\n    }\n    handleEncryptedEvent(event, data) {\n        if (!this.key) {\n            logger.debug('Received encrypted event before key has been retrieved from the authEndpoint');\n            return;\n        }\n        if (!data.ciphertext || !data.nonce) {\n            logger.error('Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: ' +\n                data);\n            return;\n        }\n        let cipherText = Object(base64[\"decode\"])(data.ciphertext);\n        if (cipherText.length < this.nacl.secretbox.overheadLength) {\n            logger.error(`Expected encrypted event ciphertext length to be ${this.nacl.secretbox.overheadLength}, got: ${cipherText.length}`);\n            return;\n        }\n        let nonce = Object(base64[\"decode\"])(data.nonce);\n        if (nonce.length < this.nacl.secretbox.nonceLength) {\n            logger.error(`Expected encrypted event nonce length to be ${this.nacl.secretbox.nonceLength}, got: ${nonce.length}`);\n            return;\n        }\n        let bytes = this.nacl.secretbox.open(cipherText, nonce, this.key);\n        if (bytes === null) {\n            logger.debug('Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint...');\n            this.authorize(this.pusher.connection.socket_id, (error, authData) => {\n                if (error) {\n                    logger.error(`Failed to make a request to the authEndpoint: ${authData}. Unable to fetch new key, so dropping encrypted event`);\n                    return;\n                }\n                bytes = this.nacl.secretbox.open(cipherText, nonce, this.key);\n                if (bytes === null) {\n                    logger.error(`Failed to decrypt event with new key. Dropping encrypted event`);\n                    return;\n                }\n                this.emit(event, this.getDataToEmit(bytes));\n                return;\n            });\n            return;\n        }\n        this.emit(event, this.getDataToEmit(bytes));\n    }\n    getDataToEmit(bytes) {\n        let raw = Object(utf8[\"decode\"])(bytes);\n        try {\n            return JSON.parse(raw);\n        }\n        catch (_a) {\n            return raw;\n        }\n    }\n}\n\n// CONCATENATED MODULE: ./src/core/connection/connection_manager.ts\n\n\n\n\n\nclass connection_manager_ConnectionManager extends dispatcher_Dispatcher {\n    constructor(key, options) {\n        super();\n        this.state = 'initialized';\n        this.connection = null;\n        this.key = key;\n        this.options = options;\n        this.timeline = this.options.timeline;\n        this.usingTLS = this.options.useTLS;\n        this.errorCallbacks = this.buildErrorCallbacks();\n        this.connectionCallbacks = this.buildConnectionCallbacks(this.errorCallbacks);\n        this.handshakeCallbacks = this.buildHandshakeCallbacks(this.errorCallbacks);\n        var Network = runtime.getNetwork();\n        Network.bind('online', () => {\n            this.timeline.info({ netinfo: 'online' });\n            if (this.state === 'connecting' || this.state === 'unavailable') {\n                this.retryIn(0);\n            }\n        });\n        Network.bind('offline', () => {\n            this.timeline.info({ netinfo: 'offline' });\n            if (this.connection) {\n                this.sendActivityCheck();\n            }\n        });\n        this.updateStrategy();\n    }\n    connect() {\n        if (this.connection || this.runner) {\n            return;\n        }\n        if (!this.strategy.isSupported()) {\n            this.updateState('failed');\n            return;\n        }\n        this.updateState('connecting');\n        this.startConnecting();\n        this.setUnavailableTimer();\n    }\n    send(data) {\n        if (this.connection) {\n            return this.connection.send(data);\n        }\n        else {\n            return false;\n        }\n    }\n    send_event(name, data, channel) {\n        if (this.connection) {\n            return this.connection.send_event(name, data, channel);\n        }\n        else {\n            return false;\n        }\n    }\n    disconnect() {\n        this.disconnectInternally();\n        this.updateState('disconnected');\n    }\n    isUsingTLS() {\n        return this.usingTLS;\n    }\n    startConnecting() {\n        var callback = (error, handshake) => {\n            if (error) {\n                this.runner = this.strategy.connect(0, callback);\n            }\n            else {\n                if (handshake.action === 'error') {\n                    this.emit('error', {\n                        type: 'HandshakeError',\n                        error: handshake.error\n                    });\n                    this.timeline.error({ handshakeError: handshake.error });\n                }\n                else {\n                    this.abortConnecting();\n                    this.handshakeCallbacks[handshake.action](handshake);\n                }\n            }\n        };\n        this.runner = this.strategy.connect(0, callback);\n    }\n    abortConnecting() {\n        if (this.runner) {\n            this.runner.abort();\n            this.runner = null;\n        }\n    }\n    disconnectInternally() {\n        this.abortConnecting();\n        this.clearRetryTimer();\n        this.clearUnavailableTimer();\n        if (this.connection) {\n            var connection = this.abandonConnection();\n            connection.close();\n        }\n    }\n    updateStrategy() {\n        this.strategy = this.options.getStrategy({\n            key: this.key,\n            timeline: this.timeline,\n            useTLS: this.usingTLS\n        });\n    }\n    retryIn(delay) {\n        this.timeline.info({ action: 'retry', delay: delay });\n        if (delay > 0) {\n            this.emit('connecting_in', Math.round(delay / 1000));\n        }\n        this.retryTimer = new timers_OneOffTimer(delay || 0, () => {\n            this.disconnectInternally();\n            this.connect();\n        });\n    }\n    clearRetryTimer() {\n        if (this.retryTimer) {\n            this.retryTimer.ensureAborted();\n            this.retryTimer = null;\n        }\n    }\n    setUnavailableTimer() {\n        this.unavailableTimer = new timers_OneOffTimer(this.options.unavailableTimeout, () => {\n            this.updateState('unavailable');\n        });\n    }\n    clearUnavailableTimer() {\n        if (this.unavailableTimer) {\n            this.unavailableTimer.ensureAborted();\n        }\n    }\n    sendActivityCheck() {\n        this.stopActivityCheck();\n        this.connection.ping();\n        this.activityTimer = new timers_OneOffTimer(this.options.pongTimeout, () => {\n            this.timeline.error({ pong_timed_out: this.options.pongTimeout });\n            this.retryIn(0);\n        });\n    }\n    resetActivityCheck() {\n        this.stopActivityCheck();\n        if (this.connection && !this.connection.handlesActivityChecks()) {\n            this.activityTimer = new timers_OneOffTimer(this.activityTimeout, () => {\n                this.sendActivityCheck();\n            });\n        }\n    }\n    stopActivityCheck() {\n        if (this.activityTimer) {\n            this.activityTimer.ensureAborted();\n        }\n    }\n    buildConnectionCallbacks(errorCallbacks) {\n        return extend({}, errorCallbacks, {\n            message: message => {\n                this.resetActivityCheck();\n                this.emit('message', message);\n            },\n            ping: () => {\n                this.send_event('pusher:pong', {});\n            },\n            activity: () => {\n                this.resetActivityCheck();\n            },\n            error: error => {\n                this.emit('error', error);\n            },\n            closed: () => {\n                this.abandonConnection();\n                if (this.shouldRetry()) {\n                    this.retryIn(1000);\n                }\n            }\n        });\n    }\n    buildHandshakeCallbacks(errorCallbacks) {\n        return extend({}, errorCallbacks, {\n            connected: (handshake) => {\n                this.activityTimeout = Math.min(this.options.activityTimeout, handshake.activityTimeout, handshake.connection.activityTimeout || Infinity);\n                this.clearUnavailableTimer();\n                this.setConnection(handshake.connection);\n                this.socket_id = this.connection.id;\n                this.updateState('connected', { socket_id: this.socket_id });\n            }\n        });\n    }\n    buildErrorCallbacks() {\n        let withErrorEmitted = callback => {\n            return (result) => {\n                if (result.error) {\n                    this.emit('error', { type: 'WebSocketError', error: result.error });\n                }\n                callback(result);\n            };\n        };\n        return {\n            tls_only: withErrorEmitted(() => {\n                this.usingTLS = true;\n                this.updateStrategy();\n                this.retryIn(0);\n            }),\n            refused: withErrorEmitted(() => {\n                this.disconnect();\n            }),\n            backoff: withErrorEmitted(() => {\n                this.retryIn(1000);\n            }),\n            retry: withErrorEmitted(() => {\n                this.retryIn(0);\n            })\n        };\n    }\n    setConnection(connection) {\n        this.connection = connection;\n        for (var event in this.connectionCallbacks) {\n            this.connection.bind(event, this.connectionCallbacks[event]);\n        }\n        this.resetActivityCheck();\n    }\n    abandonConnection() {\n        if (!this.connection) {\n            return;\n        }\n        this.stopActivityCheck();\n        for (var event in this.connectionCallbacks) {\n            this.connection.unbind(event, this.connectionCallbacks[event]);\n        }\n        var connection = this.connection;\n        this.connection = null;\n        return connection;\n    }\n    updateState(newState, data) {\n        var previousState = this.state;\n        this.state = newState;\n        if (previousState !== newState) {\n            var newStateDescription = newState;\n            if (newStateDescription === 'connected') {\n                newStateDescription += ' with new socket ID ' + data.socket_id;\n            }\n            logger.debug('State changed', previousState + ' -> ' + newStateDescription);\n            this.timeline.info({ state: newState, params: data });\n            this.emit('state_change', { previous: previousState, current: newState });\n            this.emit(newState, data);\n        }\n    }\n    shouldRetry() {\n        return this.state === 'connecting' || this.state === 'connected';\n    }\n}\n\n// CONCATENATED MODULE: ./src/core/channels/channels.ts\n\n\n\n\nclass channels_Channels {\n    constructor() {\n        this.channels = {};\n    }\n    add(name, pusher) {\n        if (!this.channels[name]) {\n            this.channels[name] = createChannel(name, pusher);\n        }\n        return this.channels[name];\n    }\n    all() {\n        return values(this.channels);\n    }\n    find(name) {\n        return this.channels[name];\n    }\n    remove(name) {\n        var channel = this.channels[name];\n        delete this.channels[name];\n        return channel;\n    }\n    disconnect() {\n        objectApply(this.channels, function (channel) {\n            channel.disconnect();\n        });\n    }\n}\nfunction createChannel(name, pusher) {\n    if (name.indexOf('private-encrypted-') === 0) {\n        if (pusher.config.nacl) {\n            return factory.createEncryptedChannel(name, pusher, pusher.config.nacl);\n        }\n        let errMsg = 'Tried to subscribe to a private-encrypted- channel but no nacl implementation available';\n        let suffix = url_store.buildLogSuffix('encryptedChannelSupport');\n        throw new UnsupportedFeature(`${errMsg}. ${suffix}`);\n    }\n    else if (name.indexOf('private-') === 0) {\n        return factory.createPrivateChannel(name, pusher);\n    }\n    else if (name.indexOf('presence-') === 0) {\n        return factory.createPresenceChannel(name, pusher);\n    }\n    else if (name.indexOf('#') === 0) {\n        throw new BadChannelName('Cannot create a channel with name \"' + name + '\".');\n    }\n    else {\n        return factory.createChannel(name, pusher);\n    }\n}\n\n// CONCATENATED MODULE: ./src/core/utils/factory.ts\n\n\n\n\n\n\n\n\n\nvar Factory = {\n    createChannels() {\n        return new channels_Channels();\n    },\n    createConnectionManager(key, options) {\n        return new connection_manager_ConnectionManager(key, options);\n    },\n    createChannel(name, pusher) {\n        return new channel_Channel(name, pusher);\n    },\n    createPrivateChannel(name, pusher) {\n        return new private_channel_PrivateChannel(name, pusher);\n    },\n    createPresenceChannel(name, pusher) {\n        return new presence_channel_PresenceChannel(name, pusher);\n    },\n    createEncryptedChannel(name, pusher, nacl) {\n        return new encrypted_channel_EncryptedChannel(name, pusher, nacl);\n    },\n    createTimelineSender(timeline, options) {\n        return new timeline_sender_TimelineSender(timeline, options);\n    },\n    createHandshake(transport, callback) {\n        return new handshake_Handshake(transport, callback);\n    },\n    createAssistantToTheTransportManager(manager, transport, options) {\n        return new assistant_to_the_transport_manager_AssistantToTheTransportManager(manager, transport, options);\n    }\n};\n/* harmony default export */ var factory = (Factory);\n\n// CONCATENATED MODULE: ./src/core/transports/transport_manager.ts\n\nclass transport_manager_TransportManager {\n    constructor(options) {\n        this.options = options || {};\n        this.livesLeft = this.options.lives || Infinity;\n    }\n    getAssistant(transport) {\n        return factory.createAssistantToTheTransportManager(this, transport, {\n            minPingDelay: this.options.minPingDelay,\n            maxPingDelay: this.options.maxPingDelay\n        });\n    }\n    isAlive() {\n        return this.livesLeft > 0;\n    }\n    reportDeath() {\n        this.livesLeft -= 1;\n    }\n}\n\n// CONCATENATED MODULE: ./src/core/strategies/sequential_strategy.ts\n\n\n\nclass sequential_strategy_SequentialStrategy {\n    constructor(strategies, options) {\n        this.strategies = strategies;\n        this.loop = Boolean(options.loop);\n        this.failFast = Boolean(options.failFast);\n        this.timeout = options.timeout;\n        this.timeoutLimit = options.timeoutLimit;\n    }\n    isSupported() {\n        return any(this.strategies, util.method('isSupported'));\n    }\n    connect(minPriority, callback) {\n        var strategies = this.strategies;\n        var current = 0;\n        var timeout = this.timeout;\n        var runner = null;\n        var tryNextStrategy = (error, handshake) => {\n            if (handshake) {\n                callback(null, handshake);\n            }\n            else {\n                current = current + 1;\n                if (this.loop) {\n                    current = current % strategies.length;\n                }\n                if (current < strategies.length) {\n                    if (timeout) {\n                        timeout = timeout * 2;\n                        if (this.timeoutLimit) {\n                            timeout = Math.min(timeout, this.timeoutLimit);\n                        }\n                    }\n                    runner = this.tryStrategy(strategies[current], minPriority, { timeout, failFast: this.failFast }, tryNextStrategy);\n                }\n                else {\n                    callback(true);\n                }\n            }\n        };\n        runner = this.tryStrategy(strategies[current], minPriority, { timeout: timeout, failFast: this.failFast }, tryNextStrategy);\n        return {\n            abort: function () {\n                runner.abort();\n            },\n            forceMinPriority: function (p) {\n                minPriority = p;\n                if (runner) {\n                    runner.forceMinPriority(p);\n                }\n            }\n        };\n    }\n    tryStrategy(strategy, minPriority, options, callback) {\n        var timer = null;\n        var runner = null;\n        if (options.timeout > 0) {\n            timer = new timers_OneOffTimer(options.timeout, function () {\n                runner.abort();\n                callback(true);\n            });\n        }\n        runner = strategy.connect(minPriority, function (error, handshake) {\n            if (error && timer && timer.isRunning() && !options.failFast) {\n                return;\n            }\n            if (timer) {\n                timer.ensureAborted();\n            }\n            callback(error, handshake);\n        });\n        return {\n            abort: function () {\n                if (timer) {\n                    timer.ensureAborted();\n                }\n                runner.abort();\n            },\n            forceMinPriority: function (p) {\n                runner.forceMinPriority(p);\n            }\n        };\n    }\n}\n\n// CONCATENATED MODULE: ./src/core/strategies/best_connected_ever_strategy.ts\n\n\nclass best_connected_ever_strategy_BestConnectedEverStrategy {\n    constructor(strategies) {\n        this.strategies = strategies;\n    }\n    isSupported() {\n        return any(this.strategies, util.method('isSupported'));\n    }\n    connect(minPriority, callback) {\n        return connect(this.strategies, minPriority, function (i, runners) {\n            return function (error, handshake) {\n                runners[i].error = error;\n                if (error) {\n                    if (allRunnersFailed(runners)) {\n                        callback(true);\n                    }\n                    return;\n                }\n                apply(runners, function (runner) {\n                    runner.forceMinPriority(handshake.transport.priority);\n                });\n                callback(null, handshake);\n            };\n        });\n    }\n}\nfunction connect(strategies, minPriority, callbackBuilder) {\n    var runners = map(strategies, function (strategy, i, _, rs) {\n        return strategy.connect(minPriority, callbackBuilder(i, rs));\n    });\n    return {\n        abort: function () {\n            apply(runners, abortRunner);\n        },\n        forceMinPriority: function (p) {\n            apply(runners, function (runner) {\n                runner.forceMinPriority(p);\n            });\n        }\n    };\n}\nfunction allRunnersFailed(runners) {\n    return collections_all(runners, function (runner) {\n        return Boolean(runner.error);\n    });\n}\nfunction abortRunner(runner) {\n    if (!runner.error && !runner.aborted) {\n        runner.abort();\n        runner.aborted = true;\n    }\n}\n\n// CONCATENATED MODULE: ./src/core/strategies/websocket_prioritized_cached_strategy.ts\n\n\n\n\nclass websocket_prioritized_cached_strategy_WebSocketPrioritizedCachedStrategy {\n    constructor(strategy, transports, options) {\n        this.strategy = strategy;\n        this.transports = transports;\n        this.ttl = options.ttl || 1800 * 1000;\n        this.usingTLS = options.useTLS;\n        this.timeline = options.timeline;\n    }\n    isSupported() {\n        return this.strategy.isSupported();\n    }\n    connect(minPriority, callback) {\n        var usingTLS = this.usingTLS;\n        var info = fetchTransportCache(usingTLS);\n        var cacheSkipCount = info && info.cacheSkipCount ? info.cacheSkipCount : 0;\n        var strategies = [this.strategy];\n        if (info && info.timestamp + this.ttl >= util.now()) {\n            var transport = this.transports[info.transport];\n            if (transport) {\n                if (['ws', 'wss'].includes(info.transport) || cacheSkipCount > 3) {\n                    this.timeline.info({\n                        cached: true,\n                        transport: info.transport,\n                        latency: info.latency\n                    });\n                    strategies.push(new sequential_strategy_SequentialStrategy([transport], {\n                        timeout: info.latency * 2 + 1000,\n                        failFast: true\n                    }));\n                }\n                else {\n                    cacheSkipCount++;\n                }\n            }\n        }\n        var startTimestamp = util.now();\n        var runner = strategies\n            .pop()\n            .connect(minPriority, function cb(error, handshake) {\n            if (error) {\n                flushTransportCache(usingTLS);\n                if (strategies.length > 0) {\n                    startTimestamp = util.now();\n                    runner = strategies.pop().connect(minPriority, cb);\n                }\n                else {\n                    callback(error);\n                }\n            }\n            else {\n                storeTransportCache(usingTLS, handshake.transport.name, util.now() - startTimestamp, cacheSkipCount);\n                callback(null, handshake);\n            }\n        });\n        return {\n            abort: function () {\n                runner.abort();\n            },\n            forceMinPriority: function (p) {\n                minPriority = p;\n                if (runner) {\n                    runner.forceMinPriority(p);\n                }\n            }\n        };\n    }\n}\nfunction getTransportCacheKey(usingTLS) {\n    return 'pusherTransport' + (usingTLS ? 'TLS' : 'NonTLS');\n}\nfunction fetchTransportCache(usingTLS) {\n    var storage = runtime.getLocalStorage();\n    if (storage) {\n        try {\n            var serializedCache = storage[getTransportCacheKey(usingTLS)];\n            if (serializedCache) {\n                return JSON.parse(serializedCache);\n            }\n        }\n        catch (e) {\n            flushTransportCache(usingTLS);\n        }\n    }\n    return null;\n}\nfunction storeTransportCache(usingTLS, transport, latency, cacheSkipCount) {\n    var storage = runtime.getLocalStorage();\n    if (storage) {\n        try {\n            storage[getTransportCacheKey(usingTLS)] = safeJSONStringify({\n                timestamp: util.now(),\n                transport: transport,\n                latency: latency,\n                cacheSkipCount: cacheSkipCount\n            });\n        }\n        catch (e) {\n        }\n    }\n}\nfunction flushTransportCache(usingTLS) {\n    var storage = runtime.getLocalStorage();\n    if (storage) {\n        try {\n            delete storage[getTransportCacheKey(usingTLS)];\n        }\n        catch (e) {\n        }\n    }\n}\n\n// CONCATENATED MODULE: ./src/core/strategies/delayed_strategy.ts\n\nclass delayed_strategy_DelayedStrategy {\n    constructor(strategy, { delay: number }) {\n        this.strategy = strategy;\n        this.options = { delay: number };\n    }\n    isSupported() {\n        return this.strategy.isSupported();\n    }\n    connect(minPriority, callback) {\n        var strategy = this.strategy;\n        var runner;\n        var timer = new timers_OneOffTimer(this.options.delay, function () {\n            runner = strategy.connect(minPriority, callback);\n        });\n        return {\n            abort: function () {\n                timer.ensureAborted();\n                if (runner) {\n                    runner.abort();\n                }\n            },\n            forceMinPriority: function (p) {\n                minPriority = p;\n                if (runner) {\n                    runner.forceMinPriority(p);\n                }\n            }\n        };\n    }\n}\n\n// CONCATENATED MODULE: ./src/core/strategies/if_strategy.ts\nclass IfStrategy {\n    constructor(test, trueBranch, falseBranch) {\n        this.test = test;\n        this.trueBranch = trueBranch;\n        this.falseBranch = falseBranch;\n    }\n    isSupported() {\n        var branch = this.test() ? this.trueBranch : this.falseBranch;\n        return branch.isSupported();\n    }\n    connect(minPriority, callback) {\n        var branch = this.test() ? this.trueBranch : this.falseBranch;\n        return branch.connect(minPriority, callback);\n    }\n}\n\n// CONCATENATED MODULE: ./src/core/strategies/first_connected_strategy.ts\nclass FirstConnectedStrategy {\n    constructor(strategy) {\n        this.strategy = strategy;\n    }\n    isSupported() {\n        return this.strategy.isSupported();\n    }\n    connect(minPriority, callback) {\n        var runner = this.strategy.connect(minPriority, function (error, handshake) {\n            if (handshake) {\n                runner.abort();\n            }\n            callback(error, handshake);\n        });\n        return runner;\n    }\n}\n\n// CONCATENATED MODULE: ./src/runtimes/web/default_strategy.ts\n\n\n\n\n\n\n\nfunction testSupportsStrategy(strategy) {\n    return function () {\n        return strategy.isSupported();\n    };\n}\nvar getDefaultStrategy = function (config, baseOptions, defineTransport) {\n    var definedTransports = {};\n    function defineTransportStrategy(name, type, priority, options, manager) {\n        var transport = defineTransport(config, name, type, priority, options, manager);\n        definedTransports[name] = transport;\n        return transport;\n    }\n    var ws_options = Object.assign({}, baseOptions, {\n        hostNonTLS: config.wsHost + ':' + config.wsPort,\n        hostTLS: config.wsHost + ':' + config.wssPort,\n        httpPath: config.wsPath\n    });\n    var wss_options = Object.assign({}, ws_options, {\n        useTLS: true\n    });\n    var sockjs_options = Object.assign({}, baseOptions, {\n        hostNonTLS: config.httpHost + ':' + config.httpPort,\n        hostTLS: config.httpHost + ':' + config.httpsPort,\n        httpPath: config.httpPath\n    });\n    var timeouts = {\n        loop: true,\n        timeout: 15000,\n        timeoutLimit: 60000\n    };\n    var ws_manager = new transport_manager_TransportManager({\n        minPingDelay: 10000,\n        maxPingDelay: config.activityTimeout\n    });\n    var streaming_manager = new transport_manager_TransportManager({\n        lives: 2,\n        minPingDelay: 10000,\n        maxPingDelay: config.activityTimeout\n    });\n    var ws_transport = defineTransportStrategy('ws', 'ws', 3, ws_options, ws_manager);\n    var wss_transport = defineTransportStrategy('wss', 'ws', 3, wss_options, ws_manager);\n    var sockjs_transport = defineTransportStrategy('sockjs', 'sockjs', 1, sockjs_options);\n    var xhr_streaming_transport = defineTransportStrategy('xhr_streaming', 'xhr_streaming', 1, sockjs_options, streaming_manager);\n    var xdr_streaming_transport = defineTransportStrategy('xdr_streaming', 'xdr_streaming', 1, sockjs_options, streaming_manager);\n    var xhr_polling_transport = defineTransportStrategy('xhr_polling', 'xhr_polling', 1, sockjs_options);\n    var xdr_polling_transport = defineTransportStrategy('xdr_polling', 'xdr_polling', 1, sockjs_options);\n    var ws_loop = new sequential_strategy_SequentialStrategy([ws_transport], timeouts);\n    var wss_loop = new sequential_strategy_SequentialStrategy([wss_transport], timeouts);\n    var sockjs_loop = new sequential_strategy_SequentialStrategy([sockjs_transport], timeouts);\n    var streaming_loop = new sequential_strategy_SequentialStrategy([\n        new IfStrategy(testSupportsStrategy(xhr_streaming_transport), xhr_streaming_transport, xdr_streaming_transport)\n    ], timeouts);\n    var polling_loop = new sequential_strategy_SequentialStrategy([\n        new IfStrategy(testSupportsStrategy(xhr_polling_transport), xhr_polling_transport, xdr_polling_transport)\n    ], timeouts);\n    var http_loop = new sequential_strategy_SequentialStrategy([\n        new IfStrategy(testSupportsStrategy(streaming_loop), new best_connected_ever_strategy_BestConnectedEverStrategy([\n            streaming_loop,\n            new delayed_strategy_DelayedStrategy(polling_loop, { delay: 4000 })\n        ]), polling_loop)\n    ], timeouts);\n    var http_fallback_loop = new IfStrategy(testSupportsStrategy(http_loop), http_loop, sockjs_loop);\n    var wsStrategy;\n    if (baseOptions.useTLS) {\n        wsStrategy = new best_connected_ever_strategy_BestConnectedEverStrategy([\n            ws_loop,\n            new delayed_strategy_DelayedStrategy(http_fallback_loop, { delay: 2000 })\n        ]);\n    }\n    else {\n        wsStrategy = new best_connected_ever_strategy_BestConnectedEverStrategy([\n            ws_loop,\n            new delayed_strategy_DelayedStrategy(wss_loop, { delay: 2000 }),\n            new delayed_strategy_DelayedStrategy(http_fallback_loop, { delay: 5000 })\n        ]);\n    }\n    return new websocket_prioritized_cached_strategy_WebSocketPrioritizedCachedStrategy(new FirstConnectedStrategy(new IfStrategy(testSupportsStrategy(ws_transport), wsStrategy, http_fallback_loop)), definedTransports, {\n        ttl: 1800000,\n        timeline: baseOptions.timeline,\n        useTLS: baseOptions.useTLS\n    });\n};\n/* harmony default export */ var default_strategy = (getDefaultStrategy);\n\n// CONCATENATED MODULE: ./src/runtimes/web/transports/transport_connection_initializer.ts\n\n/* harmony default export */ var transport_connection_initializer = (function () {\n    var self = this;\n    self.timeline.info(self.buildTimelineMessage({\n        transport: self.name + (self.options.useTLS ? 's' : '')\n    }));\n    if (self.hooks.isInitialized()) {\n        self.changeState('initialized');\n    }\n    else if (self.hooks.file) {\n        self.changeState('initializing');\n        Dependencies.load(self.hooks.file, { useTLS: self.options.useTLS }, function (error, callback) {\n            if (self.hooks.isInitialized()) {\n                self.changeState('initialized');\n                callback(true);\n            }\n            else {\n                if (error) {\n                    self.onError(error);\n                }\n                self.onClose();\n                callback(false);\n            }\n        });\n    }\n    else {\n        self.onClose();\n    }\n});\n\n// CONCATENATED MODULE: ./src/runtimes/web/http/http_xdomain_request.ts\n\nvar http_xdomain_request_hooks = {\n    getRequest: function (socket) {\n        var xdr = new window.XDomainRequest();\n        xdr.ontimeout = function () {\n            socket.emit('error', new RequestTimedOut());\n            socket.close();\n        };\n        xdr.onerror = function (e) {\n            socket.emit('error', e);\n            socket.close();\n        };\n        xdr.onprogress = function () {\n            if (xdr.responseText && xdr.responseText.length > 0) {\n                socket.onChunk(200, xdr.responseText);\n            }\n        };\n        xdr.onload = function () {\n            if (xdr.responseText && xdr.responseText.length > 0) {\n                socket.onChunk(200, xdr.responseText);\n            }\n            socket.emit('finished', 200);\n            socket.close();\n        };\n        return xdr;\n    },\n    abortRequest: function (xdr) {\n        xdr.ontimeout = xdr.onerror = xdr.onprogress = xdr.onload = null;\n        xdr.abort();\n    }\n};\n/* harmony default export */ var http_xdomain_request = (http_xdomain_request_hooks);\n\n// CONCATENATED MODULE: ./src/core/http/http_request.ts\n\n\nconst MAX_BUFFER_LENGTH = 256 * 1024;\nclass http_request_HTTPRequest extends dispatcher_Dispatcher {\n    constructor(hooks, method, url) {\n        super();\n        this.hooks = hooks;\n        this.method = method;\n        this.url = url;\n    }\n    start(payload) {\n        this.position = 0;\n        this.xhr = this.hooks.getRequest(this);\n        this.unloader = () => {\n            this.close();\n        };\n        runtime.addUnloadListener(this.unloader);\n        this.xhr.open(this.method, this.url, true);\n        if (this.xhr.setRequestHeader) {\n            this.xhr.setRequestHeader('Content-Type', 'application/json');\n        }\n        this.xhr.send(payload);\n    }\n    close() {\n        if (this.unloader) {\n            runtime.removeUnloadListener(this.unloader);\n            this.unloader = null;\n        }\n        if (this.xhr) {\n            this.hooks.abortRequest(this.xhr);\n            this.xhr = null;\n        }\n    }\n    onChunk(status, data) {\n        while (true) {\n            var chunk = this.advanceBuffer(data);\n            if (chunk) {\n                this.emit('chunk', { status: status, data: chunk });\n            }\n            else {\n                break;\n            }\n        }\n        if (this.isBufferTooLong(data)) {\n            this.emit('buffer_too_long');\n        }\n    }\n    advanceBuffer(buffer) {\n        var unreadData = buffer.slice(this.position);\n        var endOfLinePosition = unreadData.indexOf('\\n');\n        if (endOfLinePosition !== -1) {\n            this.position += endOfLinePosition + 1;\n            return unreadData.slice(0, endOfLinePosition);\n        }\n        else {\n            return null;\n        }\n    }\n    isBufferTooLong(buffer) {\n        return this.position === buffer.length && buffer.length > MAX_BUFFER_LENGTH;\n    }\n}\n\n// CONCATENATED MODULE: ./src/core/http/state.ts\nvar State;\n(function (State) {\n    State[State[\"CONNECTING\"] = 0] = \"CONNECTING\";\n    State[State[\"OPEN\"] = 1] = \"OPEN\";\n    State[State[\"CLOSED\"] = 3] = \"CLOSED\";\n})(State || (State = {}));\n/* harmony default export */ var state = (State);\n\n// CONCATENATED MODULE: ./src/core/http/http_socket.ts\n\n\n\nvar autoIncrement = 1;\nclass http_socket_HTTPSocket {\n    constructor(hooks, url) {\n        this.hooks = hooks;\n        this.session = randomNumber(1000) + '/' + randomString(8);\n        this.location = getLocation(url);\n        this.readyState = state.CONNECTING;\n        this.openStream();\n    }\n    send(payload) {\n        return this.sendRaw(JSON.stringify([payload]));\n    }\n    ping() {\n        this.hooks.sendHeartbeat(this);\n    }\n    close(code, reason) {\n        this.onClose(code, reason, true);\n    }\n    sendRaw(payload) {\n        if (this.readyState === state.OPEN) {\n            try {\n                runtime.createSocketRequest('POST', getUniqueURL(getSendURL(this.location, this.session))).start(payload);\n                return true;\n            }\n            catch (e) {\n                return false;\n            }\n        }\n        else {\n            return false;\n        }\n    }\n    reconnect() {\n        this.closeStream();\n        this.openStream();\n    }\n    onClose(code, reason, wasClean) {\n        this.closeStream();\n        this.readyState = state.CLOSED;\n        if (this.onclose) {\n            this.onclose({\n                code: code,\n                reason: reason,\n                wasClean: wasClean\n            });\n        }\n    }\n    onChunk(chunk) {\n        if (chunk.status !== 200) {\n            return;\n        }\n        if (this.readyState === state.OPEN) {\n            this.onActivity();\n        }\n        var payload;\n        var type = chunk.data.slice(0, 1);\n        switch (type) {\n            case 'o':\n                payload = JSON.parse(chunk.data.slice(1) || '{}');\n                this.onOpen(payload);\n                break;\n            case 'a':\n                payload = JSON.parse(chunk.data.slice(1) || '[]');\n                for (var i = 0; i < payload.length; i++) {\n                    this.onEvent(payload[i]);\n                }\n                break;\n            case 'm':\n                payload = JSON.parse(chunk.data.slice(1) || 'null');\n                this.onEvent(payload);\n                break;\n            case 'h':\n                this.hooks.onHeartbeat(this);\n                break;\n            case 'c':\n                payload = JSON.parse(chunk.data.slice(1) || '[]');\n                this.onClose(payload[0], payload[1], true);\n                break;\n        }\n    }\n    onOpen(options) {\n        if (this.readyState === state.CONNECTING) {\n            if (options && options.hostname) {\n                this.location.base = replaceHost(this.location.base, options.hostname);\n            }\n            this.readyState = state.OPEN;\n            if (this.onopen) {\n                this.onopen();\n            }\n        }\n        else {\n            this.onClose(1006, 'Server lost session', true);\n        }\n    }\n    onEvent(event) {\n        if (this.readyState === state.OPEN && this.onmessage) {\n            this.onmessage({ data: event });\n        }\n    }\n    onActivity() {\n        if (this.onactivity) {\n            this.onactivity();\n        }\n    }\n    onError(error) {\n        if (this.onerror) {\n            this.onerror(error);\n        }\n    }\n    openStream() {\n        this.stream = runtime.createSocketRequest('POST', getUniqueURL(this.hooks.getReceiveURL(this.location, this.session)));\n        this.stream.bind('chunk', chunk => {\n            this.onChunk(chunk);\n        });\n        this.stream.bind('finished', status => {\n            this.hooks.onFinished(this, status);\n        });\n        this.stream.bind('buffer_too_long', () => {\n            this.reconnect();\n        });\n        try {\n            this.stream.start();\n        }\n        catch (error) {\n            util.defer(() => {\n                this.onError(error);\n                this.onClose(1006, 'Could not start streaming', false);\n            });\n        }\n    }\n    closeStream() {\n        if (this.stream) {\n            this.stream.unbind_all();\n            this.stream.close();\n            this.stream = null;\n        }\n    }\n}\nfunction getLocation(url) {\n    var parts = /([^\\?]*)\\/*(\\??.*)/.exec(url);\n    return {\n        base: parts[1],\n        queryString: parts[2]\n    };\n}\nfunction getSendURL(url, session) {\n    return url.base + '/' + session + '/xhr_send';\n}\nfunction getUniqueURL(url) {\n    var separator = url.indexOf('?') === -1 ? '?' : '&';\n    return url + separator + 't=' + +new Date() + '&n=' + autoIncrement++;\n}\nfunction replaceHost(url, hostname) {\n    var urlParts = /(https?:\\/\\/)([^\\/:]+)((\\/|:)?.*)/.exec(url);\n    return urlParts[1] + hostname + urlParts[3];\n}\nfunction randomNumber(max) {\n    return runtime.randomInt(max);\n}\nfunction randomString(length) {\n    var result = [];\n    for (var i = 0; i < length; i++) {\n        result.push(randomNumber(32).toString(32));\n    }\n    return result.join('');\n}\n/* harmony default export */ var http_socket = (http_socket_HTTPSocket);\n\n// CONCATENATED MODULE: ./src/core/http/http_streaming_socket.ts\nvar http_streaming_socket_hooks = {\n    getReceiveURL: function (url, session) {\n        return url.base + '/' + session + '/xhr_streaming' + url.queryString;\n    },\n    onHeartbeat: function (socket) {\n        socket.sendRaw('[]');\n    },\n    sendHeartbeat: function (socket) {\n        socket.sendRaw('[]');\n    },\n    onFinished: function (socket, status) {\n        socket.onClose(1006, 'Connection interrupted (' + status + ')', false);\n    }\n};\n/* harmony default export */ var http_streaming_socket = (http_streaming_socket_hooks);\n\n// CONCATENATED MODULE: ./src/core/http/http_polling_socket.ts\nvar http_polling_socket_hooks = {\n    getReceiveURL: function (url, session) {\n        return url.base + '/' + session + '/xhr' + url.queryString;\n    },\n    onHeartbeat: function () {\n    },\n    sendHeartbeat: function (socket) {\n        socket.sendRaw('[]');\n    },\n    onFinished: function (socket, status) {\n        if (status === 200) {\n            socket.reconnect();\n        }\n        else {\n            socket.onClose(1006, 'Connection interrupted (' + status + ')', false);\n        }\n    }\n};\n/* harmony default export */ var http_polling_socket = (http_polling_socket_hooks);\n\n// CONCATENATED MODULE: ./src/runtimes/isomorphic/http/http_xhr_request.ts\n\nvar http_xhr_request_hooks = {\n    getRequest: function (socket) {\n        var Constructor = runtime.getXHRAPI();\n        var xhr = new Constructor();\n        xhr.onreadystatechange = xhr.onprogress = function () {\n            switch (xhr.readyState) {\n                case 3:\n                    if (xhr.responseText && xhr.responseText.length > 0) {\n                        socket.onChunk(xhr.status, xhr.responseText);\n                    }\n                    break;\n                case 4:\n                    if (xhr.responseText && xhr.responseText.length > 0) {\n                        socket.onChunk(xhr.status, xhr.responseText);\n                    }\n                    socket.emit('finished', xhr.status);\n                    socket.close();\n                    break;\n            }\n        };\n        return xhr;\n    },\n    abortRequest: function (xhr) {\n        xhr.onreadystatechange = null;\n        xhr.abort();\n    }\n};\n/* harmony default export */ var http_xhr_request = (http_xhr_request_hooks);\n\n// CONCATENATED MODULE: ./src/runtimes/isomorphic/http/http.ts\n\n\n\n\n\nvar HTTP = {\n    createStreamingSocket(url) {\n        return this.createSocket(http_streaming_socket, url);\n    },\n    createPollingSocket(url) {\n        return this.createSocket(http_polling_socket, url);\n    },\n    createSocket(hooks, url) {\n        return new http_socket(hooks, url);\n    },\n    createXHR(method, url) {\n        return this.createRequest(http_xhr_request, method, url);\n    },\n    createRequest(hooks, method, url) {\n        return new http_request_HTTPRequest(hooks, method, url);\n    }\n};\n/* harmony default export */ var http_http = (HTTP);\n\n// CONCATENATED MODULE: ./src/runtimes/web/http/http.ts\n\n\nhttp_http.createXDR = function (method, url) {\n    return this.createRequest(http_xdomain_request, method, url);\n};\n/* harmony default export */ var web_http_http = (http_http);\n\n// CONCATENATED MODULE: ./src/runtimes/web/runtime.ts\n\n\n\n\n\n\n\n\n\n\n\n\nvar Runtime = {\n    nextAuthCallbackID: 1,\n    auth_callbacks: {},\n    ScriptReceivers: ScriptReceivers,\n    DependenciesReceivers: DependenciesReceivers,\n    getDefaultStrategy: default_strategy,\n    Transports: transports_transports,\n    transportConnectionInitializer: transport_connection_initializer,\n    HTTPFactory: web_http_http,\n    TimelineTransport: jsonp_timeline,\n    getXHRAPI() {\n        return window.XMLHttpRequest;\n    },\n    getWebSocketAPI() {\n        return window.WebSocket || window.MozWebSocket;\n    },\n    setup(PusherClass) {\n        window.Pusher = PusherClass;\n        var initializeOnDocumentBody = () => {\n            this.onDocumentBody(PusherClass.ready);\n        };\n        if (!window.JSON) {\n            Dependencies.load('json2', {}, initializeOnDocumentBody);\n        }\n        else {\n            initializeOnDocumentBody();\n        }\n    },\n    getDocument() {\n        return document;\n    },\n    getProtocol() {\n        return this.getDocument().location.protocol;\n    },\n    getAuthorizers() {\n        return { ajax: xhr_auth, jsonp: jsonp_auth };\n    },\n    onDocumentBody(callback) {\n        if (document.body) {\n            callback();\n        }\n        else {\n            setTimeout(() => {\n                this.onDocumentBody(callback);\n            }, 0);\n        }\n    },\n    createJSONPRequest(url, data) {\n        return new jsonp_request_JSONPRequest(url, data);\n    },\n    createScriptRequest(src) {\n        return new ScriptRequest(src);\n    },\n    getLocalStorage() {\n        try {\n            return window.localStorage;\n        }\n        catch (e) {\n            return undefined;\n        }\n    },\n    createXHR() {\n        if (this.getXHRAPI()) {\n            return this.createXMLHttpRequest();\n        }\n        else {\n            return this.createMicrosoftXHR();\n        }\n    },\n    createXMLHttpRequest() {\n        var Constructor = this.getXHRAPI();\n        return new Constructor();\n    },\n    createMicrosoftXHR() {\n        return new ActiveXObject('Microsoft.XMLHTTP');\n    },\n    getNetwork() {\n        return net_info_Network;\n    },\n    createWebSocket(url) {\n        var Constructor = this.getWebSocketAPI();\n        return new Constructor(url);\n    },\n    createSocketRequest(method, url) {\n        if (this.isXHRSupported()) {\n            return this.HTTPFactory.createXHR(method, url);\n        }\n        else if (this.isXDRSupported(url.indexOf('https:') === 0)) {\n            return this.HTTPFactory.createXDR(method, url);\n        }\n        else {\n            throw 'Cross-origin HTTP requests are not supported';\n        }\n    },\n    isXHRSupported() {\n        var Constructor = this.getXHRAPI();\n        return (Boolean(Constructor) && new Constructor().withCredentials !== undefined);\n    },\n    isXDRSupported(useTLS) {\n        var protocol = useTLS ? 'https:' : 'http:';\n        var documentProtocol = this.getProtocol();\n        return (Boolean(window['XDomainRequest']) && documentProtocol === protocol);\n    },\n    addUnloadListener(listener) {\n        if (window.addEventListener !== undefined) {\n            window.addEventListener('unload', listener, false);\n        }\n        else if (window.attachEvent !== undefined) {\n            window.attachEvent('onunload', listener);\n        }\n    },\n    removeUnloadListener(listener) {\n        if (window.addEventListener !== undefined) {\n            window.removeEventListener('unload', listener, false);\n        }\n        else if (window.detachEvent !== undefined) {\n            window.detachEvent('onunload', listener);\n        }\n    },\n    randomInt(max) {\n        const random = function () {\n            const crypto = window.crypto || window['msCrypto'];\n            const random = crypto.getRandomValues(new Uint32Array(1))[0];\n            return random / Math.pow(2, 32);\n        };\n        return Math.floor(random() * max);\n    }\n};\n/* harmony default export */ var runtime = (Runtime);\n\n// CONCATENATED MODULE: ./src/core/timeline/level.ts\nvar TimelineLevel;\n(function (TimelineLevel) {\n    TimelineLevel[TimelineLevel[\"ERROR\"] = 3] = \"ERROR\";\n    TimelineLevel[TimelineLevel[\"INFO\"] = 6] = \"INFO\";\n    TimelineLevel[TimelineLevel[\"DEBUG\"] = 7] = \"DEBUG\";\n})(TimelineLevel || (TimelineLevel = {}));\n/* harmony default export */ var timeline_level = (TimelineLevel);\n\n// CONCATENATED MODULE: ./src/core/timeline/timeline.ts\n\n\n\nclass timeline_Timeline {\n    constructor(key, session, options) {\n        this.key = key;\n        this.session = session;\n        this.events = [];\n        this.options = options || {};\n        this.sent = 0;\n        this.uniqueID = 0;\n    }\n    log(level, event) {\n        if (level <= this.options.level) {\n            this.events.push(extend({}, event, { timestamp: util.now() }));\n            if (this.options.limit && this.events.length > this.options.limit) {\n                this.events.shift();\n            }\n        }\n    }\n    error(event) {\n        this.log(timeline_level.ERROR, event);\n    }\n    info(event) {\n        this.log(timeline_level.INFO, event);\n    }\n    debug(event) {\n        this.log(timeline_level.DEBUG, event);\n    }\n    isEmpty() {\n        return this.events.length === 0;\n    }\n    send(sendfn, callback) {\n        var data = extend({\n            session: this.session,\n            bundle: this.sent + 1,\n            key: this.key,\n            lib: 'js',\n            version: this.options.version,\n            cluster: this.options.cluster,\n            features: this.options.features,\n            timeline: this.events\n        }, this.options.params);\n        this.events = [];\n        sendfn(data, (error, result) => {\n            if (!error) {\n                this.sent++;\n            }\n            if (callback) {\n                callback(error, result);\n            }\n        });\n        return true;\n    }\n    generateUniqueID() {\n        this.uniqueID++;\n        return this.uniqueID;\n    }\n}\n\n// CONCATENATED MODULE: ./src/core/strategies/transport_strategy.ts\n\n\n\n\nclass transport_strategy_TransportStrategy {\n    constructor(name, priority, transport, options) {\n        this.name = name;\n        this.priority = priority;\n        this.transport = transport;\n        this.options = options || {};\n    }\n    isSupported() {\n        return this.transport.isSupported({\n            useTLS: this.options.useTLS\n        });\n    }\n    connect(minPriority, callback) {\n        if (!this.isSupported()) {\n            return failAttempt(new UnsupportedStrategy(), callback);\n        }\n        else if (this.priority < minPriority) {\n            return failAttempt(new TransportPriorityTooLow(), callback);\n        }\n        var connected = false;\n        var transport = this.transport.createConnection(this.name, this.priority, this.options.key, this.options);\n        var handshake = null;\n        var onInitialized = function () {\n            transport.unbind('initialized', onInitialized);\n            transport.connect();\n        };\n        var onOpen = function () {\n            handshake = factory.createHandshake(transport, function (result) {\n                connected = true;\n                unbindListeners();\n                callback(null, result);\n            });\n        };\n        var onError = function (error) {\n            unbindListeners();\n            callback(error);\n        };\n        var onClosed = function () {\n            unbindListeners();\n            var serializedTransport;\n            serializedTransport = safeJSONStringify(transport);\n            callback(new TransportClosed(serializedTransport));\n        };\n        var unbindListeners = function () {\n            transport.unbind('initialized', onInitialized);\n            transport.unbind('open', onOpen);\n            transport.unbind('error', onError);\n            transport.unbind('closed', onClosed);\n        };\n        transport.bind('initialized', onInitialized);\n        transport.bind('open', onOpen);\n        transport.bind('error', onError);\n        transport.bind('closed', onClosed);\n        transport.initialize();\n        return {\n            abort: () => {\n                if (connected) {\n                    return;\n                }\n                unbindListeners();\n                if (handshake) {\n                    handshake.close();\n                }\n                else {\n                    transport.close();\n                }\n            },\n            forceMinPriority: p => {\n                if (connected) {\n                    return;\n                }\n                if (this.priority < p) {\n                    if (handshake) {\n                        handshake.close();\n                    }\n                    else {\n                        transport.close();\n                    }\n                }\n            }\n        };\n    }\n}\nfunction failAttempt(error, callback) {\n    util.defer(function () {\n        callback(error);\n    });\n    return {\n        abort: function () { },\n        forceMinPriority: function () { }\n    };\n}\n\n// CONCATENATED MODULE: ./src/core/strategies/strategy_builder.ts\n\n\n\n\n\nconst { Transports: strategy_builder_Transports } = runtime;\nvar strategy_builder_defineTransport = function (config, name, type, priority, options, manager) {\n    var transportClass = strategy_builder_Transports[type];\n    if (!transportClass) {\n        throw new UnsupportedTransport(type);\n    }\n    var enabled = (!config.enabledTransports ||\n        arrayIndexOf(config.enabledTransports, name) !== -1) &&\n        (!config.disabledTransports ||\n            arrayIndexOf(config.disabledTransports, name) === -1);\n    var transport;\n    if (enabled) {\n        options = Object.assign({ ignoreNullOrigin: config.ignoreNullOrigin }, options);\n        transport = new transport_strategy_TransportStrategy(name, priority, manager ? manager.getAssistant(transportClass) : transportClass, options);\n    }\n    else {\n        transport = strategy_builder_UnsupportedStrategy;\n    }\n    return transport;\n};\nvar strategy_builder_UnsupportedStrategy = {\n    isSupported: function () {\n        return false;\n    },\n    connect: function (_, callback) {\n        var deferred = util.defer(function () {\n            callback(new UnsupportedStrategy());\n        });\n        return {\n            abort: function () {\n                deferred.ensureAborted();\n            },\n            forceMinPriority: function () { }\n        };\n    }\n};\n\n// CONCATENATED MODULE: ./src/core/options.ts\n\nfunction validateOptions(options) {\n    if (options == null) {\n        throw 'You must pass an options object';\n    }\n    if (options.cluster == null) {\n        throw 'Options object must provide a cluster';\n    }\n    if ('disableStats' in options) {\n        logger.warn('The disableStats option is deprecated in favor of enableStats');\n    }\n}\n\n// CONCATENATED MODULE: ./src/core/auth/user_authenticator.ts\n\n\nconst composeChannelQuery = (params, authOptions) => {\n    var query = 'socket_id=' + encodeURIComponent(params.socketId);\n    for (var key in authOptions.params) {\n        query +=\n            '&' +\n                encodeURIComponent(key) +\n                '=' +\n                encodeURIComponent(authOptions.params[key]);\n    }\n    if (authOptions.paramsProvider != null) {\n        let dynamicParams = authOptions.paramsProvider();\n        for (var key in dynamicParams) {\n            query +=\n                '&' +\n                    encodeURIComponent(key) +\n                    '=' +\n                    encodeURIComponent(dynamicParams[key]);\n        }\n    }\n    return query;\n};\nconst UserAuthenticator = (authOptions) => {\n    if (typeof runtime.getAuthorizers()[authOptions.transport] === 'undefined') {\n        throw `'${authOptions.transport}' is not a recognized auth transport`;\n    }\n    return (params, callback) => {\n        const query = composeChannelQuery(params, authOptions);\n        runtime.getAuthorizers()[authOptions.transport](runtime, query, authOptions, AuthRequestType.UserAuthentication, callback);\n    };\n};\n/* harmony default export */ var user_authenticator = (UserAuthenticator);\n\n// CONCATENATED MODULE: ./src/core/auth/channel_authorizer.ts\n\n\nconst channel_authorizer_composeChannelQuery = (params, authOptions) => {\n    var query = 'socket_id=' + encodeURIComponent(params.socketId);\n    query += '&channel_name=' + encodeURIComponent(params.channelName);\n    for (var key in authOptions.params) {\n        query +=\n            '&' +\n                encodeURIComponent(key) +\n                '=' +\n                encodeURIComponent(authOptions.params[key]);\n    }\n    if (authOptions.paramsProvider != null) {\n        let dynamicParams = authOptions.paramsProvider();\n        for (var key in dynamicParams) {\n            query +=\n                '&' +\n                    encodeURIComponent(key) +\n                    '=' +\n                    encodeURIComponent(dynamicParams[key]);\n        }\n    }\n    return query;\n};\nconst ChannelAuthorizer = (authOptions) => {\n    if (typeof runtime.getAuthorizers()[authOptions.transport] === 'undefined') {\n        throw `'${authOptions.transport}' is not a recognized auth transport`;\n    }\n    return (params, callback) => {\n        const query = channel_authorizer_composeChannelQuery(params, authOptions);\n        runtime.getAuthorizers()[authOptions.transport](runtime, query, authOptions, AuthRequestType.ChannelAuthorization, callback);\n    };\n};\n/* harmony default export */ var channel_authorizer = (ChannelAuthorizer);\n\n// CONCATENATED MODULE: ./src/core/auth/deprecated_channel_authorizer.ts\nconst ChannelAuthorizerProxy = (pusher, authOptions, channelAuthorizerGenerator) => {\n    const deprecatedAuthorizerOptions = {\n        authTransport: authOptions.transport,\n        authEndpoint: authOptions.endpoint,\n        auth: {\n            params: authOptions.params,\n            headers: authOptions.headers\n        }\n    };\n    return (params, callback) => {\n        const channel = pusher.channel(params.channelName);\n        const channelAuthorizer = channelAuthorizerGenerator(channel, deprecatedAuthorizerOptions);\n        channelAuthorizer.authorize(params.socketId, callback);\n    };\n};\n\n// CONCATENATED MODULE: ./src/core/config.ts\n\n\n\n\n\nfunction getConfig(opts, pusher) {\n    let config = {\n        activityTimeout: opts.activityTimeout || defaults.activityTimeout,\n        cluster: opts.cluster,\n        httpPath: opts.httpPath || defaults.httpPath,\n        httpPort: opts.httpPort || defaults.httpPort,\n        httpsPort: opts.httpsPort || defaults.httpsPort,\n        pongTimeout: opts.pongTimeout || defaults.pongTimeout,\n        statsHost: opts.statsHost || defaults.stats_host,\n        unavailableTimeout: opts.unavailableTimeout || defaults.unavailableTimeout,\n        wsPath: opts.wsPath || defaults.wsPath,\n        wsPort: opts.wsPort || defaults.wsPort,\n        wssPort: opts.wssPort || defaults.wssPort,\n        enableStats: getEnableStatsConfig(opts),\n        httpHost: getHttpHost(opts),\n        useTLS: shouldUseTLS(opts),\n        wsHost: getWebsocketHost(opts),\n        userAuthenticator: buildUserAuthenticator(opts),\n        channelAuthorizer: buildChannelAuthorizer(opts, pusher)\n    };\n    if ('disabledTransports' in opts)\n        config.disabledTransports = opts.disabledTransports;\n    if ('enabledTransports' in opts)\n        config.enabledTransports = opts.enabledTransports;\n    if ('ignoreNullOrigin' in opts)\n        config.ignoreNullOrigin = opts.ignoreNullOrigin;\n    if ('timelineParams' in opts)\n        config.timelineParams = opts.timelineParams;\n    if ('nacl' in opts) {\n        config.nacl = opts.nacl;\n    }\n    return config;\n}\nfunction getHttpHost(opts) {\n    if (opts.httpHost) {\n        return opts.httpHost;\n    }\n    if (opts.cluster) {\n        return `sockjs-${opts.cluster}.pusher.com`;\n    }\n    return defaults.httpHost;\n}\nfunction getWebsocketHost(opts) {\n    if (opts.wsHost) {\n        return opts.wsHost;\n    }\n    return getWebsocketHostFromCluster(opts.cluster);\n}\nfunction getWebsocketHostFromCluster(cluster) {\n    return `ws-${cluster}.pusher.com`;\n}\nfunction shouldUseTLS(opts) {\n    if (runtime.getProtocol() === 'https:') {\n        return true;\n    }\n    else if (opts.forceTLS === false) {\n        return false;\n    }\n    return true;\n}\nfunction getEnableStatsConfig(opts) {\n    if ('enableStats' in opts) {\n        return opts.enableStats;\n    }\n    if ('disableStats' in opts) {\n        return !opts.disableStats;\n    }\n    return false;\n}\nfunction buildUserAuthenticator(opts) {\n    const userAuthentication = Object.assign(Object.assign({}, defaults.userAuthentication), opts.userAuthentication);\n    if ('customHandler' in userAuthentication &&\n        userAuthentication['customHandler'] != null) {\n        return userAuthentication['customHandler'];\n    }\n    return user_authenticator(userAuthentication);\n}\nfunction buildChannelAuth(opts, pusher) {\n    let channelAuthorization;\n    if ('channelAuthorization' in opts) {\n        channelAuthorization = Object.assign(Object.assign({}, defaults.channelAuthorization), opts.channelAuthorization);\n    }\n    else {\n        channelAuthorization = {\n            transport: opts.authTransport || defaults.authTransport,\n            endpoint: opts.authEndpoint || defaults.authEndpoint\n        };\n        if ('auth' in opts) {\n            if ('params' in opts.auth)\n                channelAuthorization.params = opts.auth.params;\n            if ('headers' in opts.auth)\n                channelAuthorization.headers = opts.auth.headers;\n        }\n        if ('authorizer' in opts)\n            channelAuthorization.customHandler = ChannelAuthorizerProxy(pusher, channelAuthorization, opts.authorizer);\n    }\n    return channelAuthorization;\n}\nfunction buildChannelAuthorizer(opts, pusher) {\n    const channelAuthorization = buildChannelAuth(opts, pusher);\n    if ('customHandler' in channelAuthorization &&\n        channelAuthorization['customHandler'] != null) {\n        return channelAuthorization['customHandler'];\n    }\n    return channel_authorizer(channelAuthorization);\n}\n\n// CONCATENATED MODULE: ./src/core/watchlist.ts\n\n\nclass watchlist_WatchlistFacade extends dispatcher_Dispatcher {\n    constructor(pusher) {\n        super(function (eventName, data) {\n            logger.debug(`No callbacks on watchlist events for ${eventName}`);\n        });\n        this.pusher = pusher;\n        this.bindWatchlistInternalEvent();\n    }\n    handleEvent(pusherEvent) {\n        pusherEvent.data.events.forEach(watchlistEvent => {\n            this.emit(watchlistEvent.name, watchlistEvent);\n        });\n    }\n    bindWatchlistInternalEvent() {\n        this.pusher.connection.bind('message', pusherEvent => {\n            var eventName = pusherEvent.event;\n            if (eventName === 'pusher_internal:watchlist_events') {\n                this.handleEvent(pusherEvent);\n            }\n        });\n    }\n}\n\n// CONCATENATED MODULE: ./src/core/utils/flat_promise.ts\nfunction flatPromise() {\n    let resolve, reject;\n    const promise = new Promise((res, rej) => {\n        resolve = res;\n        reject = rej;\n    });\n    return { promise, resolve, reject };\n}\n/* harmony default export */ var flat_promise = (flatPromise);\n\n// CONCATENATED MODULE: ./src/core/user.ts\n\n\n\n\n\nclass user_UserFacade extends dispatcher_Dispatcher {\n    constructor(pusher) {\n        super(function (eventName, data) {\n            logger.debug('No callbacks on user for ' + eventName);\n        });\n        this.signin_requested = false;\n        this.user_data = null;\n        this.serverToUserChannel = null;\n        this.signinDonePromise = null;\n        this._signinDoneResolve = null;\n        this._onAuthorize = (err, authData) => {\n            if (err) {\n                logger.warn(`Error during signin: ${err}`);\n                this._cleanup();\n                return;\n            }\n            this.pusher.send_event('pusher:signin', {\n                auth: authData.auth,\n                user_data: authData.user_data\n            });\n        };\n        this.pusher = pusher;\n        this.pusher.connection.bind('state_change', ({ previous, current }) => {\n            if (previous !== 'connected' && current === 'connected') {\n                this._signin();\n            }\n            if (previous === 'connected' && current !== 'connected') {\n                this._cleanup();\n                this._newSigninPromiseIfNeeded();\n            }\n        });\n        this.watchlist = new watchlist_WatchlistFacade(pusher);\n        this.pusher.connection.bind('message', event => {\n            var eventName = event.event;\n            if (eventName === 'pusher:signin_success') {\n                this._onSigninSuccess(event.data);\n            }\n            if (this.serverToUserChannel &&\n                this.serverToUserChannel.name === event.channel) {\n                this.serverToUserChannel.handleEvent(event);\n            }\n        });\n    }\n    signin() {\n        if (this.signin_requested) {\n            return;\n        }\n        this.signin_requested = true;\n        this._signin();\n    }\n    _signin() {\n        if (!this.signin_requested) {\n            return;\n        }\n        this._newSigninPromiseIfNeeded();\n        if (this.pusher.connection.state !== 'connected') {\n            return;\n        }\n        this.pusher.config.userAuthenticator({\n            socketId: this.pusher.connection.socket_id\n        }, this._onAuthorize);\n    }\n    _onSigninSuccess(data) {\n        try {\n            this.user_data = JSON.parse(data.user_data);\n        }\n        catch (e) {\n            logger.error(`Failed parsing user data after signin: ${data.user_data}`);\n            this._cleanup();\n            return;\n        }\n        if (typeof this.user_data.id !== 'string' || this.user_data.id === '') {\n            logger.error(`user_data doesn't contain an id. user_data: ${this.user_data}`);\n            this._cleanup();\n            return;\n        }\n        this._signinDoneResolve();\n        this._subscribeChannels();\n    }\n    _subscribeChannels() {\n        const ensure_subscribed = channel => {\n            if (channel.subscriptionPending && channel.subscriptionCancelled) {\n                channel.reinstateSubscription();\n            }\n            else if (!channel.subscriptionPending &&\n                this.pusher.connection.state === 'connected') {\n                channel.subscribe();\n            }\n        };\n        this.serverToUserChannel = new channel_Channel(`#server-to-user-${this.user_data.id}`, this.pusher);\n        this.serverToUserChannel.bind_global((eventName, data) => {\n            if (eventName.indexOf('pusher_internal:') === 0 ||\n                eventName.indexOf('pusher:') === 0) {\n                return;\n            }\n            this.emit(eventName, data);\n        });\n        ensure_subscribed(this.serverToUserChannel);\n    }\n    _cleanup() {\n        this.user_data = null;\n        if (this.serverToUserChannel) {\n            this.serverToUserChannel.unbind_all();\n            this.serverToUserChannel.disconnect();\n            this.serverToUserChannel = null;\n        }\n        if (this.signin_requested) {\n            this._signinDoneResolve();\n        }\n    }\n    _newSigninPromiseIfNeeded() {\n        if (!this.signin_requested) {\n            return;\n        }\n        if (this.signinDonePromise && !this.signinDonePromise.done) {\n            return;\n        }\n        const { promise, resolve, reject: _ } = flat_promise();\n        promise.done = false;\n        const setDone = () => {\n            promise.done = true;\n        };\n        promise.then(setDone).catch(setDone);\n        this.signinDonePromise = promise;\n        this._signinDoneResolve = resolve;\n    }\n}\n\n// CONCATENATED MODULE: ./src/core/pusher.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass pusher_Pusher {\n    static ready() {\n        pusher_Pusher.isReady = true;\n        for (var i = 0, l = pusher_Pusher.instances.length; i < l; i++) {\n            pusher_Pusher.instances[i].connect();\n        }\n    }\n    static getClientFeatures() {\n        return keys(filterObject({ ws: runtime.Transports.ws }, function (t) {\n            return t.isSupported({});\n        }));\n    }\n    constructor(app_key, options) {\n        checkAppKey(app_key);\n        validateOptions(options);\n        this.key = app_key;\n        this.config = getConfig(options, this);\n        this.channels = factory.createChannels();\n        this.global_emitter = new dispatcher_Dispatcher();\n        this.sessionID = runtime.randomInt(1000000000);\n        this.timeline = new timeline_Timeline(this.key, this.sessionID, {\n            cluster: this.config.cluster,\n            features: pusher_Pusher.getClientFeatures(),\n            params: this.config.timelineParams || {},\n            limit: 50,\n            level: timeline_level.INFO,\n            version: defaults.VERSION\n        });\n        if (this.config.enableStats) {\n            this.timelineSender = factory.createTimelineSender(this.timeline, {\n                host: this.config.statsHost,\n                path: '/timeline/v2/' + runtime.TimelineTransport.name\n            });\n        }\n        var getStrategy = (options) => {\n            return runtime.getDefaultStrategy(this.config, options, strategy_builder_defineTransport);\n        };\n        this.connection = factory.createConnectionManager(this.key, {\n            getStrategy: getStrategy,\n            timeline: this.timeline,\n            activityTimeout: this.config.activityTimeout,\n            pongTimeout: this.config.pongTimeout,\n            unavailableTimeout: this.config.unavailableTimeout,\n            useTLS: Boolean(this.config.useTLS)\n        });\n        this.connection.bind('connected', () => {\n            this.subscribeAll();\n            if (this.timelineSender) {\n                this.timelineSender.send(this.connection.isUsingTLS());\n            }\n        });\n        this.connection.bind('message', event => {\n            var eventName = event.event;\n            var internal = eventName.indexOf('pusher_internal:') === 0;\n            if (event.channel) {\n                var channel = this.channel(event.channel);\n                if (channel) {\n                    channel.handleEvent(event);\n                }\n            }\n            if (!internal) {\n                this.global_emitter.emit(event.event, event.data);\n            }\n        });\n        this.connection.bind('connecting', () => {\n            this.channels.disconnect();\n        });\n        this.connection.bind('disconnected', () => {\n            this.channels.disconnect();\n        });\n        this.connection.bind('error', err => {\n            logger.warn(err);\n        });\n        pusher_Pusher.instances.push(this);\n        this.timeline.info({ instances: pusher_Pusher.instances.length });\n        this.user = new user_UserFacade(this);\n        if (pusher_Pusher.isReady) {\n            this.connect();\n        }\n    }\n    channel(name) {\n        return this.channels.find(name);\n    }\n    allChannels() {\n        return this.channels.all();\n    }\n    connect() {\n        this.connection.connect();\n        if (this.timelineSender) {\n            if (!this.timelineSenderTimer) {\n                var usingTLS = this.connection.isUsingTLS();\n                var timelineSender = this.timelineSender;\n                this.timelineSenderTimer = new timers_PeriodicTimer(60000, function () {\n                    timelineSender.send(usingTLS);\n                });\n            }\n        }\n    }\n    disconnect() {\n        this.connection.disconnect();\n        if (this.timelineSenderTimer) {\n            this.timelineSenderTimer.ensureAborted();\n            this.timelineSenderTimer = null;\n        }\n    }\n    bind(event_name, callback, context) {\n        this.global_emitter.bind(event_name, callback, context);\n        return this;\n    }\n    unbind(event_name, callback, context) {\n        this.global_emitter.unbind(event_name, callback, context);\n        return this;\n    }\n    bind_global(callback) {\n        this.global_emitter.bind_global(callback);\n        return this;\n    }\n    unbind_global(callback) {\n        this.global_emitter.unbind_global(callback);\n        return this;\n    }\n    unbind_all(callback) {\n        this.global_emitter.unbind_all();\n        return this;\n    }\n    subscribeAll() {\n        var channelName;\n        for (channelName in this.channels.channels) {\n            if (this.channels.channels.hasOwnProperty(channelName)) {\n                this.subscribe(channelName);\n            }\n        }\n    }\n    subscribe(channel_name) {\n        var channel = this.channels.add(channel_name, this);\n        if (channel.subscriptionPending && channel.subscriptionCancelled) {\n            channel.reinstateSubscription();\n        }\n        else if (!channel.subscriptionPending &&\n            this.connection.state === 'connected') {\n            channel.subscribe();\n        }\n        return channel;\n    }\n    unsubscribe(channel_name) {\n        var channel = this.channels.find(channel_name);\n        if (channel && channel.subscriptionPending) {\n            channel.cancelSubscription();\n        }\n        else {\n            channel = this.channels.remove(channel_name);\n            if (channel && channel.subscribed) {\n                channel.unsubscribe();\n            }\n        }\n    }\n    send_event(event_name, data, channel) {\n        return this.connection.send_event(event_name, data, channel);\n    }\n    shouldUseTLS() {\n        return this.config.useTLS;\n    }\n    signin() {\n        this.user.signin();\n    }\n}\npusher_Pusher.instances = [];\npusher_Pusher.isReady = false;\npusher_Pusher.logToConsole = false;\npusher_Pusher.Runtime = runtime;\npusher_Pusher.ScriptReceivers = runtime.ScriptReceivers;\npusher_Pusher.DependenciesReceivers = runtime.DependenciesReceivers;\npusher_Pusher.auth_callbacks = runtime.auth_callbacks;\n/* harmony default export */ var core_pusher = __webpack_exports__[\"default\"] = (pusher_Pusher);\nfunction checkAppKey(key) {\n    if (key === null || key === undefined) {\n        throw 'You must pass your app key when you instantiate Pusher.';\n    }\n}\nruntime.setup(pusher_Pusher);\n\n\n/***/ })\n/******/ ]);\n});\n//# sourceMappingURL=pusher.js.map","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { NAME_FORM_GROUP } from '../../constants/components';\nimport { IS_BROWSER } from '../../constants/env';\nimport { PROP_TYPE_ARRAY_OBJECT_STRING, PROP_TYPE_BOOLEAN, PROP_TYPE_BOOLEAN_NUMBER_STRING, PROP_TYPE_STRING } from '../../constants/props';\nimport { RX_SPACE_SPLIT } from '../../constants/regex';\nimport { SLOT_NAME_DEFAULT, SLOT_NAME_DESCRIPTION, SLOT_NAME_INVALID_FEEDBACK, SLOT_NAME_LABEL, SLOT_NAME_VALID_FEEDBACK } from '../../constants/slots';\nimport { arrayIncludes } from '../../utils/array';\nimport { getBreakpointsUpCached } from '../../utils/config';\nimport { cssEscape } from '../../utils/css-escape';\nimport { select, selectAll, isVisible, setAttr, removeAttr, getAttr, attemptFocus } from '../../utils/dom';\nimport { identity } from '../../utils/identity';\nimport { isBoolean } from '../../utils/inspect';\nimport { toInteger } from '../../utils/number';\nimport { create, keys, sortKeys } from '../../utils/object';\nimport { makeProp, makePropsConfigurable, suffixPropName } from '../../utils/props';\nimport { formStateMixin, props as formStateProps } from '../../mixins/form-state';\nimport { idMixin, props as idProps } from '../../mixins/id';\nimport { normalizeSlotMixin } from '../../mixins/normalize-slot';\nimport { BCol } from '../layout/col';\nimport { BFormRow } from '../layout/form-row';\nimport { BFormText } from '../form/form-text';\nimport { BFormInvalidFeedback } from '../form/form-invalid-feedback';\nimport { BFormValidFeedback } from '../form/form-valid-feedback'; // --- Constants ---\n\nvar INPUTS = ['input', 'select', 'textarea']; // Selector for finding first input in the form group\n\nvar INPUT_SELECTOR = INPUTS.map(function (v) {\n  return \"\".concat(v, \":not([disabled])\");\n}).join(); // A list of interactive elements (tag names) inside `<b-form-group>`'s legend\n\nvar LEGEND_INTERACTIVE_ELEMENTS = [].concat(INPUTS, ['a', 'button', 'label']); // --- Props ---\n// Prop generator for lazy generation of props\n\nexport var generateProps = function generateProps() {\n  return makePropsConfigurable(sortKeys(_objectSpread(_objectSpread(_objectSpread(_objectSpread({}, idProps), formStateProps), getBreakpointsUpCached().reduce(function (props, breakpoint) {\n    // i.e. 'content-cols', 'content-cols-sm', 'content-cols-md', ...\n    props[suffixPropName(breakpoint, 'contentCols')] = makeProp(PROP_TYPE_BOOLEAN_NUMBER_STRING); // i.e. 'label-align', 'label-align-sm', 'label-align-md', ...\n\n    props[suffixPropName(breakpoint, 'labelAlign')] = makeProp(PROP_TYPE_STRING); // i.e. 'label-cols', 'label-cols-sm', 'label-cols-md', ...\n\n    props[suffixPropName(breakpoint, 'labelCols')] = makeProp(PROP_TYPE_BOOLEAN_NUMBER_STRING);\n    return props;\n  }, create(null))), {}, {\n    description: makeProp(PROP_TYPE_STRING),\n    disabled: makeProp(PROP_TYPE_BOOLEAN, false),\n    feedbackAriaLive: makeProp(PROP_TYPE_STRING, 'assertive'),\n    invalidFeedback: makeProp(PROP_TYPE_STRING),\n    label: makeProp(PROP_TYPE_STRING),\n    labelClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n    labelFor: makeProp(PROP_TYPE_STRING),\n    labelSize: makeProp(PROP_TYPE_STRING),\n    labelSrOnly: makeProp(PROP_TYPE_BOOLEAN, false),\n    tooltip: makeProp(PROP_TYPE_BOOLEAN, false),\n    validFeedback: makeProp(PROP_TYPE_STRING),\n    validated: makeProp(PROP_TYPE_BOOLEAN, false)\n  })), NAME_FORM_GROUP);\n}; // --- Main component ---\n// We do not use `Vue.extend()` here as that would evaluate the props\n// immediately, which we do not want to happen\n// @vue/component\n\nexport var BFormGroup = {\n  name: NAME_FORM_GROUP,\n  mixins: [idMixin, formStateMixin, normalizeSlotMixin],\n\n  get props() {\n    // Allow props to be lazy evaled on first access and\n    // then they become a non-getter afterwards\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/get#Smart_self-overwriting_lazy_getters\n    delete this.props; // eslint-disable-next-line no-return-assign\n\n    return this.props = generateProps();\n  },\n\n  data: function data() {\n    return {\n      ariaDescribedby: null\n    };\n  },\n  computed: {\n    contentColProps: function contentColProps() {\n      return this.getColProps(this.$props, 'content');\n    },\n    labelAlignClasses: function labelAlignClasses() {\n      return this.getAlignClasses(this.$props, 'label');\n    },\n    labelColProps: function labelColProps() {\n      return this.getColProps(this.$props, 'label');\n    },\n    isHorizontal: function isHorizontal() {\n      // Determine if the form group will be rendered horizontal\n      // based on the existence of 'content-col' or 'label-col' props\n      return keys(this.contentColProps).length > 0 || keys(this.labelColProps).length > 0;\n    }\n  },\n  watch: {\n    ariaDescribedby: function ariaDescribedby(newValue, oldValue) {\n      if (newValue !== oldValue) {\n        this.updateAriaDescribedby(newValue, oldValue);\n      }\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.$nextTick(function () {\n      // Set `aria-describedby` on the input specified by `labelFor`\n      // We do this in a `$nextTick()` to ensure the children have finished rendering\n      _this.updateAriaDescribedby(_this.ariaDescribedby);\n    });\n  },\n  methods: {\n    getAlignClasses: function getAlignClasses(props, prefix) {\n      return getBreakpointsUpCached().reduce(function (result, breakpoint) {\n        var propValue = props[suffixPropName(breakpoint, \"\".concat(prefix, \"Align\"))] || null;\n\n        if (propValue) {\n          result.push(['text', breakpoint, propValue].filter(identity).join('-'));\n        }\n\n        return result;\n      }, []);\n    },\n    getColProps: function getColProps(props, prefix) {\n      return getBreakpointsUpCached().reduce(function (result, breakpoint) {\n        var propValue = props[suffixPropName(breakpoint, \"\".concat(prefix, \"Cols\"))]; // Handle case where the prop's value is an empty string,\n        // which represents `true`\n\n        propValue = propValue === '' ? true : propValue || false;\n\n        if (!isBoolean(propValue) && propValue !== 'auto') {\n          // Convert to column size to number\n          propValue = toInteger(propValue, 0); // Ensure column size is greater than `0`\n\n          propValue = propValue > 0 ? propValue : false;\n        } // Add the prop to the list of props to give to `<b-col>`\n        // If breakpoint is '' (`${prefix}Cols` is `true`), then we use\n        // the 'col' prop to make equal width at 'xs'\n\n\n        if (propValue) {\n          result[breakpoint || (isBoolean(propValue) ? 'col' : 'cols')] = propValue;\n        }\n\n        return result;\n      }, {});\n    },\n    // Sets the `aria-describedby` attribute on the input if `labelFor` is set\n    // Optionally accepts a string of IDs to remove as the second parameter\n    // Preserves any `aria-describedby` value(s) user may have on input\n    updateAriaDescribedby: function updateAriaDescribedby(newValue, oldValue) {\n      var labelFor = this.labelFor;\n\n      if (IS_BROWSER && labelFor) {\n        // We need to escape `labelFor` since it can be user-provided\n        var $input = select(\"#\".concat(cssEscape(labelFor)), this.$refs.content);\n\n        if ($input) {\n          var attr = 'aria-describedby';\n          var newIds = (newValue || '').split(RX_SPACE_SPLIT);\n          var oldIds = (oldValue || '').split(RX_SPACE_SPLIT); // Update ID list, preserving any original IDs\n          // and ensuring the ID's are unique\n\n          var ids = (getAttr($input, attr) || '').split(RX_SPACE_SPLIT).filter(function (id) {\n            return !arrayIncludes(oldIds, id);\n          }).concat(newIds).filter(function (id, index, ids) {\n            return ids.indexOf(id) === index;\n          }).filter(identity).join(' ').trim();\n\n          if (ids) {\n            setAttr($input, attr, ids);\n          } else {\n            removeAttr($input, attr);\n          }\n        }\n      }\n    },\n    onLegendClick: function onLegendClick(event) {\n      // Don't do anything if `labelFor` is set\n\n      /* istanbul ignore next: clicking a label will focus the input, so no need to test */\n      if (this.labelFor) {\n        return;\n      }\n\n      var target = event.target;\n      var tagName = target ? target.tagName : ''; // If clicked an interactive element inside legend,\n      // we just let the default happen\n\n      /* istanbul ignore next */\n\n      if (LEGEND_INTERACTIVE_ELEMENTS.indexOf(tagName) !== -1) {\n        return;\n      } // If only a single input, focus it, emulating label behaviour\n\n\n      var inputs = selectAll(INPUT_SELECTOR, this.$refs.content).filter(isVisible);\n\n      if (inputs.length === 1) {\n        attemptFocus(inputs[0]);\n      }\n    }\n  },\n  render: function render(h) {\n    var state = this.computedState,\n        feedbackAriaLive = this.feedbackAriaLive,\n        isHorizontal = this.isHorizontal,\n        labelFor = this.labelFor,\n        normalizeSlot = this.normalizeSlot,\n        safeId = this.safeId,\n        tooltip = this.tooltip;\n    var id = safeId();\n    var isFieldset = !labelFor;\n    var $label = h();\n    var labelContent = normalizeSlot(SLOT_NAME_LABEL) || this.label;\n    var labelId = labelContent ? safeId('_BV_label_') : null;\n\n    if (labelContent || isHorizontal) {\n      var labelSize = this.labelSize,\n          labelColProps = this.labelColProps;\n      var labelTag = isFieldset ? 'legend' : 'label';\n\n      if (this.labelSrOnly) {\n        if (labelContent) {\n          $label = h(labelTag, {\n            class: 'sr-only',\n            attrs: {\n              id: labelId,\n              for: labelFor || null\n            }\n          }, [labelContent]);\n        }\n\n        $label = h(isHorizontal ? BCol : 'div', {\n          props: isHorizontal ? labelColProps : {}\n        }, [$label]);\n      } else {\n        $label = h(isHorizontal ? BCol : labelTag, {\n          on: isFieldset ? {\n            click: this.onLegendClick\n          } : {},\n          props: isHorizontal ? _objectSpread(_objectSpread({}, labelColProps), {}, {\n            tag: labelTag\n          }) : {},\n          attrs: {\n            id: labelId,\n            for: labelFor || null,\n            // We add a `tabindex` to legend so that screen readers\n            // will properly read the `aria-labelledby` in IE\n            tabindex: isFieldset ? '-1' : null\n          },\n          class: [// Hide the focus ring on the legend\n          isFieldset ? 'bv-no-focus-ring' : '', // When horizontal or if a legend is rendered, add 'col-form-label' class\n          // for correct sizing as Bootstrap has inconsistent font styling for\n          // legend in non-horizontal form groups\n          // See: https://github.com/twbs/bootstrap/issues/27805\n          isHorizontal || isFieldset ? 'col-form-label' : '', // Emulate label padding top of `0` on legend when not horizontal\n          !isHorizontal && isFieldset ? 'pt-0' : '', // If not horizontal and not a legend, we add 'd-block' class to label\n          // so that label-align works\n          !isHorizontal && !isFieldset ? 'd-block' : '', labelSize ? \"col-form-label-\".concat(labelSize) : '', this.labelAlignClasses, this.labelClass]\n        }, [labelContent]);\n      }\n    }\n\n    var $invalidFeedback = h();\n    var invalidFeedbackContent = normalizeSlot(SLOT_NAME_INVALID_FEEDBACK) || this.invalidFeedback;\n    var invalidFeedbackId = invalidFeedbackContent ? safeId('_BV_feedback_invalid_') : null;\n\n    if (invalidFeedbackContent) {\n      $invalidFeedback = h(BFormInvalidFeedback, {\n        props: {\n          ariaLive: feedbackAriaLive,\n          id: invalidFeedbackId,\n          role: feedbackAriaLive ? 'alert' : null,\n          // If state is explicitly `false`, always show the feedback\n          state: state,\n          tooltip: tooltip\n        },\n        attrs: {\n          tabindex: invalidFeedbackContent ? '-1' : null\n        }\n      }, [invalidFeedbackContent]);\n    }\n\n    var $validFeedback = h();\n    var validFeedbackContent = normalizeSlot(SLOT_NAME_VALID_FEEDBACK) || this.validFeedback;\n    var validFeedbackId = validFeedbackContent ? safeId('_BV_feedback_valid_') : null;\n\n    if (validFeedbackContent) {\n      $validFeedback = h(BFormValidFeedback, {\n        props: {\n          ariaLive: feedbackAriaLive,\n          id: validFeedbackId,\n          role: feedbackAriaLive ? 'alert' : null,\n          // If state is explicitly `true`, always show the feedback\n          state: state,\n          tooltip: tooltip\n        },\n        attrs: {\n          tabindex: validFeedbackContent ? '-1' : null\n        }\n      }, [validFeedbackContent]);\n    }\n\n    var $description = h();\n    var descriptionContent = normalizeSlot(SLOT_NAME_DESCRIPTION) || this.description;\n    var descriptionId = descriptionContent ? safeId('_BV_description_') : null;\n\n    if (descriptionContent) {\n      $description = h(BFormText, {\n        attrs: {\n          id: descriptionId,\n          tabindex: '-1'\n        }\n      }, [descriptionContent]);\n    } // Update `ariaDescribedby`\n    // Screen readers will read out any content linked to by `aria-describedby`\n    // even if the content is hidden with `display: none;`, hence we only include\n    // feedback IDs if the form group's state is explicitly valid or invalid\n\n\n    var ariaDescribedby = this.ariaDescribedby = [descriptionId, state === false ? invalidFeedbackId : null, state === true ? validFeedbackId : null].filter(identity).join(' ') || null;\n    var $content = h(isHorizontal ? BCol : 'div', {\n      props: isHorizontal ? this.contentColProps : {},\n      ref: 'content'\n    }, [normalizeSlot(SLOT_NAME_DEFAULT, {\n      ariaDescribedby: ariaDescribedby,\n      descriptionId: descriptionId,\n      id: id,\n      labelId: labelId\n    }) || h(), $invalidFeedback, $validFeedback, $description]); // Return it wrapped in a form group\n    // Note: Fieldsets do not support adding `row` or `form-row` directly\n    // to them due to browser specific render issues, so we move the `form-row`\n    // to an inner wrapper div when horizontal and using a fieldset\n\n    return h(isFieldset ? 'fieldset' : isHorizontal ? BFormRow : 'div', {\n      staticClass: 'form-group',\n      class: [{\n        'was-validated': this.validated\n      }, this.stateClass],\n      attrs: {\n        id: id,\n        disabled: isFieldset ? this.disabled : null,\n        role: isFieldset ? null : 'group',\n        'aria-invalid': this.computedAriaInvalid,\n        // Only apply `aria-labelledby` if we are a horizontal fieldset\n        // as the legend is no longer a direct child of fieldset\n        'aria-labelledby': isFieldset && isHorizontal ? labelId : null\n      }\n    }, isHorizontal && isFieldset ? [h(BFormRow, [$label, $content])] : [$label, $content]);\n  }\n};","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue, mergeData } from '../../vue';\nimport { NAME_FORM_TEXT } from '../../constants/components';\nimport { PROP_TYPE_BOOLEAN, PROP_TYPE_STRING } from '../../constants/props';\nimport { makeProp, makePropsConfigurable } from '../../utils/props'; // --- Props ---\n\nexport var props = makePropsConfigurable({\n  id: makeProp(PROP_TYPE_STRING),\n  inline: makeProp(PROP_TYPE_BOOLEAN, false),\n  tag: makeProp(PROP_TYPE_STRING, 'small'),\n  textVariant: makeProp(PROP_TYPE_STRING, 'muted')\n}, NAME_FORM_TEXT); // --- Main component ---\n// @vue/component\n\nexport var BFormText = /*#__PURE__*/Vue.extend({\n  name: NAME_FORM_TEXT,\n  functional: true,\n  props: props,\n  render: function render(h, _ref) {\n    var props = _ref.props,\n        data = _ref.data,\n        children = _ref.children;\n    return h(props.tag, mergeData(data, {\n      class: _defineProperty({\n        'form-text': !props.inline\n      }, \"text-\".concat(props.textVariant), props.textVariant),\n      attrs: {\n        id: props.id\n      }\n    }), children);\n  }\n});","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n// v-b-visible\n// Private visibility check directive\n// Based on IntersectionObserver\n//\n// Usage:\n//  v-b-visibility.<margin>.<once>=\"<callback>\"\n//\n//  Value:\n//  <callback>: method to be called when visibility state changes, receives one arg:\n//     true:  element is visible\n//     false: element is not visible\n//     null:  IntersectionObserver not supported\n//\n//  Modifiers:\n//    <margin>: a positive decimal value of pixels away from viewport edge\n//              before being considered \"visible\". default is 0\n//    <once>:   keyword 'once', meaning when the element becomes visible and\n//              callback is called observation/notification will stop.\n//\n// When used in a render function:\n// export default {\n//   directives: { 'b-visible': VBVisible },\n//   render(h) {\n//     h(\n//       'div',\n//       {\n//         directives: [\n//           { name: 'b-visible', value=this.callback, modifiers: { '123':true, 'once':true } }\n//         ]\n//       }\n//     )\n//   }\nimport { RX_DIGITS } from '../../constants/regex';\nimport { requestAF } from '../../utils/dom';\nimport { isFunction } from '../../utils/inspect';\nimport { looseEqual } from '../../utils/loose-equal';\nimport { clone, keys } from '../../utils/object';\nvar OBSERVER_PROP_NAME = '__bv__visibility_observer';\n\nvar VisibilityObserver = /*#__PURE__*/function () {\n  function VisibilityObserver(el, options, vnode) {\n    _classCallCheck(this, VisibilityObserver);\n\n    this.el = el;\n    this.callback = options.callback;\n    this.margin = options.margin || 0;\n    this.once = options.once || false;\n    this.observer = null;\n    this.visible = undefined;\n    this.doneOnce = false; // Create the observer instance (if possible)\n\n    this.createObserver(vnode);\n  }\n\n  _createClass(VisibilityObserver, [{\n    key: \"createObserver\",\n    value: function createObserver(vnode) {\n      var _this = this;\n\n      // Remove any previous observer\n      if (this.observer) {\n        /* istanbul ignore next */\n        this.stop();\n      } // Should only be called once and `callback` prop should be a function\n\n\n      if (this.doneOnce || !isFunction(this.callback)) {\n        /* istanbul ignore next */\n        return;\n      } // Create the observer instance\n\n\n      try {\n        // Future: Possibly add in other modifiers for left/right/top/bottom\n        // offsets, root element reference, and thresholds\n        this.observer = new IntersectionObserver(this.handler.bind(this), {\n          // `null` = 'viewport'\n          root: null,\n          // Pixels away from view port to consider \"visible\"\n          rootMargin: this.margin,\n          // Intersection ratio of el and root (as a value from 0 to 1)\n          threshold: 0\n        });\n      } catch (_unused) {\n        // No IntersectionObserver support, so just stop trying to observe\n        this.doneOnce = true;\n        this.observer = undefined;\n        this.callback(null);\n        return;\n      } // Start observing in a `$nextTick()` (to allow DOM to complete rendering)\n\n      /* istanbul ignore next: IntersectionObserver not supported in JSDOM */\n\n\n      vnode.context.$nextTick(function () {\n        requestAF(function () {\n          // Placed in an `if` just in case we were destroyed before\n          // this `requestAnimationFrame` runs\n          if (_this.observer) {\n            _this.observer.observe(_this.el);\n          }\n        });\n      });\n    }\n    /* istanbul ignore next */\n\n  }, {\n    key: \"handler\",\n    value: function handler(entries) {\n      var entry = entries ? entries[0] : {};\n      var isIntersecting = Boolean(entry.isIntersecting || entry.intersectionRatio > 0.0);\n\n      if (isIntersecting !== this.visible) {\n        this.visible = isIntersecting;\n        this.callback(isIntersecting);\n\n        if (this.once && this.visible) {\n          this.doneOnce = true;\n          this.stop();\n        }\n      }\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      /* istanbul ignore next */\n      this.observer && this.observer.disconnect();\n      this.observer = null;\n    }\n  }]);\n\n  return VisibilityObserver;\n}();\n\nvar destroy = function destroy(el) {\n  var observer = el[OBSERVER_PROP_NAME];\n\n  if (observer && observer.stop) {\n    observer.stop();\n  }\n\n  delete el[OBSERVER_PROP_NAME];\n};\n\nvar bind = function bind(el, _ref, vnode) {\n  var value = _ref.value,\n      modifiers = _ref.modifiers;\n  // `value` is the callback function\n  var options = {\n    margin: '0px',\n    once: false,\n    callback: value\n  }; // Parse modifiers\n\n  keys(modifiers).forEach(function (mod) {\n    /* istanbul ignore else: Until <b-img-lazy> is switched to use this directive */\n    if (RX_DIGITS.test(mod)) {\n      options.margin = \"\".concat(mod, \"px\");\n    } else if (mod.toLowerCase() === 'once') {\n      options.once = true;\n    }\n  }); // Destroy any previous observer\n\n  destroy(el); // Create new observer\n\n  el[OBSERVER_PROP_NAME] = new VisibilityObserver(el, options, vnode); // Store the current modifiers on the object (cloned)\n\n  el[OBSERVER_PROP_NAME]._prevModifiers = clone(modifiers);\n}; // When the directive options may have been updated (or element)\n\n\nvar componentUpdated = function componentUpdated(el, _ref2, vnode) {\n  var value = _ref2.value,\n      oldValue = _ref2.oldValue,\n      modifiers = _ref2.modifiers;\n  // Compare value/oldValue and modifiers to see if anything has changed\n  // and if so, destroy old observer and create new observer\n\n  /* istanbul ignore next */\n  modifiers = clone(modifiers);\n  /* istanbul ignore next */\n\n  if (el && (value !== oldValue || !el[OBSERVER_PROP_NAME] || !looseEqual(modifiers, el[OBSERVER_PROP_NAME]._prevModifiers))) {\n    // Re-bind on element\n    bind(el, {\n      value: value,\n      modifiers: modifiers\n    }, vnode);\n  }\n}; // When directive un-binds from element\n\n\nvar unbind = function unbind(el) {\n  // Remove the observer\n  destroy(el);\n}; // Export the directive\n\n\nexport var VBVisible = {\n  bind: bind,\n  componentUpdated: componentUpdated,\n  unbind: unbind\n};","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../vue';\nimport { NAME_FORM_TEXTAREA } from '../../constants/components';\nimport { PROP_TYPE_BOOLEAN, PROP_TYPE_NUMBER_STRING, PROP_TYPE_STRING } from '../../constants/props';\nimport { getCS, getStyle, isVisible, requestAF, setStyle } from '../../utils/dom';\nimport { isNull } from '../../utils/inspect';\nimport { mathCeil, mathMax, mathMin } from '../../utils/math';\nimport { toInteger, toFloat } from '../../utils/number';\nimport { sortKeys } from '../../utils/object';\nimport { makeProp, makePropsConfigurable } from '../../utils/props';\nimport { formControlMixin, props as formControlProps } from '../../mixins/form-control';\nimport { formSelectionMixin } from '../../mixins/form-selection';\nimport { formSizeMixin, props as formSizeProps } from '../../mixins/form-size';\nimport { formStateMixin, props as formStateProps } from '../../mixins/form-state';\nimport { formTextMixin, props as formTextProps } from '../../mixins/form-text';\nimport { formValidityMixin } from '../../mixins/form-validity';\nimport { idMixin, props as idProps } from '../../mixins/id';\nimport { listenOnRootMixin } from '../../mixins/listen-on-root';\nimport { listenersMixin } from '../../mixins/listeners';\nimport { VBVisible } from '../../directives/visible/visible'; // --- Props ---\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({}, idProps), formControlProps), formSizeProps), formStateProps), formTextProps), {}, {\n  maxRows: makeProp(PROP_TYPE_NUMBER_STRING),\n  // When in auto resize mode, disable shrinking to content height\n  noAutoShrink: makeProp(PROP_TYPE_BOOLEAN, false),\n  // Disable the resize handle of textarea\n  noResize: makeProp(PROP_TYPE_BOOLEAN, false),\n  rows: makeProp(PROP_TYPE_NUMBER_STRING, 2),\n  // 'soft', 'hard' or 'off'\n  // Browser default is 'soft'\n  wrap: makeProp(PROP_TYPE_STRING, 'soft')\n})), NAME_FORM_TEXTAREA); // --- Main component ---\n// @vue/component\n\nexport var BFormTextarea = /*#__PURE__*/Vue.extend({\n  name: NAME_FORM_TEXTAREA,\n  directives: {\n    'b-visible': VBVisible\n  },\n  // Mixin order is important!\n  mixins: [listenersMixin, idMixin, listenOnRootMixin, formControlMixin, formSizeMixin, formStateMixin, formTextMixin, formSelectionMixin, formValidityMixin],\n  props: props,\n  data: function data() {\n    return {\n      heightInPx: null\n    };\n  },\n  computed: {\n    computedStyle: function computedStyle() {\n      var styles = {\n        // Setting `noResize` to true will disable the ability for the user to\n        // manually resize the textarea. We also disable when in auto height mode\n        resize: !this.computedRows || this.noResize ? 'none' : null\n      };\n\n      if (!this.computedRows) {\n        // Conditionally set the computed CSS height when auto rows/height is enabled\n        // We avoid setting the style to `null`, which can override user manual resize handle\n        styles.height = this.heightInPx; // We always add a vertical scrollbar to the textarea when auto-height is\n        // enabled so that the computed height calculation returns a stable value\n\n        styles.overflowY = 'scroll';\n      }\n\n      return styles;\n    },\n    computedMinRows: function computedMinRows() {\n      // Ensure rows is at least 2 and positive (2 is the native textarea value)\n      // A value of 1 can cause issues in some browsers, and most browsers\n      // only support 2 as the smallest value\n      return mathMax(toInteger(this.rows, 2), 2);\n    },\n    computedMaxRows: function computedMaxRows() {\n      return mathMax(this.computedMinRows, toInteger(this.maxRows, 0));\n    },\n    computedRows: function computedRows() {\n      // This is used to set the attribute 'rows' on the textarea\n      // If auto-height is enabled, then we return `null` as we use CSS to control height\n      return this.computedMinRows === this.computedMaxRows ? this.computedMinRows : null;\n    },\n    computedAttrs: function computedAttrs() {\n      var disabled = this.disabled,\n          required = this.required;\n      return {\n        id: this.safeId(),\n        name: this.name || null,\n        form: this.form || null,\n        disabled: disabled,\n        placeholder: this.placeholder || null,\n        required: required,\n        autocomplete: this.autocomplete || null,\n        readonly: this.readonly || this.plaintext,\n        rows: this.computedRows,\n        wrap: this.wrap || null,\n        'aria-required': this.required ? 'true' : null,\n        'aria-invalid': this.computedAriaInvalid\n      };\n    },\n    computedListeners: function computedListeners() {\n      return _objectSpread(_objectSpread({}, this.bvListeners), {}, {\n        input: this.onInput,\n        change: this.onChange,\n        blur: this.onBlur\n      });\n    }\n  },\n  watch: {\n    localValue: function localValue() {\n      this.setHeight();\n    }\n  },\n  mounted: function mounted() {\n    this.setHeight();\n  },\n  methods: {\n    // Called by intersection observer directive\n\n    /* istanbul ignore next */\n    visibleCallback: function visibleCallback(visible) {\n      if (visible) {\n        // We use a `$nextTick()` here just to make sure any\n        // transitions or portalling have completed\n        this.$nextTick(this.setHeight);\n      }\n    },\n    setHeight: function setHeight() {\n      var _this = this;\n\n      this.$nextTick(function () {\n        requestAF(function () {\n          _this.heightInPx = _this.computeHeight();\n        });\n      });\n    },\n\n    /* istanbul ignore next: can't test getComputedStyle in JSDOM */\n    computeHeight: function computeHeight() {\n      if (this.$isServer || !isNull(this.computedRows)) {\n        return null;\n      }\n\n      var el = this.$el; // Element must be visible (not hidden) and in document\n      // Must be checked after above checks\n\n      if (!isVisible(el)) {\n        return null;\n      } // Get current computed styles\n\n\n      var computedStyle = getCS(el); // Height of one line of text in px\n\n      var lineHeight = toFloat(computedStyle.lineHeight, 1); // Calculate height of border and padding\n\n      var border = toFloat(computedStyle.borderTopWidth, 0) + toFloat(computedStyle.borderBottomWidth, 0);\n      var padding = toFloat(computedStyle.paddingTop, 0) + toFloat(computedStyle.paddingBottom, 0); // Calculate offset\n\n      var offset = border + padding; // Minimum height for min rows (which must be 2 rows or greater for cross-browser support)\n\n      var minHeight = lineHeight * this.computedMinRows + offset; // Get the current style height (with `px` units)\n\n      var oldHeight = getStyle(el, 'height') || computedStyle.height; // Probe scrollHeight by temporarily changing the height to `auto`\n\n      setStyle(el, 'height', 'auto');\n      var scrollHeight = el.scrollHeight; // Place the original old height back on the element, just in case `computedProp`\n      // returns the same value as before\n\n      setStyle(el, 'height', oldHeight); // Calculate content height in 'rows' (scrollHeight includes padding but not border)\n\n      var contentRows = mathMax((scrollHeight - padding) / lineHeight, 2); // Calculate number of rows to display (limited within min/max rows)\n\n      var rows = mathMin(mathMax(contentRows, this.computedMinRows), this.computedMaxRows); // Calculate the required height of the textarea including border and padding (in pixels)\n\n      var height = mathMax(mathCeil(rows * lineHeight + offset), minHeight); // Computed height remains the larger of `oldHeight` and new `height`,\n      // when height is in `sticky` mode (prop `no-auto-shrink` is true)\n\n      if (this.noAutoShrink && toFloat(oldHeight, 0) > height) {\n        return oldHeight;\n      } // Return the new computed CSS height in px units\n\n\n      return \"\".concat(height, \"px\");\n    }\n  },\n  render: function render(h) {\n    return h('textarea', {\n      class: this.computedClass,\n      style: this.computedStyle,\n      directives: [{\n        name: 'b-visible',\n        value: this.visibleCallback,\n        // If textarea is within 640px of viewport, consider it visible\n        modifiers: {\n          '640': true\n        }\n      }],\n      attrs: this.computedAttrs,\n      domProps: {\n        value: this.localValue\n      },\n      on: this.computedListeners,\n      ref: 'input'\n    });\n  }\n});","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { mergeData } from '../../vue';\nimport { NAME_ROW } from '../../constants/components';\nimport { PROP_TYPE_BOOLEAN, PROP_TYPE_NUMBER_STRING, PROP_TYPE_STRING } from '../../constants/props';\nimport { arrayIncludes, concat } from '../../utils/array';\nimport { getBreakpointsUpCached } from '../../utils/config';\nimport { identity } from '../../utils/identity';\nimport { memoize } from '../../utils/memoize';\nimport { create, keys, sortKeys } from '../../utils/object';\nimport { makeProp, makePropsConfigurable, suffixPropName } from '../../utils/props';\nimport { lowerCase, toString, trim } from '../../utils/string'; // --- Constants ---\n\nvar COMMON_ALIGNMENT = ['start', 'end', 'center']; // --- Helper methods ---\n// Compute a `row-cols-{breakpoint}-{cols}` class name\n// Memoized function for better performance on generating class names\n\nvar computeRowColsClass = memoize(function (breakpoint, cols) {\n  cols = trim(toString(cols));\n  return cols ? lowerCase(['row-cols', breakpoint, cols].filter(identity).join('-')) : null;\n}); // Get the breakpoint name from the `rowCols` prop name\n// Memoized function for better performance on extracting breakpoint names\n\nvar computeRowColsBreakpoint = memoize(function (prop) {\n  return lowerCase(prop.replace('cols', ''));\n}); // Cached copy of the `row-cols` breakpoint prop names\n// Will be populated when the props are generated\n\nvar rowColsPropList = []; // --- Props ---\n// Prop generator for lazy generation of props\n\nexport var generateProps = function generateProps() {\n  // i.e. 'row-cols-2', 'row-cols-md-4', 'row-cols-xl-6', ...\n  var rowColsProps = getBreakpointsUpCached().reduce(function (props, breakpoint) {\n    props[suffixPropName(breakpoint, 'cols')] = makeProp(PROP_TYPE_NUMBER_STRING);\n    return props;\n  }, create(null)); // Cache the row-cols prop names\n\n  rowColsPropList = keys(rowColsProps); // Return the generated props\n\n  return makePropsConfigurable(sortKeys(_objectSpread(_objectSpread({}, rowColsProps), {}, {\n    alignContent: makeProp(PROP_TYPE_STRING, null, function (value) {\n      return arrayIncludes(concat(COMMON_ALIGNMENT, 'between', 'around', 'stretch'), value);\n    }),\n    alignH: makeProp(PROP_TYPE_STRING, null, function (value) {\n      return arrayIncludes(concat(COMMON_ALIGNMENT, 'between', 'around'), value);\n    }),\n    alignV: makeProp(PROP_TYPE_STRING, null, function (value) {\n      return arrayIncludes(concat(COMMON_ALIGNMENT, 'baseline', 'stretch'), value);\n    }),\n    noGutters: makeProp(PROP_TYPE_BOOLEAN, false),\n    tag: makeProp(PROP_TYPE_STRING, 'div')\n  })), NAME_ROW);\n}; // --- Main component ---\n// We do not use `Vue.extend()` here as that would evaluate the props\n// immediately, which we do not want to happen\n// @vue/component\n\nexport var BRow = {\n  name: NAME_ROW,\n  functional: true,\n\n  get props() {\n    // Allow props to be lazy evaled on first access and\n    // then they become a non-getter afterwards\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/get#Smart_self-overwriting_lazy_getters\n    delete this.props;\n    this.props = generateProps();\n    return this.props;\n  },\n\n  render: function render(h, _ref) {\n    var _classList$push;\n\n    var props = _ref.props,\n        data = _ref.data,\n        children = _ref.children;\n    var alignV = props.alignV,\n        alignH = props.alignH,\n        alignContent = props.alignContent; // Loop through row-cols breakpoint props and generate the classes\n\n    var classList = [];\n    rowColsPropList.forEach(function (prop) {\n      var c = computeRowColsClass(computeRowColsBreakpoint(prop), props[prop]); // If a class is returned, push it onto the array\n\n      if (c) {\n        classList.push(c);\n      }\n    });\n    classList.push((_classList$push = {\n      'no-gutters': props.noGutters\n    }, _defineProperty(_classList$push, \"align-items-\".concat(alignV), alignV), _defineProperty(_classList$push, \"justify-content-\".concat(alignH), alignH), _defineProperty(_classList$push, \"align-content-\".concat(alignContent), alignContent), _classList$push));\n    return h(props.tag, mergeData(data, {\n      staticClass: 'row',\n      class: classList\n    }), children);\n  }\n};","'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","import { Vue } from '../vue';\nimport { PROP_TYPE_STRING } from '../constants/props';\nimport { makeProp, makePropsConfigurable } from '../utils/props'; // --- Props ---\n\nexport var props = makePropsConfigurable({\n  size: makeProp(PROP_TYPE_STRING)\n}, 'formControls'); // --- Mixin ---\n// @vue/component\n\nexport var formSizeMixin = Vue.extend({\n  props: props,\n  computed: {\n    sizeFormClass: function sizeFormClass() {\n      return [this.size ? \"form-control-\".concat(this.size) : null];\n    }\n  }\n});","/* Form control contextual state class computation\n *\n * Returned class is either 'is-valid' or 'is-invalid' based on the 'state' prop\n * state can be one of five values:\n *  - true for is-valid\n *  - false for is-invalid\n *  - null for no contextual state\n */\nimport { Vue } from '../vue';\nimport { PROP_TYPE_BOOLEAN } from '../constants/props';\nimport { isBoolean } from '../utils/inspect';\nimport { makeProp, makePropsConfigurable } from '../utils/props'; // --- Props ---\n\nexport var props = makePropsConfigurable({\n  // Tri-state prop: true, false, null (or undefined)\n  state: makeProp(PROP_TYPE_BOOLEAN, null)\n}, 'formState'); // --- Mixin ---\n// @vue/component\n\nexport var formStateMixin = Vue.extend({\n  props: props,\n  computed: {\n    computedState: function computedState() {\n      // If not a boolean, ensure that value is null\n      return isBoolean(this.state) ? this.state : null;\n    },\n    stateClass: function stateClass() {\n      var state = this.computedState;\n      return state === true ? 'is-valid' : state === false ? 'is-invalid' : null;\n    },\n    computedAriaInvalid: function computedAriaInvalid() {\n      var ariaInvalid = this.ariaInvalid;\n\n      if (ariaInvalid === true || ariaInvalid === 'true' || ariaInvalid === '') {\n        return 'true';\n      }\n\n      return this.computedState === false ? 'true' : ariaInvalid;\n    }\n  }\n});","import { Vue } from '../vue';\nimport { PROP_TYPE_BOOLEAN, PROP_TYPE_STRING } from '../constants/props';\nimport { attemptFocus, isVisible, matches, requestAF, select } from '../utils/dom';\nimport { makeProp, makePropsConfigurable } from '../utils/props'; // --- Constants ---\n\nvar SELECTOR = 'input, textarea, select'; // --- Props ---\n\nexport var props = makePropsConfigurable({\n  autofocus: makeProp(PROP_TYPE_BOOLEAN, false),\n  disabled: makeProp(PROP_TYPE_BOOLEAN, false),\n  form: makeProp(PROP_TYPE_STRING),\n  id: makeProp(PROP_TYPE_STRING),\n  name: makeProp(PROP_TYPE_STRING),\n  required: makeProp(PROP_TYPE_BOOLEAN, false)\n}, 'formControls'); // --- Mixin ---\n// @vue/component\n\nexport var formControlMixin = Vue.extend({\n  props: props,\n  mounted: function mounted() {\n    this.handleAutofocus();\n  },\n\n  /* istanbul ignore next */\n  activated: function activated() {\n    this.handleAutofocus();\n  },\n  methods: {\n    handleAutofocus: function handleAutofocus() {\n      var _this = this;\n\n      this.$nextTick(function () {\n        requestAF(function () {\n          var el = _this.$el;\n\n          if (_this.autofocus && isVisible(el)) {\n            if (!matches(el, SELECTOR)) {\n              el = select(SELECTOR, el);\n            }\n\n            attemptFocus(el);\n          }\n        });\n      });\n    }\n  }\n});","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../vue';\nimport { NAME_AVATAR } from '../../constants/components';\nimport { EVENT_NAME_CLICK, EVENT_NAME_IMG_ERROR } from '../../constants/events';\nimport { PROP_TYPE_BOOLEAN, PROP_TYPE_BOOLEAN_STRING, PROP_TYPE_NUMBER_STRING, PROP_TYPE_STRING } from '../../constants/props';\nimport { SLOT_NAME_BADGE } from '../../constants/slots';\nimport { isNumber, isNumeric, isString } from '../../utils/inspect';\nimport { toFloat } from '../../utils/number';\nimport { omit, sortKeys } from '../../utils/object';\nimport { makeProp, makePropsConfigurable, pluckProps } from '../../utils/props';\nimport { isLink } from '../../utils/router';\nimport { normalizeSlotMixin } from '../../mixins/normalize-slot';\nimport { BIcon } from '../../icons/icon';\nimport { BIconPersonFill } from '../../icons/icons';\nimport { BButton } from '../button/button';\nimport { BLink, props as BLinkProps } from '../link/link'; // --- Constants ---\n\nvar CLASS_NAME = 'b-avatar';\nvar SIZES = ['sm', null, 'lg'];\nvar FONT_SIZE_SCALE = 0.4;\nvar BADGE_FONT_SIZE_SCALE = FONT_SIZE_SCALE * 0.7; // --- Helper methods ---\n\nexport var computeSize = function computeSize(value) {\n  // Parse to number when value is a float-like string\n  value = isString(value) && isNumeric(value) ? toFloat(value, 0) : value; // Convert all numbers to pixel values\n\n  return isNumber(value) ? \"\".concat(value, \"px\") : value || null;\n}; // --- Props ---\n\nvar linkProps = omit(BLinkProps, ['active', 'event', 'routerTag']);\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread({}, linkProps), {}, {\n  alt: makeProp(PROP_TYPE_STRING, 'avatar'),\n  ariaLabel: makeProp(PROP_TYPE_STRING),\n  badge: makeProp(PROP_TYPE_BOOLEAN_STRING, false),\n  badgeLeft: makeProp(PROP_TYPE_BOOLEAN, false),\n  badgeOffset: makeProp(PROP_TYPE_STRING),\n  badgeTop: makeProp(PROP_TYPE_BOOLEAN, false),\n  badgeVariant: makeProp(PROP_TYPE_STRING, 'primary'),\n  button: makeProp(PROP_TYPE_BOOLEAN, false),\n  buttonType: makeProp(PROP_TYPE_STRING, 'button'),\n  icon: makeProp(PROP_TYPE_STRING),\n  rounded: makeProp(PROP_TYPE_BOOLEAN_STRING, false),\n  size: makeProp(PROP_TYPE_NUMBER_STRING),\n  square: makeProp(PROP_TYPE_BOOLEAN, false),\n  src: makeProp(PROP_TYPE_STRING),\n  text: makeProp(PROP_TYPE_STRING),\n  variant: makeProp(PROP_TYPE_STRING, 'secondary')\n})), NAME_AVATAR); // --- Main component ---\n// @vue/component\n\nexport var BAvatar = /*#__PURE__*/Vue.extend({\n  name: NAME_AVATAR,\n  mixins: [normalizeSlotMixin],\n  inject: {\n    bvAvatarGroup: {\n      default: null\n    }\n  },\n  props: props,\n  data: function data() {\n    return {\n      localSrc: this.src || null\n    };\n  },\n  computed: {\n    computedSize: function computedSize() {\n      // Always use the avatar group size\n      var bvAvatarGroup = this.bvAvatarGroup;\n      return computeSize(bvAvatarGroup ? bvAvatarGroup.size : this.size);\n    },\n    computedVariant: function computedVariant() {\n      var bvAvatarGroup = this.bvAvatarGroup;\n      return bvAvatarGroup && bvAvatarGroup.variant ? bvAvatarGroup.variant : this.variant;\n    },\n    computedRounded: function computedRounded() {\n      var bvAvatarGroup = this.bvAvatarGroup;\n      var square = bvAvatarGroup && bvAvatarGroup.square ? true : this.square;\n      var rounded = bvAvatarGroup && bvAvatarGroup.rounded ? bvAvatarGroup.rounded : this.rounded;\n      return square ? '0' : rounded === '' ? true : rounded || 'circle';\n    },\n    fontStyle: function fontStyle() {\n      var size = this.computedSize;\n      var fontSize = SIZES.indexOf(size) === -1 ? \"calc(\".concat(size, \" * \").concat(FONT_SIZE_SCALE, \")\") : null;\n      return fontSize ? {\n        fontSize: fontSize\n      } : {};\n    },\n    marginStyle: function marginStyle() {\n      var size = this.computedSize,\n          bvAvatarGroup = this.bvAvatarGroup;\n      var overlapScale = bvAvatarGroup ? bvAvatarGroup.overlapScale : 0;\n      var value = size && overlapScale ? \"calc(\".concat(size, \" * -\").concat(overlapScale, \")\") : null;\n      return value ? {\n        marginLeft: value,\n        marginRight: value\n      } : {};\n    },\n    badgeStyle: function badgeStyle() {\n      var size = this.computedSize,\n          badgeTop = this.badgeTop,\n          badgeLeft = this.badgeLeft,\n          badgeOffset = this.badgeOffset;\n      var offset = badgeOffset || '0px';\n      return {\n        fontSize: SIZES.indexOf(size) === -1 ? \"calc(\".concat(size, \" * \").concat(BADGE_FONT_SIZE_SCALE, \" )\") : null,\n        top: badgeTop ? offset : null,\n        bottom: badgeTop ? null : offset,\n        left: badgeLeft ? offset : null,\n        right: badgeLeft ? null : offset\n      };\n    }\n  },\n  watch: {\n    src: function src(newValue, oldValue) {\n      if (newValue !== oldValue) {\n        this.localSrc = newValue || null;\n      }\n    }\n  },\n  methods: {\n    onImgError: function onImgError(event) {\n      this.localSrc = null;\n      this.$emit(EVENT_NAME_IMG_ERROR, event);\n    },\n    onClick: function onClick(event) {\n      this.$emit(EVENT_NAME_CLICK, event);\n    }\n  },\n  render: function render(h) {\n    var _class2;\n\n    var variant = this.computedVariant,\n        disabled = this.disabled,\n        rounded = this.computedRounded,\n        icon = this.icon,\n        src = this.localSrc,\n        text = this.text,\n        fontStyle = this.fontStyle,\n        marginStyle = this.marginStyle,\n        size = this.computedSize,\n        button = this.button,\n        type = this.buttonType,\n        badge = this.badge,\n        badgeVariant = this.badgeVariant,\n        badgeStyle = this.badgeStyle;\n    var link = !button && isLink(this);\n    var tag = button ? BButton : link ? BLink : 'span';\n    var alt = this.alt;\n    var ariaLabel = this.ariaLabel || null;\n    var $content = null;\n\n    if (this.hasNormalizedSlot()) {\n      // Default slot overrides props\n      $content = h('span', {\n        staticClass: 'b-avatar-custom'\n      }, [this.normalizeSlot()]);\n    } else if (src) {\n      $content = h('img', {\n        style: variant ? {} : {\n          width: '100%',\n          height: '100%'\n        },\n        attrs: {\n          src: src,\n          alt: alt\n        },\n        on: {\n          error: this.onImgError\n        }\n      });\n      $content = h('span', {\n        staticClass: 'b-avatar-img'\n      }, [$content]);\n    } else if (icon) {\n      $content = h(BIcon, {\n        props: {\n          icon: icon\n        },\n        attrs: {\n          'aria-hidden': 'true',\n          alt: alt\n        }\n      });\n    } else if (text) {\n      $content = h('span', {\n        staticClass: 'b-avatar-text',\n        style: fontStyle\n      }, [h('span', text)]);\n    } else {\n      // Fallback default avatar content\n      $content = h(BIconPersonFill, {\n        attrs: {\n          'aria-hidden': 'true',\n          alt: alt\n        }\n      });\n    }\n\n    var $badge = h();\n    var hasBadgeSlot = this.hasNormalizedSlot(SLOT_NAME_BADGE);\n\n    if (badge || badge === '' || hasBadgeSlot) {\n      var badgeText = badge === true ? '' : badge;\n      $badge = h('span', {\n        staticClass: 'b-avatar-badge',\n        class: _defineProperty({}, \"badge-\".concat(badgeVariant), badgeVariant),\n        style: badgeStyle\n      }, [hasBadgeSlot ? this.normalizeSlot(SLOT_NAME_BADGE) : badgeText]);\n    }\n\n    var componentData = {\n      staticClass: CLASS_NAME,\n      class: (_class2 = {}, _defineProperty(_class2, \"\".concat(CLASS_NAME, \"-\").concat(size), size && SIZES.indexOf(size) !== -1), _defineProperty(_class2, \"badge-\".concat(variant), !button && variant), _defineProperty(_class2, \"rounded\", rounded === true), _defineProperty(_class2, \"rounded-\".concat(rounded), rounded && rounded !== true), _defineProperty(_class2, \"disabled\", disabled), _class2),\n      style: _objectSpread(_objectSpread({}, marginStyle), {}, {\n        width: size,\n        height: size\n      }),\n      attrs: {\n        'aria-label': ariaLabel || null\n      },\n      props: button ? {\n        variant: variant,\n        disabled: disabled,\n        type: type\n      } : link ? pluckProps(linkProps, this) : {},\n      on: button || link ? {\n        click: this.onClick\n      } : {}\n    };\n    return h(tag, componentData, [$content, $badge]);\n  }\n});"],"sourceRoot":""}