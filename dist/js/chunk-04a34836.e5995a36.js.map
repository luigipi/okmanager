{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.object.values.js","webpack:///./src/views/apps/settings/Email.vue?a33e","webpack:///src/views/apps/settings/Email.vue","webpack:///./src/views/apps/settings/Email.vue?5982","webpack:///./src/views/apps/settings/Email.vue"],"names":["$","$values","values","target","stat","O","render","_vm","this","_h","$createElement","_c","_self","on","$event","preventDefault","saveSettings","apply","arguments","attrs","staticClass","selectOption","_v","model","value","details","callback","$$v","$set","expression","editor","editorConfig","directives","name","rawName","modifiers","staticRenderFns","components","ClassicEditor","BRow","BCol","BFormGroup","BFormInput","BForm","BFormTextarea","BButton","BCard","BSpinner","Ripple","data","settings","editorData","modules","toolbar","loading","methods","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","allowOutsideClick","result","component"],"mappings":"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","file":"js/chunk-04a34836.e5995a36.js","sourcesContent":["var $ = require('../internals/export');\nvar $values = require('../internals/object-to-array').values;\n\n// `Object.values` method\n// https://tc39.github.io/ecma262/#sec-object.values\n$({ target: 'Object', stat: true }, {\n  values: function values(O) {\n    return $values(O);\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.saveSettings.apply(null, arguments)}}},[_c('b-card',{attrs:{\"title\":\"Messaging\"}},[_c('b-row',[_c('b-col',{attrs:{\"md\":\"12\"}},[_c('b-form-group',{attrs:{\"label\":\"Channel\",\"label-for\":\"mc-channel\"}},[_c('select',{staticClass:\"form-control\",attrs:{\"name\":\"channel\",\"id\":\"channel\"},on:{\"change\":function($event){return _vm.selectOption($event)}}},[_c('option',{attrs:{\"value\":\"\"}},[_vm._v(\"-- Select --\")]),_c('option',{attrs:{\"value\":\"email\"}},[_vm._v(\"Email\")]),_c('option',{attrs:{\"value\":\"push_notification\"}},[_vm._v(\"Push Notification\")])])])],1),_c('b-col',{attrs:{\"md\":\"12\"}},[_c('b-form-group',{attrs:{\"label\":\"Customer Category\",\"label-for\":\"mc-category\"}},[_c('select',{staticClass:\"form-control\",attrs:{\"name\":\"category\",\"id\":\"category\"},on:{\"change\":function($event){return _vm.selectOption($event)}}},[_c('option',{attrs:{\"value\":\"\"}},[_vm._v(\"---Select---\")]),_c('option',{attrs:{\"value\":\"test_mail\"}},[_vm._v(\"Test Mail\")]),_c('option',{attrs:{\"value\":\"all\"}},[_vm._v(\"All Customers\")]),_c('option',{attrs:{\"value\":\"migration\"}},[_vm._v(\"Account Migration\")]),_c('option',{attrs:{\"value\":\"active\"}},[_vm._v(\"Active Customers\")]),_c('option',{attrs:{\"value\":\"rejected\"}},[_vm._v(\"Rejected KYC Customers\")]),_c('option',{attrs:{\"value\":\"pending_kyc\"}},[_vm._v(\"Pending KYC\")]),_c('option',{attrs:{\"value\":\"no_kyc\"}},[_vm._v(\"No KYC\")]),_c('option',{attrs:{\"value\":\"dormant\"}},[_vm._v(\"Dormant Accounts\")])])])],1),_c('b-col',{attrs:{\"md\":\"12\"}},[_c('b-form-group',{attrs:{\"label\":\"Subject\",\"label-for\":\"mc-subject\"}},[_c('b-form-input',{attrs:{\"id\":\"mc-subject\",\"placeholder\":\"Subject\"},model:{value:(_vm.details.subject),callback:function ($$v) {_vm.$set(_vm.details, \"subject\", $$v)},expression:\"details.subject\"}})],1)],1),_c('b-col',{attrs:{\"md\":\"12\"}},[_c('b-form-group',{attrs:{\"label\":\"Message\",\"label-for\":\"mc-message\"}},[_c('ckeditor',{attrs:{\"editor\":_vm.editor,\"config\":_vm.editorConfig},model:{value:(_vm.details.message),callback:function ($$v) {_vm.$set(_vm.details, \"message\", $$v)},expression:\"details.message\"}})],1)],1),_c('b-col',{attrs:{\"md\":\"12\"}},[_c('b-button',{directives:[{name:\"ripple\",rawName:\"v-ripple.400\",value:('rgba(255, 255, 255, 0.15)'),expression:\"'rgba(255, 255, 255, 0.15)'\",modifiers:{\"400\":true}}],staticClass:\"mr-1\",attrs:{\"type\":\"submit\",\"variant\":\"primary\"}},[_vm._v(\" Send \"),_c('b-spinner',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"variant\":\"light\",\"small\":\"\"}})],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <b-form @submit.prevent=\"saveSettings\">\n    <b-card\n      title=\"Messaging\"\n    >\n      <b-row>\n        <b-col md=\"12\">\n          <b-form-group\n            label=\"Channel\"\n            label-for=\"mc-channel\"\n          >\n            <select name=\"channel\" id=\"channel\" class=\"form-control\" @change=\"selectOption($event)\">\n              <option value=\"\">-- Select --</option>\n              <option value=\"email\">Email</option>\n              <option value=\"push_notification\">Push Notification</option>\n            </select>\n          </b-form-group>\n        </b-col>\n        <b-col md=\"12\">\n          <b-form-group\n            label=\"Customer Category\"\n            label-for=\"mc-category\"\n          >\n            <select name=\"category\" id=\"category\" class=\"form-control\" @change=\"selectOption($event)\">\n              <option value=\"\">---Select---</option>\n              <option value=\"test_mail\">Test Mail</option>\n              <option value=\"all\">All Customers</option>\n              <option value=\"migration\">Account Migration</option>\n              <option value=\"active\">Active Customers</option>\n              <option value=\"rejected\">Rejected KYC Customers</option>\n              <option value=\"pending_kyc\">Pending KYC</option>\n              <option value=\"no_kyc\">No KYC</option>\n              <option value=\"dormant\">Dormant Accounts</option>\n            </select>\n          </b-form-group>\n        </b-col>\n\n        <b-col md=\"12\">\n          <b-form-group\n            label=\"Subject\"\n            label-for=\"mc-subject\"\n          >\n            <b-form-input\n              id=\"mc-subject\"\n              v-model=\"details.subject\"\n              placeholder=\"Subject\"\n            />\n          </b-form-group>\n        </b-col>\n\n        <b-col md=\"12\">\n          <b-form-group\n            label=\"Message\"\n            label-for=\"mc-message\" \n          >\n            <ckeditor :editor=\"editor\" v-model=\"details.message\" :config=\"editorConfig\"></ckeditor>\n          </b-form-group>\n        </b-col>\n\n        <b-col md=\"12\">\n          <b-button\n            v-ripple.400=\"'rgba(255, 255, 255, 0.15)'\"\n            type=\"submit\"\n            variant=\"primary\"\n            class=\"mr-1\"\n          >\n            Send\n            <b-spinner\n              v-show=\"loading\"\n              variant=\"light\"\n              small\n            />\n          </b-button>\n        </b-col>\n      </b-row>\n    </b-card>\n\n  </b-form>\n</template>\n\n<script>\nimport {\n  BRow, BCol, BFormGroup, BFormInput, BForm, BButton, BCard, BSpinner, BFormTextarea,\n} from 'bootstrap-vue'\nimport Ripple from 'vue-ripple-directive'\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic';\nimport Swal from 'sweetalert2';\n\nexport default {\n  components: {\n    ClassicEditor,\n    BRow,\n    BCol,\n    BFormGroup,\n    BFormInput,\n    BForm,\n    BFormTextarea,\n    BButton,\n    BCard,\n    BSpinner,\n  },\n  directives: {\n    Ripple,\n  },\n  data() {\n    return {\n      settings: {},\n      editor: ClassicEditor,\n      editorData: '',\n      editorConfig: {\n        modules: {\n          toolbar: '#toolbar',\n        },\n      }, \n     details: {\n       subject: '',\n       message: ''\n     },\n      loading: false,\n    }\n  },\n  methods: {\n    saveSettings() {\n      Swal.fire({\n        title: \"Are you sure?\",\n        text: \"You won't be able to revert this!\",\n        icon: \"warning\",\n        showCancelButton: true,\n        confirmButtonColor: \"#3085d6\",\n        cancelButtonColor: \"#c91a4b\",\n        confirmButtonText: \"Yes! Proceed\",\n        allowOutsideClick: false,\n      })\n      .then((result) => {\n        if (result.value) {\n          this.loading = true\n          this.$http.post(`${this.$url}/messaging/send-email`, this.details)\n            .then(response => {\n              if (response.data.status) {\n                // window.location.reload()\n                Swal.fire({\n                  icon: 'success',\n                  text: 'Email successfully sent',\n                })\n              }\n            })\n            .catch((err) => {\n              if(err.response.data) {\n                let message\n                if(err.response.data.errors) {\n                  let errors = err.response.data.errors\n                  let errorList = Object.values(errors)\n                  errorList.map(msg => {\n                    message = msg\n                  })\n                }\n                Swal.fire({\n                  icon: 'error',\n                  text: message || err.response.data.message\n                })\n              }\n            })\n            .finally(() => {\n              this.loading = false\n            })\n        }\n      })\n    },\n    selectOption(event) {\n      const {name, value} = event.target\n      this.details[name] = value\n    }\n  },\n}\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Email.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Email.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Email.vue?vue&type=template&id=0a67acba&\"\nimport script from \"./Email.vue?vue&type=script&lang=js&\"\nexport * from \"./Email.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}